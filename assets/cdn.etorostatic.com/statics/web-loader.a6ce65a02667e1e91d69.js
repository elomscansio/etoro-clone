!function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.apply(this,arguments)};Object.create;function t(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}Object.create;"function"==typeof SuppressedError&&SuppressedError;var n=function(){function e(t){this.config=t,this.id=e.flowId++,this.resources={},this.markers={},this.measurements={},this.additionalInfo={},this.name=t.name,this.domain=t.domain||"Infra",this.flowType=t.flowType||"Custom",t.measurements||(t.measurements=[]),this.addAdditionalInfo("requestsNumber",0),t.measurements.push(["".concat(this.name,"_Flow"),"flowStart_".concat(this.name),"flowEnd_".concat(this.name)])}return Object.defineProperty(e.prototype,"configHasMarkers",{get:function(){var e,t;return(null===(t=null===(e=this.config)||void 0===e?void 0:e.markers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"configHasMeasurements",{get:function(){var e,t;return(null===(t=null===(e=this.config)||void 0===e?void 0:e.measurements)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype.start=function(){var e;if(null===(e=window.performance)||void 0===e?void 0:e.mark){var t=performance.mark("etoro:flowStart_".concat(this.name));this.startTime=Math.floor(t.startTime)}},e.prototype.stop=function(){var e;if(null===(e=window.performance)||void 0===e?void 0:e.mark){var t=performance.mark("etoro:flowEnd_".concat(this.name));this.duration=Math.floor(t.startTime-this.startTime)}return this.getData()},e.prototype.getMeasurements=function(){return this.configHasMeasurements?this.config.measurements:[]},e.prototype.getLogOptions=function(){var e,t;return{webvitals:null===(e=this.config)||void 0===e?void 0:e.webvitals,navigation:null===(t=this.config)||void 0===t?void 0:t.navigation}},e.prototype.handleResourceTiming=function(e){var t;if(e){var n=e.name,i=e.startTime,r=e.duration,o=e.transferSize,a=((null===(t=this.config)||void 0===t?void 0:t.resources)||[]).find((function(e){return e.regex.test(n)}));a&&i>0&&(this.resources[a.name]={name:a.name,startTime:Math.floor(i),loadTime:Math.floor(r),transferSize:Math.floor(o/1024),url:n}),this.additionalInfo.requestsNumber++}},e.prototype.handleUserTiming=function(e){if(e){var t=e.name,n=e.startTime,i=e.duration,r=this.getMeasurements();(null==r?void 0:r.length)&&n>0&&r.find((function(e){return(null==e?void 0:e[0])===t}))&&(this.measurements[t]={duration:Math.floor(i),startTime:Math.floor(n),detail:e.detail})}},e.prototype.handleMark=function(e){var t;if(e){var n=e.name,i=e.startTime,r=null===(t=this.config)||void 0===t?void 0:t.markers;(null==r?void 0:r.length)&&i>0&&r.includes(null==n?void 0:n.replace("etoro:",""))&&(this.markers[n]={startTime:Math.floor(i),duration:Math.floor(i-this.startTime),detail:e.detail})}},e.prototype.addAdditionalInfo=function(e,t){this.additionalInfo[e]=t},e.prototype.getData=function(){return{flowId:this.id,flowName:this.name,flowType:this.flowType,domain:this.domain,startTime:this.startTime,duration:this.duration,resources:this.resources,markers:this.markers,measurements:this.measurements,additionalInfo:this.additionalInfo}},e.flowId=1,e}(),i=window,r=null==i?void 0:i.navigator,o=null==i?void 0:i.performance,a=function(){function a(e){var t=this;if(this.map=new Map,this.isObserverSupported="PerformanceObserver"in i,this.isPerformanceSupported=!!(o&&o.getEntries&&o.mark&&o.measure),this.entryTypes=this.isObserverSupported?["navigation","resource","paint","largest-contentful-paint"].filter((function(e){return PerformanceObserver.supportedEntryTypes.includes(e)})):[],this.webvitals={},this.leavingBeaconHandler=function(){var e=t.leavingBeacon,n=t.map.get(e.flowName),i={initialLoadingSnapshot:e&&(null==n?void 0:n.getData())};i.ApplicationIdentifier=t.appName,i.ApplicationVersion=t.appVersion,t.send(t.prepareToSend(i,"Session Start","info",{report:!0,navigation:!0,webvitals:!0}))},e||(e={}),this.isPerformanceSupported&&this.isObserverSupported){var n=e.initFlow;n&&(this.startFlow(n),this.getInitialEntries()),e.leavingBeacon&&(this.leavingBeacon=e.leavingBeacon,setTimeout((function(){t.leavingBeaconHandler()}),2500))}}return a.prototype.startFlow=function(e){var t=null==e?void 0:e.name;if(t){this.map.has(t);var i=new n(e);this.map.set(t,i),1===this.map.size&&(this.initObserver(),this.deviceInfo=this.deviceInfo||this.getDeviceInfo()),i.start()}},a.prototype.endFlow=function(e,n){var i=this,r=this.map.get(e);if(!r)return{};n=Object.assign({report:!0},r.getLogOptions(),n);var o=r.stop();r.getMeasurements().forEach((function(n){if(3===n.length){var r=t(n,3),o=r[0],a=r[1],s=r[2];i.measure(o,a,s,e)}}));var a=this.prepareToSend(o,"Flow completed","info",n);return(null==n?void 0:n.report)&&this.send(a),this.removeFlow(e),a},a.prototype.removeFlow=function(e){this.map.get(e)&&(this.map.delete(e),0===this.map.size&&this.stopObserver())},a.prototype.hasFlow=function(e){return this.map.has(e)},a.prototype.addFlowData=function(e,t,n){var i=this.map.get(e);null==i||i.addAdditionalInfo(t,n)},a.prototype.mark=function(e,t){if(this.isPerformanceSupported){var n=performance.mark("etoro:".concat(e),t);return this.map.forEach((function(e){return e.handleMark(n)})),n}},a.prototype.measure=function(e,t,n,i){if(this.isPerformanceSupported){var r=this.safeMeasure(e,t,n);if(r)if(i){var o=this.map.get(i);null==o||o.handleUserTiming(r)}else this.map.forEach((function(e){return e.handleUserTiming(r)}));return r}},a.prototype.bindLogger=function(e){this.logger=e},a.prototype.initObserver=function(){var e=this;if(!this.po&&this.isObserverSupported){var t=this.entryTypes;t.length>0&&(this.po=new PerformanceObserver((function(t){Promise.resolve().then((function(){return e.handleEntries(t.getEntries())}))})),this.po.observe({entryTypes:t}))}},a.prototype.stopObserver=function(){var e;null===(e=this.po)||void 0===e||e.disconnect(),this.po=null},a.prototype.handleEntries=function(e){var t=this;e.forEach((function(e){switch(e.entryType){case"navigation":t.navigation=t.getNavigationTiming(e);break;case"paint":case"largest-contentful-paint":t.addPaintTiming(e,t.webvitals);break;case"resource":t.map.forEach((function(t){return t.handleResourceTiming(e)}))}}))},a.prototype.getNavigationTiming=function(e){if(e&&e.responseStart>0&&e.responseStart<performance.now()){var t=e.activationStart||0;return{ttfb:Math.max(Math.floor(e.responseStart-t),0),type:e.type,domainLookupStart:Math.floor(e.domainLookupStart),domInteractive:Math.floor(e.domInteractive),loadEventEnd:Math.floor(e.loadEventEnd),transferSize:e.transferSize}}return{}},a.prototype.addPaintTiming=function(e,t){if(e&&t){var n=e.name,i=e.startTime,r=e.entryType,o={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},a=o[n]||o[r];a&&i>0&&(t[a]=Math.floor(i))}},a.prototype.safeMeasure=function(e,t,n){try{return performance.measure(e,"etoro:".concat(t),"etoro:".concat(n))}catch(e){}},a.prototype.getDeviceInfo=function(){var e,t=this.getNetworkInformation();if(r){var n=r.deviceMemory||0,i=r.hardwareConcurrency||0;return{os:(null===(e=r.userAgentData)||void 0===e?void 0:e.platform)||r.platform,deviceMemory:n,hardwareConcurrency:i,networkInfo:t}}return{networkInfo:t}},a.prototype.getNetworkInformation=function(){if("connection"in r&&"object"==typeof r.connection){var e=r.connection;return{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData}}return{}},a.prototype.prepareToSend=function(t,n,i,r){return void 0===r&&(r={}),e({categories:"PerfMonitor",message:n,level:i,navigation:(null==r?void 0:r.navigation)?this.navigation:void 0,webvitals:(null==r?void 0:r.webvitals)?this.webvitals:void 0,deviceInfo:this.deviceInfo,domain:"Infra"},t)},a.prototype.send=function(e){var t;if(!this.logger&&(null===(t=this.leavingBeacon)||void 0===t?void 0:t.url)){var n=new XMLHttpRequest;e.PageUrl=i.location.pathname,n.open("POST",this.leavingBeacon.url),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({LogEvents:[this.firstLevelLogs(e)],MonitorEvents:[]}))}else this.logger.info(e)},a.prototype.firstLevelLogs=function(e){var t={};return e&&"object"==typeof e?(Object.keys(e).forEach((function(n){var i=n.replace(/(?:^):?([a-z])/g,(function(e){return e.toUpperCase()}));t[i]=e[n]})),t):t},a.prototype.getInitialEntries=function(){var e=this;if(this.isPerformanceSupported){var t=o.getEntries().filter((function(t){return e.entryTypes.includes(t.entryType)})),n=function(){t.length&&(e.handleEntries(t.splice(0,50)),setTimeout(n,0))};n()}},a}(),s=window.acceleratorDict={};function l(e){var t;null===(t=window.eToroPerf)||void 0===t||t.mark(e)}function u(e){var t=e.method||"GET",n=e.url;if(e.startTime=new Date,!e.simulated){var i=new XMLHttpRequest;i.open(t,n,!0);var r=[],o=function(e){i[e]=function(){r.push([e])}};return o("onload"),o("onerror"),o("onabort"),s["u-"+n+"m-"+t]={xhr:i,config:e,stubs:r},/^\//.test(n)&&i.setRequestHeader("Accept","application/json, text/plain, */*"),i.send(),i}s["u-"+n+"m-"+t]={config:e}}var p=window,c=p.navigator,d=p.eBuildConfig,f=d.buildVersion,m=d.monitoringApi,g=d.isWrapper,v=d.staticApiUrl,h=d.etoroCdnUrl,w=d.machineUrl,y=d.maintenanceCheckUrl,T=d.chinaMonitoringApi,b=d.chinaMaintenanceCheckUrl,S=d.indonesiaMonitoringApi,E=d.indonesiaMaintenanceCheckUrl,k=d.ccmConfig,I=d.xCountry,M=d.sessionGuid,R=d.silentLoginData,x=d.shouldAccelerateNetwork,A=d.ngjsAppModuleName,L=g?c.userAgent.includes("Android")?"ReToroAndroid":"ReToroIOS":"ReToro",C=p.localConfig||(p.localConfig={}),O=p.requireStubs||(p.requireStubs=[]),P=h+"/web-client/img/",_=!1,j=f,D=m,N=y;delete p.eBuildConfig,p.onerror=function(e,t,n,i,r){(t||n||i||r)&&B("[ERROR] - uncaught exception "+e+" url:"+t+"("+n+","+i+")"+(r&&r.stack?" stack:"+r.stack:""))},/^(US|AS|PR|GU|MP|VI|UM)$/.test(I)&&(C.defaultLocale="en-us",C.isUsIp=!0),/^(ID)$/i.test(I)&&(S&&(D=S),E&&(N=E)),/^(CN)$/i.test(I)&&(j+="_China",T&&(D=T),b&&(N=b),C.loadGA=!1,C.ApplicationLayoutClassName="china-product",C.defaultLocale="zh-cn",C.oppositeColors=!0,C.ApplicationVersion=j,C.isToaConnectEnabled=!1,C.isFacebookConnectEnabled=!1,C.isGoogleConnectEnabled=!1,C.isChinaSocial=!0,C.iOSAppLink="https://itunes.apple.com/cn/app/etoro-social-trading/id674984916",C.androidAppLink="/site/downloads/android-release.apk",C.androidAppDownloadText="chinaDownloadApp",C.isChinaPayment=!0,C.isKYCAddressAutoCompleteEnable=!1,C.showCryptoInfo=!1,C.liveAgentDeploymentId="5721p000000GqGh",C.disableRegistratoinLink=!0);var q="".concat(D,"/api/v2/monitoring?applicationIdentifier=").concat(L);p.eToroSessionGuid=M,p.eToroPerf=function(e,t,n){return new a({appName:e,appVersion:n,leavingBeacon:{url:t,flowName:"initialLoading"},initFlow:{name:"initialLoading",domain:"Infra",flowType:"InitialLoading",navigation:!0,webvitals:!0,resources:[{name:"runtime",regex:new RegExp("/runtime(.[^/.]+)?.js")},{name:"main",regex:new RegExp("/main(.[^/.]+)?.js")},{name:"legacybundle",regex:new RegExp("/legacy-bundle(.[^/.]+)?.js")},{name:"webloader",regex:new RegExp("/web-loader(.[^/.]+)?.js")},{name:"polyfills",regex:new RegExp("/polyfills(.[^/.]+)?.js")},{name:"styles",regex:new RegExp("/styles(.[^/.]+)?.css")},{name:"style",regex:new RegExp("css_files/?p[]=styles/style.css")},{name:"countries",regex:new RegExp("/api/account/v1/user/geolocation/countries")},{name:"instrumentsGroups",regex:new RegExp("/sapi/app-data/web-client/app-data/instruments-groups.json")},{name:"instrumentsMetadata",regex:new RegExp("/sapi/instrumentsmetadata/V1.1/instruments/bulk")},{name:"instruments",regex:new RegExp("/sapi/trade-real/instruments/bulk-slim")},{name:"etoroApp",regex:new RegExp("js_require/?r[]=infrastruct/libs/requirejs/etoro-require")},{name:"locales",regex:new RegExp("/sapi/app-data/web-client-locales/[^/]+.js")},{name:"browserSupport",regex:new RegExp("js_files/?m[]=tools/browser-support")},{name:"appsettings",regex:new RegExp("/etag-api/configuration/v2/appsettings/etoro/")},{name:"logindata",regex:new RegExp("/api/logindata/v1.1/logindata")}],markers:["requireJSStart","requireJSEnd","runMainTS","angularBootstrap","sessionRestoreStart","instrumentsFactoryInitStart","instrumentsFactoryInitEnd","sessionRestoreEnd"],measurements:[]}})}(L,q,j),g||(p.eToroAssetsPath="".concat(w,"/statics/")),p.onModuleError=function(e){var t=e.requireType,n=function(e){return JSON.stringify(e)};B("timeout"===t?"require timeout in modules: "+n(e.requireModules):"scripterror"==t?"require script error in modules:"+n(e.requireModules||[]):"require other error , type:"+t+",modules:"+n(e.requireModules||[])+" ,OriginalMsg:"+e.toString())},p.addInitital=function(e){e.initialParams=R,delete p.addInitital};var B=function(e,t,n,i){return void 0===i&&(i="ReToro"),function(r,o){var a,s;void 0===o&&(o="error"),(new Image).src=e+"&LogEvents="+encodeURIComponent(JSON.stringify([{ApplicationIdentifier:i,ApplicationVersion:t,Categories:"applicationCriticalException",Level:o,Message:null==r?void 0:r.split("http://errors.angular")[0],SessionGuid:n||"None",Type:"log"}])),null===(s=null===(a=null===window||void 0===window?void 0:window.console)||void 0===a?void 0:a[o])||void 0===s||s.call(a,r)}}(q,j,M);p.singleLog=B,p.eToroLoadPerformance={appLoadStartTime:(new Date).getTime(),appBootstrapStart:null,appRestoreStart:null,appRenderStarAfterSessionRestore:null,setTime:function(e){this[e]=(new Date).getTime()},toJson:function(){var e=(new Date).getTime();return{scriptLoadDuration:this._calculateTime(this.appBootstrapStart,this.appLoadStartTime),bootstrapDuration:this._calculateTime(this.appRestoreStart,this.appBootstrapStart),restoreDuration:this._calculateTime(this.appRenderStarAfterSessionRestore,this.appRestoreStart),firstPageRenderFromLoadStart:this._calculateTime(e,this.appLoadStartTime),firstPageRenderFromRestoreEnd:this._calculateTime(e,this.appRenderStarAfterSessionRestore)}},_calculateTime:function(e,t){return e&&t?e-t:"unavailable"}},function(e,t,n,i,r,o){var a=null==e?void 0:e.AppSettings;if(a&&(u({url:n+"/etag-api/configuration/v2/appsettings/etoro/"+t,simulated:!0,body:e,statusCode:200}),o)){u({url:n+"/api/account/v1/user/geolocation/countries"+v("countries","?")}),u({url:n+"/sapi/app-data/web-client/app-data/instruments-groups.json"+v("instruments_groups","?")}),u({url:"/sapi/trade-real/instruments?InstrumentDataFilters=Activity,Rates,ActivityInExchange"}),u({url:i+"/maintenance.json"}),u({url:n+"/sapi/candles/closingprices.json"+v("closing_prices","?")});var s=1;a.publicInstrumentsTotalBulks&&!isNaN(a.publicInstrumentsTotalBulks)&&(s=a.publicInstrumentsTotalBulks);for(var l=0;l<s;l++){var p=l+1,c="instruments_trading_bulk_p"+p+"_t"+s,d="/sapi/trade-real/instruments/bulk-slim?InstrumentDataFilters=TradingData&bulkNumber="+p,f="&totalBulks="+s,m="&totalBulks="+s;u({url:n+("/sapi/instrumentsmetadata/V1.1/instruments/bulk?bulkNumber="+p)+v("instruments_trading_metadata_bulk_p"+p+"_t"+s,"&")+m}),u({url:n+d+v(c,"&")+f})}}var g=function(e){return(new Image).src=e};function v(e,t){return e="resourcesVersion.".concat(e),"false"!==a[e+"_enabled"]?t+"cv="+a[e]:""}g(r+"Royal Oak.png"),g(r+"preloader.png"),g(r+"sprite.png"),g(r+"avatar.png")}(k,j,v,N,P,x),l("requireJSStart"),O.push([["angular",A],function(e,t){var n,i="EToroResources",r=function(){if(!_){l("runMainTS");try{_=!0,e.element("body").append("<app-root></app-root>"),e.element(".isp-2").css("display","none"),null===window||void 0===window||window.addInitital(t);var i=window.etoroUpgradeVar||(window.etoroUpgradeVar={});i.app=t,i.angular=e,i.isNg1Loaded=!0,i.isNg2Loaded&&i.ngInit(),n&&clearTimeout(n)}catch(e){B("application bootstrap error"+e)}}};l("requireJSEnd"),clearTimeout(F),window[i]?r():(n=setTimeout((function(){B("resources timeout"),r()}),1e4),window[i]={update:function(e,t){clearTimeout(n),window[i][e]=t,r()},onLoad:function(){clearTimeout(n),r()}})}]);var F=setTimeout((function(){_||B("script timeout - unable to load assets")}),1e4)}();