"use strict";(self.webpackChunketoro=self.webpackChunketoro||[]).push([["libs_settings_src_index_ts"],{3835:(In,Gt,c)=>{c.r(Gt),c.d(Gt,{AvatarUploadComponent:()=>Ne.i,ChangePasswordComponent:()=>_e,DefaultHomePageService:()=>Ye.P,EtoroSettingsModule:()=>Te,GenerateTaxReportComponent:()=>ln,GeneratedKeysComponent:()=>Se,LoginPopupDarkModeExpService:()=>Mt.n,LostPhoneComponent:()=>gu._,LostPhoneNumberComponent:()=>Ce.R,LostPhoneService:()=>pu.E,NotificationSettingsService:()=>du.S,SettingsComponent:()=>lu,SettingsModule:()=>Te,TradingPageService:()=>xn.u,UserSettingsService:()=>lt.A,VerifyEmailNudgeComponent:()=>Ve.w,VerifyEmailNudgeModule:()=>ve.Z,VerifyEmailNudgeService:()=>Bt.g});var d=c(60316),C=c(34456),at=c(15995),rt=c(55731),t=c(37580);let Rn=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({providers:[rt.R7,rt.sj],imports:[d.MD]}),a})();var m=c(77280),An=c(41882),Fn=c(42800),he=c(27382),vt=c(50824),En=c(64796),Dn=c(87868),Un=c(15574),$n=c(44774),Gn=c(13544),jn=c(48672),Bn=c(79594),Vn=c(72180);let Nn=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.MD,vt.Yc,he.D]}),a})();var Xn=c(12093),fe=c(27098),Ln=c(96897),Yn=c(57669),Hn=c(3305),k=c(24191),h=c(91013);function zn(e,a){if(1&e&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.JRh(t.bMT(2,1,"changePassword."+o.getErrorKey(o.errorMessage)))}}function Kn(e,a){1&e&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationPasswordStrength")))}function Jn(e,a){1&e&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationOldPasswordMissing")))}function Wn(e,a){if(1&e&&(t.j41(0,"div",17),t.DNE(1,Jn,3,3,"span",18),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",null==o.currentPassword||null==o.currentPassword.errors?null:o.currentPassword.errors.required)}}function qn(e,a){if(1&e&&(t.j41(0,"span",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG();t.HbH(o.passwordStrength),t.R7$(1),t.JRh(t.bMT(2,3,"changePassword."+o.passwordStrength))}}function Qn(e,a){1&e&&(t.j41(0,"span",27),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationPasswordMissing")))}function Zn(e,a){1&e&&(t.j41(0,"span",28),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationPasswordTooLong")))}function ti(e,a){1&e&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationPasswordTooShort")))}function ei(e,a){1&e&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationPasswordStrength")))}function ni(e,a){1&e&&(t.j41(0,"span",31),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"settingsValidatePassword.required")))}function ii(e,a){if(1&e&&(t.j41(0,"div",21),t.DNE(1,Qn,3,3,"span",22),t.DNE(2,Zn,3,3,"span",23),t.DNE(3,ti,3,3,"span",24),t.DNE(4,ei,3,3,"span",25),t.DNE(5,ni,3,3,"span",26),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",null==o.newPassword?null:o.newPassword.errors.required),t.R7$(1),t.Y8G("ngIf",null==o.newPassword?null:o.newPassword.errors.maxlength),t.R7$(1),t.Y8G("ngIf",null==o.newPassword?null:o.newPassword.errors.minlength),t.R7$(1),t.Y8G("ngIf",null==o.newPassword?null:o.newPassword.errors.pattern),t.R7$(1),t.Y8G("ngIf",null==o.newPassword?null:o.newPassword.errors.isLowPassword)}}function oi(e,a){1&e&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.match")))}function ai(e,a){1&e&&(t.j41(0,"span",35),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationConfirmPasswordMissing")))}function ri(e,a){1&e&&(t.j41(0,"span",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"changePassword.validationPasswordNotMatch")))}function si(e,a){if(1&e&&(t.j41(0,"div",21),t.DNE(1,ai,3,3,"span",33),t.DNE(2,ri,3,3,"span",34),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",null==o.newPasswordConfirm||null==o.newPasswordConfirm.errors?null:o.newPasswordConfirm.errors.required),t.R7$(1),t.Y8G("ngIf",null==o.form.errors?null:o.form.errors.notEqual)}}let _e=(()=>{var e;class a{constructor(n,i,r){this.$rootScope=n,this.passwordService=i,this.$analytics=r,this.onClose=new t.bkB,this.form=this._createForm(i.validations)}get currentPassword(){return this.form.get("currentPassword")}get newPassword(){return this.form.get("newPassword")}get newPasswordConfirm(){return this.form.get("newPasswordConfirm")}get passwordStrength(){return this.passwordService.getStrength(this.form.get("newPassword").value)}ngOnInit(){this.$analytics.eventTrack("Change Password  - Page View")}getErrorKey(n){return"string"==typeof n?n.replace(/_/g,""):""}close(){this.$rootScope.$emit("app:keyboard:hide"),this.onClose.emit(),this.$analytics.eventTrack("Change Password - Close Page")}submit(){if(this.form.controls.currentPassword.markAsDirty(),this.form.controls.newPassword.markAsDirty(),this.form.controls.newPasswordConfirm.markAsDirty(),this.form.valid&&"weak"!==this.passwordStrength&&!this.isProcessing){const n=this.form.value;this.isProcessing=!0,this.errorMessage="",this.passwordService.change(n.currentPassword,n.newPassword).then(()=>{this._sentSuccessHandler(),this.isProcessing=!1}).catch(i=>{this._sentErrorHandler(i),this.isProcessing=!1})}}_sentSuccessHandler(){this.$rootScope.$emit("app:keyboard:hide"),this.onClose.emit(),this.$analytics.eventTrack("Change Password  - Success")}_sentErrorHandler(n){this.errorMessage=n.type,this.$analytics.eventTrack("Change Password  - Error")}_createForm(n){return new C.J3({currentPassword:new C.hs("",[C.k0.required]),newPassword:new C.hs("",[C.k0.required,C.k0.minLength(n.minlength),C.k0.maxLength(n.maxlength),C.k0.pattern(n.regex),(0,Yn.W2)(this.passwordService)]),newPasswordConfirm:new C.hs("",[C.k0.required])},{validators:this._comparePasswords})}_comparePasswords(n){const i=n.get("newPassword"),r=n.get("newPasswordConfirm");return i&&r&&i.value!==r.value?{notEqual:!0}:null}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU("$rootScope"),t.rXU(Hn.r),t.rXU(k.c))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-change-password"]],outputs:{onClose:"onClose"},decls:27,vars:30,consts:[["automation-id","change-password-main-title",1,"pop-title"],["automation-id","change-password-close-btn",1,"close","sprite",3,"click"],["name","changePwdForm",1,"pop-content",3,"formGroup","ngSubmit"],["automation-id","change-password-subtitle",1,"pop-subtitle",3,"innerHTML"],["automation-id","change-password-err-msg","class","error",4,"ngIf"],[1,"change-password-fields"],["formControlName","currentPassword","automation-id","change-password-curr-password-textbox","id","currentPassword","type","password",1,"change-password-input",3,"placeholder"],["class","error",4,"ngIf"],[1,"change-password-input-strength-row"],["formControlName","newPassword","automation-id","change-password-new-password-textbox","id","newPassword","type","password",1,"change-password-input",3,"placeholder"],["automation-id","change-password-strength-tag",3,"class",4,"ngIf"],["class","error form-error-wrapper",4,"ngIf"],["formControlName","newPasswordConfirm","automation-id","change-password-confirm-new-password-textbox","id","newPasswordConfirm","type","password",1,"change-password-input",3,"placeholder"],["automation-id","change-password-match-tag","class","password-match",4,"ngIf"],[1,"change-password-footer"],["automation-id","change-password-btn-submit",1,"change-password-footer-button","pointer",3,"click"],["automation-id","change-password-err-msg",1,"error"],[1,"error"],["automation-id","change-password-old-required-error",4,"ngIf"],["automation-id","change-password-old-required-error"],["automation-id","change-password-strength-tag"],[1,"error","form-error-wrapper"],["automation-id","change-password-required-error",4,"ngIf"],["automation-id","change-password-too-long-error",4,"ngIf"],["automation-id","change-password-too-short-error",4,"ngIf"],["automation-id","change-password-pattern-error",4,"ngIf"],["automation-id","change-password-strength-error",4,"ngIf"],["automation-id","change-password-required-error"],["automation-id","change-password-too-long-error"],["automation-id","change-password-too-short-error"],["automation-id","change-password-pattern-error"],["automation-id","change-password-strength-error"],["automation-id","change-password-match-tag",1,"password-match"],["automation-id","change-password-confirm-required-error",4,"ngIf"],["automation-id","change-password-match-error",4,"ngIf"],["automation-id","change-password-confirm-required-error"],["automation-id","change-password-match-error"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"a",1),t.bIt("click",function(){return i.close()}),t.k0s(),t.j41(4,"form",2),t.bIt("ngSubmit",function(){return i.submit()}),t.nrm(5,"p",3),t.nI1(6,"translate"),t.DNE(7,zn,3,3,"div",4),t.DNE(8,Kn,3,3,"div",4),t.j41(9,"div",5),t.nrm(10,"input",6),t.nI1(11,"translate"),t.DNE(12,Wn,2,1,"div",7),t.j41(13,"div",8),t.nrm(14,"input",9),t.nI1(15,"translate"),t.DNE(16,qn,3,5,"span",10),t.k0s(),t.DNE(17,ii,6,5,"div",11),t.j41(18,"div",8),t.nrm(19,"input",12),t.nI1(20,"translate"),t.DNE(21,oi,3,3,"span",13),t.k0s(),t.DNE(22,si,3,2,"div",11),t.k0s()(),t.j41(23,"div",14)(24,"a",15),t.bIt("click",function(){return i.submit()}),t.EFF(25),t.nI1(26,"translate"),t.k0s()()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,18,"changePassword.title")),t.R7$(3),t.Y8G("formGroup",i.form),t.R7$(1),t.Y8G("innerHTML",t.bMT(6,20,"changePassword.description"),t.npT),t.R7$(2),t.Y8G("ngIf",i.errorMessage),t.R7$(1),t.Y8G("ngIf",(null==i.newPassword?null:i.newPassword.invalid)&&((null==i.newPassword?null:i.newPassword.dirty)||(null==i.newPassword?null:i.newPassword.touched))),t.R7$(2),t.Y8G("placeholder",t.bMT(11,22,"changePassword.currentPasswordTextPlaceholder")),t.R7$(2),t.Y8G("ngIf",(null==i.currentPassword?null:i.currentPassword.invalid)&&((null==i.currentPassword?null:i.currentPassword.dirty)||(null==i.currentPassword?null:i.currentPassword.touched))),t.R7$(2),t.Y8G("placeholder",t.bMT(15,24,"changePassword.newPasswordTextPlaceholder")),t.R7$(2),t.Y8G("ngIf",null==i.newPassword?null:i.newPassword.dirty),t.R7$(1),t.Y8G("ngIf",(null==i.newPassword?null:i.newPassword.invalid)&&((null==i.newPassword?null:i.newPassword.dirty)||(null==i.newPassword?null:i.newPassword.touched))),t.R7$(2),t.Y8G("placeholder",t.bMT(20,26,"changePassword.confirmPasswordTextPlaceholder")),t.R7$(2),t.Y8G("ngIf",(null==i.newPasswordConfirm?null:i.newPasswordConfirm.valid)&&(!i.form.errors||!i.form.errors.notEqual)),t.R7$(1),t.Y8G("ngIf",((null==i.newPasswordConfirm?null:i.newPasswordConfirm.invalid)||(null==i.form.errors?null:i.form.errors.notEqual))&&((null==i.newPasswordConfirm?null:i.newPasswordConfirm.dirty)||(null==i.newPasswordConfirm?null:i.newPasswordConfirm.touched))),t.R7$(2),t.AVh("disabled",i.isProcessing)("loading",i.isProcessing),t.R7$(1),t.JRh(t.bMT(26,28,"changePassword.submit")))},dependencies:[d.bT,C.qT,C.me,C.BC,C.cb,C.j4,C.JD,h.D],styles:[".basic-card-view[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg);border-top:1px solid var(--static-neutral-40);box-shadow:0 1px 1px 0 rgba(var(--rgb-neutral-100),.2)}.popup-text[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:14px;font-weight:400}.popup-title[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:700;font-size:16px}.popup-title-small[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:400}.basic-title-small[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:12px;text-transform:uppercase}.mobile-scrolling[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{background-color:var(--neutral-tertiary-bg);min-height:420px;width:640px;padding:20px 25px 40px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block;position:relative}@media screen and (max-width: 740px){[_nghost-%COMP%]{padding:0;height:100%;width:100vw;min-height:100%;display:flex;flex-direction:column;justify-content:stretch}}.pop-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}@media screen and (max-width: 740px){.pop-title[_ngcontent-%COMP%]{background-color:var(--secondary-neutral-text);border-bottom:1px solid var(--static-neutral-40);color:var(--tertiary-divider);font-weight:400;margin:0;padding:15px 0;text-decoration:none;text-align:center;flex:0 0 auto}}@media screen and (max-width: 740px){.dark-mode[_nghost-%COMP%]   .pop-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .pop-title[_ngcontent-%COMP%]{background-color:var(--neutral-tertiary-bg);color:var(--primary-neutral-text)}}.pop-content[_ngcontent-%COMP%]{padding:0 10px 20px;min-height:270px;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}@media screen and (max-width: 740px){.pop-content[_ngcontent-%COMP%]{min-height:0;flex:1 1 auto}}.close.sprite[_ngcontent-%COMP%]{background-position:0 -1186px;border-bottom:1px solid var(--static-neutral-40);border-left:1px solid var(--static-neutral-40);box-sizing:border-box;cursor:pointer;display:block;height:60px;position:absolute;right:0;top:0;width:60px;z-index:1}@media screen and (max-width: 740px){.close.sprite[_ngcontent-%COMP%]{background-position:-18px -300px;border:none;height:60px;margin:0;width:60px}}.dark-mode[_nghost-%COMP%]   .close.sprite[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .close.sprite[_ngcontent-%COMP%]{border-left:none;border-bottom:none}.pop-subtitle[_ngcontent-%COMP%]{padding:5px 0;color:var(--secondary-neutral-text)}@media screen and (max-width: 740px){.pop-subtitle[_ngcontent-%COMP%]{text-align:center}}.change-password-fields[_ngcontent-%COMP%]{background:url(https://etoro-cdn.etorostatic.com/web-client/img/ChangePassword_lock.png) no-repeat;background-position:left center;padding-left:175px}@media screen and (max-width: 740px){.change-password-fields[_ngcontent-%COMP%]{margin-top:20px;background-position:top;padding-top:165px;padding-left:0;flex:0 0 auto}}.change-password-input[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg);border:var(--grey-secondary-bg);font-size:16px;box-sizing:border-box;width:95%;padding:12px;display:block;margin:15px 0}@media screen and (max-width: 740px){.change-password-input[_ngcontent-%COMP%]{width:100%}}.change-password-input-strength-row[_ngcontent-%COMP%]{position:relative}.change-password-input-strength-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;display:inline-block;right:31px;top:11px;color:var(--neutral-secondary-bg);text-transform:uppercase;padding:2px 4px;font-size:12px;border-radius:4px}.change-password-input-strength-row[_ngcontent-%COMP%]   .weak[_ngcontent-%COMP%], .change-password-input-strength-row[_ngcontent-%COMP%]   .password-not-match[_ngcontent-%COMP%]{background:var(--brand-var-action-text)}.change-password-input-strength-row[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{background:var(--risk-6)}.change-password-input-strength-row[_ngcontent-%COMP%]   .strong[_ngcontent-%COMP%], .change-password-input-strength-row[_ngcontent-%COMP%]   .password-match[_ngcontent-%COMP%]{background:var(--risk-3)}.change-password-note[_ngcontent-%COMP%]{font-size:14px;color:var(--secondary-neutral-text);padding-left:175px}@media screen and (max-width: 740px){.change-password-note[_ngcontent-%COMP%]{padding-left:0;text-align:center}}.form-error-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.form-error-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{display:block}.change-password-footer[_ngcontent-%COMP%]{text-align:center}.change-password-footer[_ngcontent-%COMP%]   .change-password-footer-button[_ngcontent-%COMP%]{background-color:var(--secondary-100);box-shadow:0 1px 1px 0 rgba(var(--rgb-neutral-100),.1);border:1px solid var(--secondary-100);box-sizing:border-box;color:var(--neutral-secondary-bg);line-height:50px;cursor:pointer;border-radius:3px}.change-password-footer[_ngcontent-%COMP%]   .change-password-footer-button[_ngcontent-%COMP%]:hover{background-color:var(--secondary-100-hover);border-color:var(--secondary-100-hover)}@media screen and (min-width: 741px){.change-password-footer[_ngcontent-%COMP%]   .change-password-footer-button[_ngcontent-%COMP%]{min-width:270px;font-size:22px;display:inline-block}}@media screen and (max-width: 740px){.change-password-footer[_ngcontent-%COMP%]   .change-password-footer-button[_ngcontent-%COMP%]{display:block}}"]}),a})();var ci=c(18194);let li=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.MD,C.YN,ci.py]}),a})();var Ce=c(45998),ve=c(93307);const be="ets-icon-circle-check ets-link-primary",ui={title:"settingsAddOtherDocs.title",text:"settingsAddOtherDocs.text",descriptionV2:"settingsAddOtherDocs.descriptionV2",dialogUploadFailedError:"settingsAddOtherDocs.dialogUploadFailedError",addDocument:"settingsAddOtherDocs.addDocument"},mi={title:"settings.VC.completeProfileCard.title",subtitle:"settings.VC.completeProfileCard.subTitle",button:"settings.VC.completeProfileCard.button",tooltipTitle:"settings.VC.completeProfileCard.toolTip.title",tooltipSubtitle:"settings.VC.completeProfileCard.toolTip.subtitle"};var T=function(e){return e[e.Required=1]="Required",e[e.NotRequired=2]="NotRequired",e[e.NotAccepted=3]="NotAccepted",e[e.Expired=4]="Expired",e[e.UnderReview=5]="UnderReview",e[e.Completed=6]="Completed",e[e.UploadedDoc=7]="UploadedDoc",e}(T||{}),X=function(e){return e.PageView="Verification Center - Page View",e.ButtonClicked="Verification Center - Button Clicked",e.CardView="Verification Center - Card View",e.DocumentUploloaded="Verification Center - Document Uploaded",e}(X||{});const hi={economicprofile:"Experience and Objectives",uploadutilitybill:"POA",uploadid:"POI",phoneverification:"Phone Verification",personaldetails:"Personal Details",uploadtaxid:"Tax ID",w9weak:"W-9 Form"},fi={"otherDoc-W8W9":"W8/W9/W8BEN documents","otherDoc-affiliateAccount":"Affiliate Account documents","otherDoc-corporateAccount":"Corporate Account documents","otherDoc-creditCardCopies":"Credit Card Copies","otherDoc-fundTransfer":"Funds Transfer documents","otherDoc-other":"Other","otherDoc-professionalCustomerDocuments":"Professional Customer Documents","otherDoc-proofOfIncome":"Proof of Income","otherDoc-proofOfPaymentMethodOwnership":"Proof of Payment Method Ownership","otherDoc-proofOfRelation":"Proof of Relation","otherDoc-referenceLetter":"Reference Letter"};var v=c(89204),U=c(33614),_i=c(97526),y=c(34727),xe=c(51711),bt=c(69529),st=c(35157),F=c(45442),M=c(75797),jt=c(56196),Ci=c(67953),Pe=c(95429),K=c(61318),ct=c(59452),yt=c(98764),Wt=c(9052),E=c(20037);function vi(e,a){if(1&e&&(t.j41(0,"label",9)(1,"span",10),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",11),t.nrm(5,"span",12),t.k0s()()),2&e){const o=t.XpG().$implicit,n=t.XpG();t.Y8G("for",o.key),t.R7$(1),t.Y8G("ngClass",n.listItemClass),t.R7$(1),t.JRh(t.i5U(3,3,o.key,"settingsAddOtherDocs"))}}function bi(e,a){if(1&e){const o=t.RV6();t.j41(0,"label",13),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.chooseFileByPlugin(i.key))}),t.j41(1,"span",10),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",11),t.nrm(5,"span",12),t.k0s()()}if(2&e){const o=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngClass",n.listItemClass),t.R7$(1),t.JRh(t.i5U(3,2,o.key,"settingsAddOtherDocs"))}}function yi(e,a){if(1&e){const o=t.RV6();t.qex(0),t.DNE(1,vi,6,6,"label",6),t.DNE(2,bi,6,5,"label",7),t.j41(3,"input",8),t.bIt("change",function(i){const s=t.eBV(o).$implicit,l=t.XpG();return t.Njj(l.onChangeDocInput(i.target.files,s.key))}),t.k0s(),t.bVm()}if(2&e){const o=a.$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",!n.isMobile),t.R7$(1),t.Y8G("ngIf",n.isMobile),t.R7$(1),t.Y8G("id",o.key)}}let xi=(()=>{var e;class a{constructor(n){this.data=n,this.close=new t.bkB,this.addDocument=new t.bkB,this.verificationCenterService=(0,t.WQX)(q),this.userAgentService=(0,t.WQX)(Wt.a),this.uiBreakpointsService=(0,t.WQX)(E.M),this.verificationCenterService.track(X.CardView,{"Card Name":"Add Document"})}get isMobile(){return this.userAgentService.isIOS||this.userAgentService.isAndroid}get listItemClass(){return this.uiBreakpointsService.isMobile?"ets-plain-text":"ets-title-secondary"}chooseFileByPlugin(n){var i=this;return(0,v.A)(function*(){var r;const s=yield i.verificationCenterService.openFileChooserPlugin();(null==s||null===(r=s.files)||void 0===r?void 0:r.length)>0&&i.addDocument.emit({file:s.files[0],docType:n})})()}onChangeDocInput(n,i){var r=this;return(0,v.A)(function*(){n&&n.length>0&&(r.verificationCenterService.track(X.ButtonClicked,{"Card Name":"Add Document","Button Type":fi[i]}),r.addDocument.emit({file:n[0],docType:i}))})()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(m.Qs))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-add-docs-dialog"]],outputs:{close:"close",addDocument:"addDocument"},standalone:!0,features:[t.aNF],decls:9,vars:6,consts:[[1,"verification-center-add-docs-dialog-header"],[1,"verification-center-add-docs-dialog-title","ets-title-secondary","ets-semi-bold","ets-neutral-100"],[1,"verification-center-add-docs-dialog-close"],[1,"ets-icon-close","ets-neutral-100",3,"click"],[1,"verification-center-add-docs-dialog-list"],[4,"ngFor","ngForOf"],["class","verification-center-add-docs-dialog-list-item",3,"for",4,"ngIf"],["class","verification-center-add-docs-dialog-list-item",3,"click",4,"ngIf"],["hidden","","type","file",3,"id","change"],[1,"verification-center-add-docs-dialog-list-item",3,"for"],[1,"verification-center-add-docs-dialog-list-item-title",3,"ngClass"],[1,"verification-center-add-docs-dialog-list-item-action"],[1,"ets-icon-chevron-right-fill"],[1,"verification-center-add-docs-dialog-list-item",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"p",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",2)(5,"span",3),t.bIt("click",function(){return i.close.emit()}),t.k0s()()(),t.j41(6,"div",4),t.DNE(7,yi,4,3,"ng-container",5),t.nI1(8,"keyvalue"),t.k0s()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,2,"settingsAddOtherDocs.dialogTitle")),t.R7$(5),t.Y8G("ngForOf",t.bMT(8,4,i.data)))},dependencies:[d.YU,d.pM,d.bT,d.lG,vt.Yc,h.D],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:grid;grid-template-columns:1fr min-content;grid-template-rows:min-content;padding:24px 0;background-color:var(--neutral-tertiary-bg)}[_nghost-%COMP%]   .verification-center-add-docs-dialog-header[_ngcontent-%COMP%]{grid-column:1;grid-row:1;display:grid;grid-auto-flow:column;grid-template-columns:1fr min-content;align-items:center;justify-content:space-between;padding:0 24px 24px;border-bottom:1px solid var(--tertiary-divider)}[_nghost-%COMP%]   .verification-center-add-docs-dialog-header[_ngcontent-%COMP%]   .verification-center-add-docs-dialog-title[_ngcontent-%COMP%]{justify-self:center}[_nghost-%COMP%]   .verification-center-add-docs-dialog-header[_ngcontent-%COMP%]   .verification-center-add-docs-dialog-close[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .verification-center-add-docs-dialog-list[_ngcontent-%COMP%]{grid-column:1 / span 2;grid-row:2;display:grid;grid-template-columns:100%;padding:0 24px;overflow:auto}[_nghost-%COMP%]   .verification-center-add-docs-dialog-list[_ngcontent-%COMP%]   .verification-center-add-docs-dialog-list-item[_ngcontent-%COMP%]{grid-auto-flow:column;align-items:center;padding:24px 0;border-bottom:1px solid var(--tertiary-divider);display:flex;justify-content:space-between;cursor:pointer}[_nghost-%COMP%]   .verification-center-add-docs-dialog-list[_ngcontent-%COMP%]   .verification-center-add-docs-dialog-list-item[_ngcontent-%COMP%]   .verification-center-add-docs-dialog-list-item-action[_ngcontent-%COMP%]{justify-self:flex-end}@media (min-width: 768px){[_nghost-%COMP%]{width:640px;height:640px;overflow:auto;border-radius:8px}[_nghost-%COMP%]   .verification-center-add-docs-dialog-header[_ngcontent-%COMP%]{border:none}[_nghost-%COMP%]   .verification-center-add-docs-dialog-list[_ngcontent-%COMP%]{padding:0 60px}}"],changeDetection:0}),a})();var L=c(90002);let q=(()=>{var e;class a{constructor(){this.complianceGapsDataService=(0,t.WQX)(_i.S),this.authService=(0,t.WQX)(U.u),this.dialogService=(0,t.WQX)(m.o3),this.complianceSettingsService=(0,t.WQX)(L.cw),this.analytics=(0,t.WQX)(k.c),this.config=(0,t.WQX)(y.R),this.imageUploadService=(0,t.WQX)(xe.a),this.loggerService=(0,t.WQX)(bt.g),this.uploadError=new M.t(null),this.uploadError$=this.uploadError.asObservable()}set isActionRequired(n){this._isActionRequired=n}get isActionRequired(){return this._isActionRequired}set abTest(n){const i=(n||[]).find(r=>"verification_center_master"===r.experimentId);this._abTest="verification_center_test"===(null==i?void 0:i.variationId)}get abTest(){return this._abTest}get verificationCenterEnabled(){return this.config.dynamics.verificationCenter.vcEnabled&&this.abTest}get isVerificationLevel3(){return 3===this.authService.user.verificationLevel}get mixpanelVerificationStatus(){return this.isActionRequired?"Action Required":this.isVerificationLevel3?"Verified":"Not Verified"}isUserActionRequired(){var n=this;return(0,v.A)(function*(){return n.isActionRequired=n.isVerificationLevel3&&(yield n.userHasGaps()),n.isActionRequired})()}openAddDocsDialog(n){var i=this;return(0,v.A)(function*(){i.uploadError.next(null);const s=i.dialogService.open(xi,{id:"VerificationCenterAddDocsDialogComponent",hasBackdrop:!0,data:n}),l=(0,jt._)(s.componentInstance.close.pipe((0,yt.M)(()=>s.close())));let g;const p=(0,jt._)(s.componentInstance.addDocument.pipe((0,Ci.p)(({file:_,docType:b})=>(s.close(),g=b,(0,Pe.H)(i.complianceSettingsService.uploadDocument([_],b)).pipe((0,yt.M)(()=>{i.track(X.DocumentUploloaded,{"Uploading Status":"Success","Document Type":g})}),(0,K.W)(({error:O})=>(i.uploadError.next(O),i.track(X.DocumentUploloaded,{"Uploading Status":"Fail","Document Type":g}),(0,ct.of)(null)))))))),u=yield Promise.race([l,p]);return u?{...u,cachedDocType:g}:null})()}openFileChooserPlugin(){var n=this;return(0,v.A)(function*(){return n.imageUploadService.chooseFileByPlugin().catch(({error:i})=>{let r;if("unAccepedFileType"===i||"unAcceptedFileType"===i)r=L.qx.FormatError;else if("maxFileSizeExceed"===i)r=L.qx.MaxSizeError;else{const s="string"==typeof i?i:JSON.stringify(i);n.loggerService.error({message:"Error in select other doc file: "+s,categories:["Settings","Add other docs"],domain:st.SB.Compliance})}return n.uploadError.next(r),null})})()}track(n,i){this.analytics.eventTrack(n,i)}userHasGaps(){var n=this;return(0,v.A)(function*(){const i=yield n.complianceGapsDataService.getLoggedInNextState(),r=(0,F.A)(i,["nextState","additionalData"]),{requirementOverviewStatuses:s,userInteractions:l,userInteraction:g}=r;return!(null==s||!s.length)||!(null==l||!l.length)||!!g})()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();function Pi(e,a){1&e&&(t.qex(0),t.nrm(1,"span",5),t.bVm())}function Mi(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",6),t.nrm(2,"span",7)(3,"span",8),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.xc7("width",o.progressPercentage(),"%"),t.R7$(1),t.xc7("width",o.remainingProgressPercentage(),"%")}}function ki(e,a){if(1&e&&(t.qex(0),t.j41(1,"p",2),t.EFF(2),t.k0s(),t.nrm(3,"span"),t.DNE(4,Pi,2,0,"ng-container",3),t.DNE(5,Mi,4,4,"ng-container",3),t.j41(6,"p",4),t.EFF(7),t.k0s(),t.bVm()),2&e){const o=t.XpG();t.R7$(2),t.JRh(o.title()),t.R7$(1),t.ZvI("verification-center-header-status ",o.statusIcon()," ets-icon-small"),t.R7$(1),t.Y8G("ngIf",o.isInSettingsMainPage()),t.R7$(1),t.Y8G("ngIf",!o.isProgressBarHidden()),t.R7$(1),t.AVh("ets-link-var-primary",o.isInSettingsMainPage()&&o.isUserActionRequired()),t.R7$(1),t.JRh(o.progressStatus())}}function Oi(e,a){1&e&&(t.j41(0,"div",9),t.nrm(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13),t.k0s())}let qt=(()=>{var e;class a{constructor(){this.verificationCenterService=(0,t.WQX)(q),this.translateInterpolatedPipe=(0,t.WQX)(m.GG),this.translatePipe=(0,t.WQX)(m.D9),this._usersSettings=(0,t.vPA)(null),this._isInSettingsMainPage=(0,t.vPA)(!1),this._isContentLoaded=(0,t.vPA)(!1),this._isUserActionRequired=(0,t.vPA)(!1),this.isVerified=(0,t.EWP)(()=>{var n;return null===(n=this.usersSettings())||void 0===n||null===(n=n.riskUserInfo)||void 0===n?void 0:n.isVerified}),this.progressPercentage=(0,t.EWP)(()=>{var n;return null===(n=this.usersSettings())||void 0===n?void 0:n.kycProgressPercentage}),this.remainingProgressPercentage=(0,t.EWP)(()=>100-this.progressPercentage()),this.pendingVerification=(0,t.EWP)(()=>100===this.progressPercentage()&&!this.isVerified()),this.pendingVerificationStatus=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.onboardingStatus.pendingVerificationExplanatory")),this.settingsPendingVerificationStatus=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.onboardingStatus.pendingVerification")),this.settingsTitle=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.menuTitle")),this.settingsActionRequiredText=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.menu.actionRequired.text")),this.vcTitle=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.onboardingStatus.title")),this.vcTitleActionRequired=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.onboardingStatus.actionRequired.title")),this.actionRequiredText=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.onboardingStatus.actionRequired.text")),this.title=(0,t.EWP)(()=>this.isInSettingsMainPage()?this.settingsTitle():this.isUserActionRequired()?this.vcTitleActionRequired():this.vcTitle()),this.statusIcon=(0,t.EWP)(()=>this.pendingVerification()?"ets-icon-alert-fill ets-link-tertiary":this.isUserActionRequired()||100!==this.progressPercentage()?"ets-icon-alert-fill ets-link-var-primary":"ets-icon-success-fill ets-link-primary"),this.progressStatusIncomplete=(0,t.EWP)(()=>this.translateInterpolatedPipe.transform("settings.VC.menuProgressBar",{kycProgressPercentage:this.progressPercentage()})),this.vcProgressStatusComplete=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.onboardingStatus.fullyVerified")),this.settingsProgressStatusComplete=(0,t.EWP)(()=>this.translatePipe.transform("settings.VC.menu.fullyVerified.text")),this.progressStatusComplete=(0,t.EWP)(()=>this.isInSettingsMainPage()?this.settingsProgressStatusComplete():this.vcProgressStatusComplete()),this.progressStatus=(0,t.EWP)(()=>this.isUserActionRequired()?this.isInSettingsMainPage()?this.settingsActionRequiredText():this.actionRequiredText():this.pendingVerification()?this.isInSettingsMainPage()?this.settingsPendingVerificationStatus():this.pendingVerificationStatus():this.progressPercentage()<100?this.progressStatusIncomplete():100===this.progressPercentage()?this.progressStatusComplete():""),this.isProgressBarHidden=(0,t.EWP)(()=>this.isUserActionRequired()||100===this.progressPercentage()&&this.isVerified())}set usersSettings(n){this._usersSettings.set(n)}get usersSettings(){return this._usersSettings}set isInSettingsMainPage(n){this._isInSettingsMainPage.set(n)}get isInSettingsMainPage(){return this._isInSettingsMainPage}set isContentLoaded(n){this._isContentLoaded.set(n)}get isContentLoaded(){return this._isContentLoaded}set isUserActionRequired(n){this._isUserActionRequired.set(n)}get isUserActionRequired(){return this._isUserActionRequired}get hostClass(){return this.isInSettingsMainPage()}ngOnInit(){this.verificationCenterService.isUserActionRequired().then(n=>{this.isUserActionRequired=n,this.isContentLoaded=!0})}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-header"]],hostVars:2,hostBindings:function(n,i){2&n&&t.AVh("in-settings-page",i.hostClass)},inputs:{usersSettings:"usersSettings",isInSettingsMainPage:"isInSettingsMainPage"},standalone:!0,features:[t.Jv_([m.GG,m.D9]),t.aNF],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["contentLoaderTemp",""],[1,"verification-center-header-title","ets-title-secondary","ets-semi-bold"],[4,"ngIf"],[1,"verification-center-header-progress-status","ets-plain-text"],[1,"verification-center-header-action","ets-icon-chevron-right-fill","ets-icon-small","ets-neutral-90"],[1,"verification-center-header-progress-bar"],[1,"verification-center-header-progress-bar-completed"],[1,"verification-center-header-progress-bar-remaining"],[1,"verification-center-header-content-loader","ets-content-loader"],[1,"ets-info-container-loader-l","area-title"],[1,"ets-info-container-loader-l","area-icon"],[1,"ets-info-container-loader-s","area-bar"],[1,"ets-info-container-loader-m","area-subtitle"]],template:function(n,i){if(1&n&&(t.DNE(0,ki,8,9,"ng-container",0),t.DNE(1,Oi,5,0,"ng-template",null,1,t.C5r)),2&n){const r=t.sdS(2);t.Y8G("ngIf",i.isContentLoaded())("ngIfElse",r)}},dependencies:[d.bT,m.Yc],styles:["[_nghost-%COMP%]{margin:16px 0;display:grid;grid-template-columns:min-content min-content 1fr;grid-template-rows:repeat(3,min-content);gap:0 8px}[_nghost-%COMP%]   .verification-center-header-title[_ngcontent-%COMP%]{grid-column:1;grid-row:1;display:flex;align-items:center;white-space:nowrap}[_nghost-%COMP%]   .verification-center-header-status[_ngcontent-%COMP%]{grid-column:2;grid-row:1;display:flex;align-items:center;pointer-events:none}[_nghost-%COMP%]   .verification-center-header-action[_ngcontent-%COMP%]{grid-column:3;grid-row:1;display:flex;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .verification-center-header-progress-bar[_ngcontent-%COMP%]{margin-top:12px;grid-column:1 / span 3;grid-row:2;display:flex;width:100%;height:3px;background-color:var(--static-neutral-0)}[_nghost-%COMP%]   .verification-center-header-progress-bar[_ngcontent-%COMP%]   .verification-center-header-progress-bar-completed[_ngcontent-%COMP%]{background-color:var(--positive-text);border-radius:5px 0 0 5px}[_nghost-%COMP%]   .verification-center-header-progress-bar[_ngcontent-%COMP%]   .verification-center-header-progress-bar-remaining[_ngcontent-%COMP%]{background-color:var(--tertiary-neutral-text);border-radius:0 5px 5px 0}[_nghost-%COMP%]   .verification-center-header-progress-status[_ngcontent-%COMP%]{margin-top:12px;grid-column:1 / span 3;grid-row:3;display:flex;align-items:center}@media (min-width: 768px){.in-settings-page[_nghost-%COMP%]{background-color:var(--neutral-secondary-bg);padding:32px 40px}}[_nghost-%COMP%]   .verification-center-header-content-loader[_ngcontent-%COMP%]{width:max-content;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:repeat(2,min-content);gap:8px 8px}[_nghost-%COMP%]   .verification-center-header-content-loader[_ngcontent-%COMP%]   .area-title[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:150px}[_nghost-%COMP%]   .verification-center-header-content-loader[_ngcontent-%COMP%]   .area-icon[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:20px}[_nghost-%COMP%]   .verification-center-header-content-loader[_ngcontent-%COMP%]   .area-bar[_ngcontent-%COMP%]{grid-column:1 / span 2;grid-row:2}[_nghost-%COMP%]   .verification-center-header-content-loader[_ngcontent-%COMP%]   .area-subtitle[_ngcontent-%COMP%]{grid-column:1 / span 2;grid-row:3}"],changeDetection:0}),a})();var x=c(82380),xt=c(84042),lt=c(21810);let wi=(()=>{var e;class a{constructor(){this._item=(0,t.vPA)(null),this.statusClass=(0,t.EWP)(()=>this.item().Status===L.Nv.completed?be:this.item().Status===L.Nv.notAccepted?"ets-secondary-info ets-bold ets-link-var-primary":"ets-secondary-info ets-bold ets-link-tertiary")}set item(n){this._item.set(n)}get item(){return this._item}fixTranslationKey(n){return`settingsAddOtherDocs.doc${n}`}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-add-docs-list-item"]],inputs:{item:"item"},standalone:!0,features:[t.aNF],decls:6,vars:5,consts:[[1,"verification-center-add-docs-list-item-icon","ets-icon-document"],[1,"verification-center-add-docs-list-item-text","ets-info","ets-semi-bold"],[1,"verification-center-add-docs-list-item-status",3,"ngClass"]],template:function(n,i){1&n&&(t.nrm(0,"span",0),t.j41(1,"p",1),t.EFF(2),t.k0s(),t.j41(3,"span",2),t.EFF(4),t.nI1(5,"translate"),t.k0s()),2&n&&(t.R7$(2),t.JRh(i.item().Filename),t.R7$(1),t.Y8G("ngClass",i.statusClass()),t.R7$(1),t.JRh(t.bMT(5,3,i.fixTranslationKey(i.item().Status))))},dependencies:[d.YU,m.Yc,m.D9],styles:["[_nghost-%COMP%]{height:64px;display:grid;grid-template-columns:min-content 1fr min-content;gap:0 16px;align-items:center;border-bottom:1px solid var(--static-neutral-20)}[_nghost-%COMP%]   .verification-center-add-docs-list-item-status[_ngcontent-%COMP%]{justify-content:flex-end;text-wrap:nowrap}"],changeDetection:0}),a})();function Si(e,a){if(1&e&&(t.qex(0),t.nrm(1,"et-verification-center-add-docs-list-item",3),t.bVm()),2&e){const o=a.$implicit;t.R7$(1),t.Y8G("item",o)}}let Ti=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-add-docs-list"]],inputs:{title:"title",items:"items"},standalone:!0,features:[t.aNF],decls:5,vars:5,consts:[[1,"verification-center-add-docs-list-title","ets-info"],[1,"verification-center-add-docs-list-items"],[4,"ngFor","ngForOf"],[3,"item"]],template:function(n,i){1&n&&(t.j41(0,"p",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",1),t.DNE(4,Si,2,1,"ng-container",2),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.i5U(2,2,i.title,"settingsAddOtherDocs")),t.R7$(3),t.Y8G("ngForOf",i.items))},dependencies:[d.pM,m.Yc,m.D9,wi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px 0}"],changeDetection:0}),a})();const Ii=["uploadErrorRef"];function Ri(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",12),t.nrm(2,"et-verification-center-add-docs-list",13),t.k0s(),t.bVm()),2&e){const o=t.XpG().$implicit;t.R7$(2),t.Y8G("title",o.key)("items",o.value)}}function Ai(e,a){if(1&e&&(t.qex(0),t.DNE(1,Ri,3,2,"ng-container",11),t.bVm()),2&e){const o=a.$implicit;t.R7$(1),t.Y8G("ngIf",o.value)}}let Fi=(()=>{var e;class a{constructor(){this.addDocument=new t.bkB,this.verificationCenterService=(0,t.WQX)(q),this.translationKeys=ui,this.uploadError$=this.verificationCenterService.uploadError$.pipe((0,yt.M)(n=>n&&setTimeout(()=>this.uploadErrorRef.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),0)))}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-add-docs"]],viewQuery:function(n,i){if(1&n&&t.GBs(Ii,5),2&n){let r;t.mGM(r=t.lsd())&&(i.uploadErrorRef=r.first)}},inputs:{documents:"documents"},outputs:{addDocument:"addDocument"},standalone:!0,features:[t.aNF],decls:27,vars:26,consts:[[1,"verification-center-add-docs-title","ets-title-secondary","ets-semi-bold"],[1,"verification-center-add-docs-subtitle","ets-plain-text"],[1,"verification-center-add-docs-note","ets-secondary-info","ets-semi-bold","ets-neutral-100"],[1,"verification-center-add-docs-error",3,"hidden"],["uploadErrorRef",""],[1,"verification-center-add-docs-error-title","ets-info","ets-semi-bold","ets-negative-word"],[1,"verification-center-add-docs-error-text","ets-secondary-info","ets-neutral-100"],[4,"ngFor","ngForOf"],[1,"verification-center-add-docs-action"],[1,"ets-button-basic","ets-button-tertiary","ets-button-big","ets-start-icon",3,"click"],[1,"ets-icon-add-document"],[4,"ngIf"],[1,"verification-center-add-docs-list-type"],[3,"title","items"]],template:function(n,i){1&n&&(t.j41(0,"p",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"p",1),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"p",2),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",3,4),t.nI1(11,"async"),t.j41(12,"p",5),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"p",6),t.EFF(16),t.nI1(17,"translate"),t.nI1(18,"async"),t.k0s()(),t.DNE(19,Ai,2,1,"ng-container",7),t.nI1(20,"keyvalue"),t.j41(21,"div",8)(22,"button",9),t.bIt("click",function(){return i.addDocument.emit()}),t.nrm(23,"span",10),t.j41(24,"span"),t.EFF(25),t.nI1(26,"translate"),t.k0s()()()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,8,i.translationKeys.title)),t.R7$(3),t.JRh(t.bMT(5,10,i.translationKeys.text)),t.R7$(3),t.JRh(t.bMT(8,12,i.translationKeys.descriptionV2)),t.R7$(2),t.Y8G("hidden",!t.bMT(11,14,i.uploadError$)),t.R7$(4),t.JRh(t.bMT(14,16,i.translationKeys.dialogUploadFailedError)),t.R7$(3),t.JRh(t.bMT(17,18,"settingsAddOtherDocs."+t.bMT(18,20,i.uploadError$))),t.R7$(3),t.Y8G("ngForOf",t.bMT(20,22,i.documents)),t.R7$(6),t.SpI("",t.bMT(26,24,i.translationKeys.addDocument)," "))},dependencies:[d.Jj,m.Yc,m.D9,d.pM,d.bT,d.lG,Ti],styles:["[_nghost-%COMP%]{padding:24px;display:grid;grid-template-columns:100%;gap:16px 0}[_nghost-%COMP%]   .verification-center-add-docs-error[_ngcontent-%COMP%]{display:grid}[_nghost-%COMP%]   .verification-center-add-docs-error[hidden][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .verification-center-add-docs-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;gap:4px}"],changeDetection:0}),a})();function Ei(e,a){if(1&e&&(t.j41(0,"div",7)(1,"p",8),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"p",9),t.EFF(5),t.nI1(6,"translate"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,null==o.data?null:o.data.translationKeys.tooltipTitle)),t.R7$(3),t.JRh(t.bMT(6,4,null==o.data?null:o.data.translationKeys.tooltipSubtitle))}}let Di=(()=>{var e;class a{constructor(){this.onSubmit=new t.bkB,this.verificationCenterService=(0,t.WQX)(q),this.userAgentService=(0,t.WQX)(Wt.a),this.translatePipe=(0,t.WQX)(m.D9)}get isMobile(){return this.userAgentService.isIOS||this.userAgentService.isAndroid}OnSubmit(){this.verificationCenterService.track(X.ButtonClicked,{"Card Name":"Uncompleted Verification","Button Type":"Continue","Button Text":this.translatePipe.transform(this.data.translationKeys.button),"Click Location":"Gap Card"}),this.onSubmit.emit(this.data.deepLink)}trackTooltipClick(){this.isMobile&&this.trackTooltip()}trackTooltipHover(){this.isMobile||this.trackTooltip()}trackTooltip(){this.verificationCenterService.track(X.ButtonClicked,{"Card Name":"Uncompleted Verification","Button Type":"Tooltip","Button Text":"i","Click Location":"Gap Card"})}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-card"]],inputs:{data:"data"},outputs:{onSubmit:"onSubmit"},standalone:!0,features:[t.Jv_([m.D9]),t.aNF],decls:14,vars:10,consts:[[1,"verification-center-card-title","ets-title-card"],[1,"verification-center-card-icon","ets-icon-info","ets-icon-small",3,"etsTooltip","mouseenter","click"],[1,"verification-center-card-subtitle","ets-info","ets-neutral-90"],[1,"verification-center-card-action"],[1,"ets-button-basic","ets-button-primary","ets-button-tiny",3,"click"],[1,"verification-center-card-bg-icon","ets-icon-alert-fill"],["infoTooltipTemp",""],[1,"verification-center-card-tooltip"],[1,"verification-center-card-tooltip-title","ets-title-card"],[1,"verification-center-card-tooltip-text","ets-plain-text"]],template:function(n,i){if(1&n&&(t.j41(0,"p",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"span",1),t.bIt("mouseenter",function(){return i.trackTooltipHover()})("click",function(){return i.trackTooltipClick()}),t.k0s(),t.j41(4,"p",2),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",3)(8,"button",4),t.bIt("click",function(){return i.OnSubmit()}),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"span",5),t.DNE(12,Ei,7,6,"ng-template",null,6,t.C5r)),2&n){const r=t.sdS(13);t.R7$(1),t.JRh(t.bMT(2,4,null==i.data?null:i.data.translationKeys.title)),t.R7$(2),t.Y8G("etsTooltip",r),t.R7$(2),t.JRh(t.bMT(6,6,null==i.data?null:i.data.translationKeys.subtitle)),t.R7$(4),t.JRh(t.bMT(10,8,null==i.data?null:i.data.translationKeys.button))}},dependencies:[m.Yc,m.D9,m.Ss,m.dg],styles:["[_nghost-%COMP%]{position:relative;overflow:hidden;padding:24px;box-shadow:0 1px 16px 4px #0000001a;border-radius:6px;display:grid;grid-template-columns:1fr min-content;grid-template-rows:repeat(3,min-content)}[_nghost-%COMP%]   .verification-center-card-title[_ngcontent-%COMP%]{grid-column:1;grid-row:1}[_nghost-%COMP%]   .verification-center-card-icon[_ngcontent-%COMP%]{grid-column:2;grid-row:1;display:flex;align-self:center;cursor:pointer}[_nghost-%COMP%]   .verification-center-card-subtitle[_ngcontent-%COMP%]{margin-top:8px;grid-column:1 / span 2;grid-row:2}[_nghost-%COMP%]   .verification-center-card-action[_ngcontent-%COMP%]{margin-top:16px;grid-column:1 / span 2;grid-row:3}[_nghost-%COMP%]   .verification-center-card-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto;white-space:nowrap}[_nghost-%COMP%]   .verification-center-card-bg-icon[_ngcontent-%COMP%]{position:absolute;right:12px;bottom:21px;opacity:.15;display:flex;justify-content:flex-end;align-items:flex-end;transform:scale(6.5);color:var(--primary-var-100)}.verification-center-card-tooltip[_ngcontent-%COMP%]{display:grid;gap:6px 0}@media (min-width: 768px){.verification-center-card-tooltip[_ngcontent-%COMP%]{max-width:450px}}"],changeDetection:0}),a})();var Q=c(8108);function Ui(e,a){if(1&e&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()),2&e){const o=t.XpG();t.R7$(1),t.ZvI("verification-center-checklist-item-status ",o.statusClass,""),t.R7$(1),t.JRh(t.i5U(3,4,o.item.status,"settings.VC.checkListStatus"))}}function $i(e,a){if(1&e&&(t.j41(0,"button"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG();t.ZvI("verification-center-checklist-item-status ",o.statusClass,""),t.R7$(1),t.JRh(t.i5U(2,4,o.item.status,"settings.VC.checkListStatus"))}}function Gi(e,a){if(1&e&&(t.nrm(0,"div",3),t.nI1(1,"safe"),t.nI1(2,"translate")),2&e){const o=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,t.bMT(2,3,o.item.subTitle)),t.npT)}}let ji=(()=>{var e;class a{get disabledClass(){return this.item.editable?null:"disabled"}get linkClass(){return this.item.editable?"ets-link-primary":""}get statusClass(){if(this.item.status===T[T.Completed])return be;if(this.item.status===T[T.NotRequired])return"ets-secondary-info ets-bold ets-neutral-90";if(this.item.status===T[T.UnderReview])return"ets-secondary-info ets-bold under-review-item";const s="ets-button-basic ets-button-basic-outline ets-button-tiny";return[T[T.Required],T[T.UploadedDoc]].includes(this.item.status)?`${s} ets-button-tertiary`:`${s} ets-button-primary-var`}get isStatusNotButton(){return[T[T.UnderReview],T[T.NotRequired],T[T.Completed]].includes(this.item.status)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-checklist-item"]],hostVars:2,hostBindings:function(n,i){2&n&&t.HbH(i.disabledClass)},inputs:{item:"item"},standalone:!0,features:[t.aNF],decls:7,vars:10,consts:[[4,"ngIf","ngIfElse"],["defaultStatus",""],["class","verification-center-checklist-item-subtitle et-flex-align-center",3,"innerHTML",4,"ngIf"],[1,"verification-center-checklist-item-subtitle","et-flex-align-center",3,"innerHTML"]],template:function(n,i){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.DNE(3,Ui,4,7,"ng-container",0),t.DNE(4,$i,3,7,"ng-template",null,1,t.C5r),t.DNE(6,Gi,3,5,"div",2)),2&n){const r=t.sdS(5);t.ZvI("verification-center-checklist-item-title ets-plain-text ",i.linkClass,""),t.R7$(1),t.JRh(t.i5U(2,7,i.item.title,"settings.VC.checkList")),t.R7$(2),t.Y8G("ngIf",i.isStatusNotButton)("ngIfElse",r),t.R7$(3),t.Y8G("ngIf",i.item.subTitle)}},dependencies:[d.bT,vt.Yc,Q.m,h.D],styles:["[_nghost-%COMP%]{padding:16px 0;display:grid;grid-template-columns:auto min-content;align-items:center;cursor:pointer}.disabled[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .verification-center-checklist-item-title[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .verification-center-checklist-item-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;text-wrap:nowrap}[_nghost-%COMP%]   .verification-center-checklist-item-status.under-review-item[_ngcontent-%COMP%]{color:var(--primary-neutral-text)}[_nghost-%COMP%]   .verification-center-checklist-item-statusbutton[_ngcontent-%COMP%]{height:min-content}[_nghost-%COMP%]   .verification-center-checklist-item-subtitle[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .verification-center-checklist-item-subtitle[_ngcontent-%COMP%]     span{margin-inline-end:4px}"],changeDetection:0}),a})(),Bi=(()=>{var e;class a{get disclaimer(){return`settingsAccount.regulatingEntity.${this.usersSettings.riskUserInfo.designatedRegulation||this.usersSettings.riskUserInfo.regulatingEntity}`}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center-disclaimer"]],inputs:{usersSettings:"usersSettings"},standalone:!0,features:[t.aNF],decls:3,vars:3,consts:[[1,"verification-center-disclaimer-text","ets-secondary-info"]],template:function(n,i){1&n&&(t.j41(0,"p",0),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,i.disclaimer)))},dependencies:[m.Yc,m.D9],styles:["[_nghost-%COMP%]{display:flex;align-items:center;text-align:center}"],changeDetection:0}),a})();function Vi(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"et-verification-center-card",10),t.bIt("onSubmit",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.openKyc(i))}),t.k0s(),t.bVm()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("data",o.completeProfileCard)}}function Ni(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"et-verification-center-checklist-item",11),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.openKyc(r))}),t.k0s(),t.bVm()}if(2&e){const o=a.$implicit;t.R7$(1),t.Y8G("item",o)}}let Me=(()=>{var e;class a{constructor(n,i){this.kycProvider=n,this.$route=i,this.complianceSettingsService=(0,t.WQX)(L.cw),this.userSettingsService=(0,t.WQX)(lt.A),this.config=(0,t.WQX)(y.R),this.localizeService=(0,t.WQX)(x.X),this.verificationCenterService=(0,t.WQX)(q),this.completeProfileCard={deepLink:"",translationKeys:mi},this._usersSettings=(0,t.vPA)(null),this.kycStatuses=(0,t.vPA)(null),this.progressPercentage=(0,t.EWP)(()=>{var r;return null===(r=this.usersSettings())||void 0===r?void 0:r.kycProgressPercentage}),this.progressCompleted=(0,t.EWP)(()=>100===this.progressPercentage()),this.progressInCompleted=(0,t.EWP)(()=>this.progressPercentage()<100),this.verificationStatus=(0,t.EWP)(()=>{var r;const s=(null===(r=this.kycStatuses())||void 0===r?void 0:r.VerificationStatus)||{};return Object.keys(s).map(l=>({title:l,subTitle:this.getSubtitle(s[l]),...s[l]}))}),this.documentStatus=(0,t.EWP)(()=>{var r;return null===(r=this.kycStatuses())||void 0===r?void 0:r.DocumentStatus}),this.verificationCenterService.track(X.PageView,{"Verification Status":this.verificationCenterService.mixpanelVerificationStatus}),this.verificationCenterService.uploadError.next(null)}set usersSettings(n){this._usersSettings.set(n)}get usersSettings(){return this._usersSettings}ngOnInit(){this.updateKycStatusesAndDocuments(!0),this.config.dynamics.kyc.loadKycInBackgroundEnabled&&this.kycProvider.loadBackgroundKyc()}openKyc(n){var i=this;return(0,v.A)(function*(){const{deepLink:r,editable:s}=n;if(!s)return;const l=hi[r]||"";l&&i.verificationCenterService.track(X.ButtonClicked,{"Button Type":l,"Click Location":"Page","With Subtitle":i.isCheckListSubTitleExist(n)});try{yield i.kycProvider.loadVolunteerModal({deepLink:r||void 0}),i.updateKycStatusesAndDocuments(!0)}catch{}finally{i.userSettingsService.clear(),i.$route.reload()}})()}onAddDocument(){var n=this;return(0,v.A)(function*(){n.verificationCenterService.track(X.ButtonClicked,{"Button Type":"Add Documents","Click Location":"Page"}),yield n.verificationCenterService.openAddDocsDialog(n.documentStatus()),n.updateKycStatusesAndDocuments(!0)})()}updateKycStatusesAndDocuments(n){var i=this;return(0,v.A)(function*(){const r=yield(0,jt._)(i.complianceSettingsService.getKycStatusesAndDocumentsOverview(n));i.kycStatuses.set(r)})()}getSubtitle(n){return this.isCheckListSubTitleExist(n)?`settings.VC.checkListSubTitle.${n.deepLink}`:""}isCheckListSubTitleExist(n){const{deepLink:i,status:r}=n;return r===T[T.Completed]&&this.localizeService.hasKey("settings.VC.checkListSubTitle",i)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(xt.Ei),t.rXU("$route"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-verification-center"]],inputs:{usersSettings:"usersSettings"},standalone:!0,features:[t.aNF],decls:10,vars:6,consts:[[1,"verification-center-header"],[3,"usersSettings","isInSettingsMainPage"],[1,"verification-center-card"],[4,"ngIf"],[1,"verification-center-checklist"],[4,"ngFor","ngForOf"],[1,"verification-center-disclaimer"],[3,"usersSettings"],[1,"verification-center-add-docs"],[3,"documents","addDocument"],[3,"data","onSubmit"],[3,"item","click"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"et-verification-center-header",1),t.k0s(),t.j41(2,"div",2),t.DNE(3,Vi,2,1,"ng-container",3),t.k0s(),t.j41(4,"div",4),t.DNE(5,Ni,2,1,"ng-container",5),t.k0s(),t.j41(6,"div",6),t.nrm(7,"et-verification-center-disclaimer",7),t.k0s(),t.j41(8,"div",8)(9,"et-verification-center-add-docs",9),t.bIt("addDocument",function(){return i.onAddDocument()}),t.k0s()()),2&n&&(t.R7$(1),t.Y8G("usersSettings",i.usersSettings())("isInSettingsMainPage",!1),t.R7$(2),t.Y8G("ngIf",i.progressInCompleted()),t.R7$(2),t.Y8G("ngForOf",i.verificationStatus()),t.R7$(2),t.Y8G("usersSettings",i.usersSettings()),t.R7$(2),t.Y8G("documents",i.documentStatus()))},dependencies:[d.pM,d.bT,qt,Di,ji,Bi,Fi],styles:['.padding-content[_ngcontent-%COMP%]{padding:12px 24px}[_nghost-%COMP%]{min-height:100%;display:grid;grid-auto-rows:min-content;grid-template-columns:100%}[_nghost-%COMP%]   .verification-center-header[_ngcontent-%COMP%]{padding:12px 24px}[_nghost-%COMP%]   .verification-center-card[_ngcontent-%COMP%]{margin:24px}[_nghost-%COMP%]   .verification-center-card[_ngcontent-%COMP%]:empty{margin:12px 0 0}[_nghost-%COMP%]   .verification-center-checklist[_ngcontent-%COMP%]{padding:12px 24px}[_nghost-%COMP%]   .verification-center-disclaimer[_ngcontent-%COMP%]{position:relative;padding:24px 30px}[_nghost-%COMP%]   .verification-center-disclaimer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:30px;right:30px;border-top:1px solid var(--static-neutral-20)}[_nghost-%COMP%]   .verification-center-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .verification-center-card[_ngcontent-%COMP%], [_nghost-%COMP%]   .verification-center-checklist[_ngcontent-%COMP%], [_nghost-%COMP%]   .verification-center-disclaimer[_ngcontent-%COMP%], [_nghost-%COMP%]   .verification-center-add-docs[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg)}@media (min-width: 768px){[_nghost-%COMP%]{width:1000px;grid-template-columns:2fr 1fr;gap:0 12px;padding:24px 0}[_nghost-%COMP%]   .verification-center-header[_ngcontent-%COMP%]{grid-column:1;grid-row:1;border-radius:6px}[_nghost-%COMP%]   .verification-center-card[_ngcontent-%COMP%]{grid-column:1;margin:12px 0;height:min-content;border-radius:6px}[_nghost-%COMP%]   .verification-center-checklist[_ngcontent-%COMP%]{grid-column:1;border-radius:6px 6px 0 0}[_nghost-%COMP%]   .verification-center-disclaimer[_ngcontent-%COMP%]{grid-column:1;border-radius:0 0 6px 6px}[_nghost-%COMP%]   .verification-center-add-docs[_ngcontent-%COMP%]{height:min-content;grid-column:2;grid-row:1 / span 5;border-top:none;border-radius:6px}}'],changeDetection:0}),a})();var Pt=c(64334),Z=c(46443),Xi=c(57840),dt=c(84647),Y=c(49074),gt=c(61801);let pt=(()=>{var e;class a{constructor(){this.generatedKeys$=new M.t([]),this.tempGeneratedKey$=new M.t(null),this.errorCode$=new M.t(null),this.unregAppKey$=new M.t(null),this.latestGeneratedKeyName$=new M.t(null),this.apiKeysUrl="/api/sts/non-interactive/v1/keys",this.http=(0,t.WQX)(Z.Qq),this.dialogService=(0,t.WQX)(m.o3),this.pubSubService=(0,t.WQX)(gt.R),this.destroyRef=(0,t.WQX)(t.abz),this.pubSubService.subscribe("logout:success",()=>{this.generatedKeys$.next([]),this.tempGeneratedKey$.next(null),this.unregAppKey$.next(null),this.latestGeneratedKeyName$.next(null),this.expirationDate=null,this.errorCode$.next(null)})}get latestKeyName$(){return this.latestGeneratedKeyName$.asObservable()}get userKeys$(){return this.generatedKeys$.asObservable()}get tempKey$(){return this.tempGeneratedKey$.asObservable()}get unregisteredAppKey$(){return this.unregAppKey$.asObservable()}get error$(){return this.errorCode$.asObservable()}getAllKeys(){this.http.get(this.apiKeysUrl).pipe((0,Y.pQ)(this.destroyRef)).subscribe(n=>{this.generatedKeys$.next(n.keys),this.tempGeneratedKey$.next(null),this.setPublicAppKey(n.unregisteredAppKey)},n=>{this.handleError(n)})}generateKey(n,i,r,s){const l={userKeyName:n,externalAppName:i,scopeNames:r,ipsWhitelist:s,expiresAt:this.expirationDate};this.latestGeneratedKeyName$.next(n),this.open2faDialog(l)}updateKey(n,i,r){this.open2faDialog({userKeyId:n,scopeNames:i,ipsWhitelist:r,expiresAt:this.expirationDate})}revokeKey(n){this.http.delete(`${this.apiKeysUrl}/${n}`).pipe((0,Y.pQ)(this.destroyRef)).subscribe(()=>{this.getAllKeys()},i=>{this.handleError(i)})}setExpirationDate(n){this.expirationDate=n}setPublicAppKey(n){this.unregAppKey$.next(n)}open2faDialog(n){const i=this.dialogService.open(Xi.x);i.componentInstance.flow=dt.KF.GenerateNonInteractiveKey,i.componentInstance.verifyPhoneApiRequest={method:"post",url:this.apiKeysUrl,body:n},i.componentInstance.eventOnApiError.subscribe(r=>{this.handleError(r),i.close()}),i.componentInstance.eventOnClose.subscribe(r=>{i.close()}),i.componentInstance.eventOnVerificationSuccess.subscribe(r=>{i.close(r)}),i.afterClosed().pipe((0,Y.pQ)(this.destroyRef)).subscribe(r=>{this.tempGeneratedKey$.next(r)})}handleError(n){this.errorCode$.next(n.errorCode),setTimeout(()=>{this.errorCode$.next(null)},8e3)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var f=c(47172);const ke=(0,f.hZ)("slideAnimation",[(0,f.kY)(":enter",[(0,f.iF)({transform:"translateX(-3%)",opacity:0}),(0,f.i0)("300ms ease-in-out",(0,f.iF)({transform:"translateY(0)",opacity:1}))]),(0,f.kY)(":leave",[(0,f.i0)("300ms ease-in-out",(0,f.iF)({transform:"translateY(-3%)",opacity:0}))])]),Li=(0,f.hZ)("fadeInOut",[(0,f.wk)("inactive",(0,f.iF)({opacity:0})),(0,f.wk)("active",(0,f.iF)({opacity:1})),(0,f.kY)(":enter",[(0,f.iF)({opacity:0}),(0,f.i0)("150ms 300ms ease-in-out",(0,f.iF)({opacity:1}))]),(0,f.kY)(":leave",[(0,f.i0)("300ms ease-in-out",(0,f.iF)({opacity:0}))])]),Yi=(0,f.hZ)("growShrink",[(0,f.wk)("inactive",(0,f.iF)({transform:"scale(0)",opacity:0})),(0,f.wk)("active",(0,f.iF)({transform:"scale(1)",opacity:1})),(0,f.kY)(":enter",[(0,f.iF)({transform:"scale(0)",opacity:0}),(0,f.i0)("500ms ease-in-out",(0,f.iF)({transform:"scale(1)",opacity:1}))]),(0,f.kY)(":leave",[(0,f.i0)("300ms ease-in-out",(0,f.iF)({transform:"scale(0)",opacity:0}))])]);function Hi(e,a){if(1&e&&(t.j41(0,"span",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=a.ngIf;t.R7$(1),t.SpI(" ",t.bMT(2,1,o)," ")}}let Oe=(()=>{var e;class a{constructor(){this.closeAction=new t.bkB,this.apiKeysService=(0,t.WQX)(pt)}ngOnInit(){this.errorCode$=this.apiKeysService.error$}revokeKey(){this.apiKeysService.revokeKey(this.key.userKeyId),this.closeAction.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-key-details"]],inputs:{key:"key"},outputs:{closeAction:"closeAction"},decls:13,vars:4,consts:[[1,"drawer-container","ets-main-bg","ets-popup-wrapper"],[1,"api-key-details-title","ets-title-secondary","ets-semi-bold"],[1,"key-name"],[1,"ets-plain-text","ets-neutral-90"],[1,"ets-plain-text","ets-semi-bold"],[1,"key-actions"],[1,"ets-button-basic","ets-button-primary-var",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2," API Key Details "),t.k0s(),t.j41(3,"div",2)(4,"div",3),t.EFF(5,"Key Name"),t.k0s(),t.j41(6,"div",4),t.EFF(7),t.k0s()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return i.revokeKey()}),t.EFF(10,"Revoke"),t.k0s(),t.DNE(11,Hi,3,3,"span",7),t.nI1(12,"async"),t.k0s()()),2&n&&(t.R7$(7),t.JRh(i.key.userKeyName),t.R7$(4),t.Y8G("ngIf",t.bMT(12,2,i.errorCode$)))},dependencies:[d.bT,d.Jj,h.D],styles:[".drawer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:16px 32px;gap:32px}@media (min-width: 768px){.drawer-container[_ngcontent-%COMP%]{min-width:600px}}.key-name[_ngcontent-%COMP%], .key-expiration[_ngcontent-%COMP%], .key-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.api-key-details-title[_ngcontent-%COMP%], .key-actions[_ngcontent-%COMP%]{align-self:center}"],changeDetection:0}),a})(),we=(()=>{var e;class a{transform(n,i=25,r="..."){return n?n.length>i?n.substring(0,i)+r:n:""}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.EJ8({name:"truncate",type:e,pure:!0}),a})();function zi(e,a){if(1&e){const o=t.RV6();t.qex(0),t.nrm(1,"et-tiles-multi-select",3),t.nI1(2,"async"),t.nI1(3,"truncate"),t.nI1(4,"async"),t.j41(5,"div",4),t.nrm(6,"span",5),t.j41(7,"span",6),t.EFF(8," Securely store this key. We do not save this info. "),t.k0s()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.copyKey())}),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG();t.Y8G("@slideAnimation",void 0),t.R7$(1),t.Y8G("tileTypeStyle","tileTypeStyle")("title",t.bMT(2,4,o.latestKeyName$)||"Temporary Key")("subtitle",t.bMT(3,6,t.bMT(4,8,o.tempGeneratedKey$)))}}function Ki(e,a){if(1&e){const o=t.RV6();t.qex(0),t.nrm(1,"et-tiles-multi-select",3),t.nI1(2,"uppercase"),t.nI1(3,"date"),t.j41(4,"div",9)(5,"button",10),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.isDesktop?s.openDialog(r):s.openDrawer(r))}),t.k0s()(),t.bVm()}if(2&e){const o=a.$implicit,n=t.XpG();t.Y8G("@slideAnimation",void 0),t.R7$(1),t.Y8G("tileTypeStyle","tileTypeStyle")("title",o.userKeyName)("subtitle",n.tempGeneratedKey?n.tempGeneratedKey:t.bMT(2,4,t.i5U(3,6,o.expirationDate,"dd/MM/yyyy, HH:mm a")))}}let Se=(()=>{var e;class a{constructor(n){this.dialogService=n,this.tempGeneratedKey$=new M.t(null),this.apiKeysService=(0,t.WQX)(pt),this.toastNotificationsService=(0,t.WQX)(m.Bx),this.uiBreakpointsService=(0,t.WQX)(m.MB),this.destroyRef=(0,t.WQX)(t.abz)}get isDesktop(){return this.uiBreakpointsService.isDesktop}ngOnInit(){this.userKeys$=this.apiKeysService.userKeys$,this.apiKeysService.tempKey$.pipe((0,Y.pQ)(this.destroyRef)).subscribe(n=>{this.tempGeneratedKey$.next(n.userKey),this.fullKey=n.userKey}),this.latestKeyName$=this.apiKeysService.latestKeyName$}openDrawer(n){var i;const r=this.dialogService.openDrawer(Oe);r.componentInstance.key=n,null===(i=r.componentInstance)||void 0===i||i.closeAction.pipe((0,Pt.s)(1)).subscribe(s=>r.close())}openDialog(n){var i;const r=this.dialogService.open(Oe,{disableClose:!1});null===(i=r.componentInstance)||void 0===i||i.closeAction.pipe((0,Pt.s)(1)).subscribe(s=>r.close()),r.componentInstance.key=n}copyKey(){var n=this;return(0,v.A)(function*(){yield navigator.clipboard.writeText(n.fullKey),n.toastNotificationsService.notifySuccess("Key copied to clipboard!")})()}revokeKey(n){this.apiKeysService.revokeKey(n.userKeyId)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(m.Rp))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-generated-keys"]],decls:6,vars:7,consts:[[1,"generated-keys-container"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tileTypeStyle","title","subtitle"],[1,"copy-key-warn-container"],[1,"ets-icon-info","ets-secondary-info"],[1,"copy-key-warn-text","ets-secondary-info"],[1,"copy-button-container"],[1,"copy-key-button",3,"click"],[1,"details-button-container"],[1,"details-button","ets-info","et-icon-arrow-end",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,zi,11,10,"ng-container",1),t.nI1(2,"async"),t.qex(3),t.DNE(4,Ki,6,9,"ng-container",2),t.nI1(5,"async"),t.bVm(),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngIf",null!==t.bMT(2,3,i.tempGeneratedKey$)),t.R7$(2),t.Y8G("@slideAnimation",void 0),t.R7$(1),t.Y8G("ngForOf",t.bMT(5,5,i.userKeys$)))},dependencies:[d.Sq,d.bT,m.IM,d.Jj,d.Pc,d.vh,we],styles:[".generated-keys-container[_ngcontent-%COMP%]{margin-top:10px}.details-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-inline:16px;transform:translateY(-42px);cursor:pointer;z-index:1000}.copy-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding-inline:16px;transform:translateY(-80px);cursor:pointer;z-index:1000}.copy-key-warn-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:5px}.copy-key-warn-text[_ngcontent-%COMP%]{display:flex;align-items:center}.copy-key-button[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/info.svg);background-color:transparent;height:36px;width:36px;background-repeat:no-repeat;background-position:center;border:none;cursor:pointer}.details-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:transparent;outline:none;min-width:30px;min-height:30px;border:1px solid;border-radius:15px;cursor:pointer}[_nghost-%COMP%]     et-tiles-multi-select{padding:0}"],data:{animation:[ke]},changeDetection:0}),a})(),Te=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[d.MD,C.YN,An.Ph,li,C.X1,m.py,Rn,Fn.d0,he.D,fe.W.forRoot(),Ln.q,vt.Yc,m.bj,En.uh,at.B,Dn.i,Un.M,$n.Z,Gn.d,Nn,jn.T,m.He,Bn.jr,m.d_,m.s7,m.Ss,Vn.NQ,Ce.R,Xn.R,ve.Z,Me,qt,m.bG,m.cd,m.q4]}),a})();var Ji=c(26556),Ie=c(64402),Bt=c(8105),Mt=c(42035),Wi=c(75681),qi=c(63617),Qt=c(87378),tt=c(70271),Re=c(2435),P=function(e){return e.EligibleThatNeverHadPlan="EligibleThatNeverHadPlan",e.HasOnlyActivePlan="HasOnlyActivePlan",e.HasOnlyActiveDepositPlan="HasOnlyActiveDepositPlan",e.HasOnlyHistory="HasOnlyHistory",e.HasActivePlanAndHistory="HasActivePlanAndHistory",e.HasActivePlansAndHistory="HasActivePlansAndHistory",e.NotEligibleCountryOrClub="NotEligibleCountryOrClub",e.NotEligibleMissingDeposit="NotEligibleMissingDeposit",e.HasHistoryAndNotEligibleByMissingDeposit="HasHistoryAndNotEligibleByMissingDeposit",e.HasActiveInvestmentPlanAndHistory="HasActiveInvestmentPlanAndHistory",e.HasActiveDepositPlanAndHistory="HasActiveDepositPlanAndHistory",e.HasBothPlans="HasBothPlans",e.HasOnlyActiveInvestmentPlan="HasOnlyActiveInvestmentPlan",e.HasOnlyActiveInvestmentPlanAndMissingDeposit="HasOnlyActiveInvestmentPlanAndMissingDeposit",e}(P||{});let kt=(()=>{var e;class a{constructor(n,i){this.loggerService=n,this.$analytics=i}track(n){this.loggerService.log({categories:["payments-settings"],message:n,domain:st.SB.Money}),this.$analytics.eventTrack(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(bt.g),t.KVO(k.c))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var w=c(295),S=c(80334);let Qi=(()=>{var e;class a{constructor(n,i){this.config=n,this.analytics=i,this.cancel=new t.bkB,this.keep=new t.bkB,this.close=new t.bkB}get imgSrc(){return this.config.dynamics.urls.etoroCdn+"/web-client/et/img/payments/settings-payments-tab/cancel-recurring-plan.svg"}ngOnInit(){this.analytics.track("Settings - Payments - Recurring Cancel PopUp - Page view")}handleCancel(){this.analytics.track("Settings - Payments - Recurring Cancel PopUp - stop Recurring click"),this.cancel.emit()}handleKeep(){this.analytics.track("Settings - Payments - Recurring Cancel PopUp - Keep Recurring click"),this.keep.emit()}handleClosePopup(){this.analytics.track("Settings - Payments - Recurring Cancel PopUp - Close popup"),this.close.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(y.R),t.rXU(kt))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-cancel-plan-popup"]],outputs:{cancel:"cancel",keep:"keep",close:"close"},decls:14,vars:13,consts:[[1,"dialog-close-button","sprite",3,"click"],[3,"src"],[1,"cmp-title",3,"innerHTML"],[1,"cmp-subtitle",3,"innerHTML"],[1,"cancel-btn","cmp-btn",3,"innerHTML","click"],[1,"keep-btn","cmp-btn",3,"innerHTML","click"]],template:function(n,i){1&n&&(t.j41(0,"a",0),t.bIt("click",function(){return i.handleClosePopup()}),t.k0s(),t.j41(1,"et-card")(2,"et-card-content")(3,"main"),t.nrm(4,"img",1)(5,"h2",2),t.nI1(6,"translate"),t.nrm(7,"p",3),t.nI1(8,"translate"),t.k0s(),t.j41(9,"footer")(10,"button",4),t.bIt("click",function(){return i.handleCancel()}),t.nI1(11,"translate"),t.k0s(),t.j41(12,"button",5),t.bIt("click",function(){return i.handleKeep()}),t.nI1(13,"translate"),t.k0s()()()()),2&n&&(t.R7$(4),t.Y8G("src",i.imgSrc,t.B4B),t.R7$(1),t.Y8G("innerHTML",t.bMT(6,5,"payments.settingsCancelRecurringPopupTitle"),t.npT),t.R7$(2),t.Y8G("innerHTML",t.bMT(8,7,"payments.settingsCancelRecurringPopupSubTitleV2"),t.npT),t.R7$(3),t.Y8G("innerHTML",t.bMT(11,9,"payments.settingsCancelRecurringPopupCancelRecurringBtn"),t.npT),t.R7$(2),t.Y8G("innerHTML",t.bMT(13,11,"payments.settingsCancelRecurringPopupKeepRecurringBtn"),t.npT))},dependencies:[w.i,S.l,h.D],styles:["[_nghost-%COMP%]{display:block;position:relative}@media (max-width: 767px){[_nghost-%COMP%]{height:100%}}et-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}@media (max-width: 767px){et-card[_ngcontent-%COMP%]{height:100%}et-card[_ngcontent-%COMP%]     .section{height:100%}}@media (min-width: 767px){et-card[_ngcontent-%COMP%]{width:657px;padding:72px}}@media (max-width: 767px){  et-card>section{height:100%}}@media (max-width: 767px){  .cancel-plan-popup-panel{height:100vh;width:100vw}  .cancel-plan-popup-panel et-dialog-container{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center}}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;height:50px;width:50px;background-position:0 -1195px;z-index:1;cursor:pointer}@media (max-width: 767px){.dialog-close-button[_ngcontent-%COMP%]{right:10px}}@media (min-width: 767px){.dialog-close-button[_ngcontent-%COMP%]{right:10px}}et-card-content[_ngcontent-%COMP%]{text-align:center}@media (max-width: 767px){et-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}et-card-content[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}}.cmp-subtitle[_ngcontent-%COMP%]{margin:0 auto 25px}@media (min-width: 767px){.cmp-subtitle[_ngcontent-%COMP%]{width:368px}}.cmp-btn[_ngcontent-%COMP%]{font-size:16px;padding:10px;margin:0 16px;border-radius:4px;cursor:pointer}@media (max-width: 767px){.cmp-btn[_ngcontent-%COMP%]{display:block;width:100%;margin:0 0 16px}}.cancel-btn[_ngcontent-%COMP%]{color:var(--secondary-100);border:1px solid var(--secondary-100);background:transparent}.keep-btn[_ngcontent-%COMP%]{background:var(--secondary-100);border:1px solid var(--secondary-100);color:var(--neutral-secondary-bg)}"],changeDetection:0}),a})(),Zi=(()=>{var e;class a{constructor(n,i){this.config=n,this.analytics=i,this.cancel=new t.bkB,this.keep=new t.bkB,this.close=new t.bkB,this.namespace="payments",this.imgPath=`${this.config.dynamics.urls.etoroCdn}/web-client/et/img/payments/`}ngOnInit(){this.analytics.track("Settings v2 - Payments - Recurring Cancel PopUp - Page view")}handleCancel(){this.analytics.track("Settings v2 - Payments - Recurring Cancel PopUp - stop Recurring click"),this.cancel.emit()}handleKeep(){this.analytics.track("Settings v2 - Payments - Recurring Cancel PopUp - Keep Recurring click"),this.keep.emit()}handleClosePopup(){this.analytics.track("Settings v2 - Payments - Recurring Cancel PopUp - Close popup"),this.close.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(y.R),t.rXU(kt))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-cancel-plan-popup-v2"]],outputs:{cancel:"cancel",keep:"keep",close:"close"},decls:19,vars:17,consts:[[1,"payments-dialog","payments-dialog--without-footer"],[1,"payments-dialog-header"],[1,"payments-dialog-button-close",3,"click"],[1,"payments-dialog-body"],[1,"payments-dialog-body-top"],[1,"cmp-top"],["alt","Calendar failure",1,"cmp-image",3,"src"],[1,"ets-title-main","et-text-align-center","cmp-title",3,"innerHTML"],[1,"ets-plain-text","et-margin-bottom-m","et-text-align-center","cmp-text",3,"innerHTML"],[1,"payments-dialog-body-bottom"],[1,"cmp-bottom"],["type","button",1,"ets-button-basic","ets-button-big","ets-button-primary","ets-button-basic-outline","cmp-button",3,"click"],["type","button",1,"ets-button-basic","ets-button-big","ets-button-primary","cmp-button",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.bIt("click",function(){return i.handleClosePopup()}),t.k0s()(),t.j41(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"img",6)(7,"div",7),t.nI1(8,"translate"),t.nrm(9,"div",8),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",9)(12,"div",10)(13,"button",11),t.bIt("click",function(){return i.handleCancel()}),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"button",12),t.bIt("click",function(){return i.handleKeep()}),t.EFF(17),t.nI1(18,"translate"),t.k0s()()()()()),2&n&&(t.R7$(6),t.Y8G("src",i.imgPath+"recurring/calendar-failure.svg",t.B4B),t.R7$(1),t.Y8G("innerHTML",t.i5U(8,5,"settingsCancelRecurringPopupTitle",i.namespace),t.npT),t.R7$(2),t.Y8G("innerHTML",t.i5U(10,8,"settingsCancelRecurringPopupSubTitle",i.namespace),t.npT),t.R7$(5),t.SpI(" ",t.i5U(15,11,"settingsCancelRecurringPopupCancelRecurringBtn",i.namespace)," "),t.R7$(3),t.SpI(" ",t.i5U(18,14,"settingsCancelRecurringPopupKeepRecurringBtn",i.namespace)," "))},dependencies:[h.D],styles:["[_nghost-%COMP%]{display:block;height:100%}.cmp-top[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.cmp-top[_ngcontent-%COMP%]   .cmp-image[_ngcontent-%COMP%]{max-width:164px;margin:40px 0}@media (min-width: 768px){.cmp-top[_ngcontent-%COMP%]   .cmp-image[_ngcontent-%COMP%]{margin:0 0 18px}}@media (min-width: 768px){.cmp-top[_ngcontent-%COMP%]   .cmp-title[_ngcontent-%COMP%], .cmp-top[_ngcontent-%COMP%]   .cmp-text[_ngcontent-%COMP%]{width:80%}}.cmp-top[_ngcontent-%COMP%]   .cmp-title[_ngcontent-%COMP%]{margin-bottom:18px}@media (min-width: 768px){.cmp-top[_ngcontent-%COMP%]   .cmp-title[_ngcontent-%COMP%]{margin-bottom:12px}}.cmp-top[_ngcontent-%COMP%]   .cmp-text[_ngcontent-%COMP%]{color:var(--secondary-neutral-text)}.cmp-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}@media (min-width: 768px){.cmp-bottom[_ngcontent-%COMP%]{flex-direction:unset;justify-content:center}}.cmp-bottom[_ngcontent-%COMP%]   .cmp-button[_ngcontent-%COMP%]{min-width:200px}.payments-dialog-body-bottom[_ngcontent-%COMP%]{justify-content:flex-end}"],changeDetection:0}),a})();var Ot=c(55076),to=c(62620),eo=c(17343),R=c(72777),Zt=c(44159),no=c(88430),Ae=c(87152),Vt=function(e){return e[e.Active=1]="Active",e[e.Cancelled=2]="Cancelled",e[e.Stopped=3]="Stopped",e[e.Paused=5]="Paused",e}(Vt||{}),V=function(e){return e[e.Deposit=1]="Deposit",e[e.Investment=2]="Investment",e}(V||{});function Fe(e){return e.some(a=>a.PlanStatus!==Vt.Active)}function Ee(e){return!e.PaymentMethodEligibility}var ro=c(93551);function De(e,a,o){return e.some(n=>n.RecurringProgramType===o)&&a.length>0}var go=c(20855);let Ue=(()=>{var e;class a{constructor(){this.appConfigService=(0,t.WQX)(y.R)}isPlanActive(n){return this.appConfigService.dynamics.payments.settings.activePlanStatuses.includes(n.PlanStatus)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),po=(()=>{var e;class a{constructor(n,i,r,s,l,g){this.httpClient=n,this.config=i,this.instrumentsService=r,this.recurringInvestmentService=s,this.recurringPlanAbTestService=l,this.recurringPlanHelperService=g}get(){var n=this;return(0,v.A)(function*(){const{eligibility:i,plans:r}=yield n.fetchUserRecurringDetails(),s=n.recurringPlanAbTestService.isEnabled();if(!s){const p=r.filter(u=>u.RecurringProgramType===V.Investment).map(u=>u.ID);if(null!=p&&p.length){const u=yield(0,jt._)(n.recurringInvestmentService.getInstrumentsByPlanIds(p));if(!(0,ro.A)(u))for(const _ of r){var l;if(null!==(l=u[_.ID])&&void 0!==l&&l.length)try{const b=yield n.instrumentsService.getInstrument(u[_.ID][0]);_.Instrument={AvatarUrl:b.Avatars.default,DisplayName:b.DisplayName,Name:b.Name}}catch(b){throw new Error(`Failed to fetch instrument for plan ID ${_.ID}: ${b}`)}}}}const g=s?function so(e,a,o){const n=a.filter(l=>o.isPlanActive(l)),i=a.filter(l=>!o.isPlanActive(l)),s=i.length>0;if(n.length>0)return function co(e){return e.some(a=>a.RecurringProgramType===V.Deposit)&&e.some(a=>a.RecurringProgramType===V.Investment)}(n)?s?P.HasActivePlansAndHistory:P.HasBothPlans:De(n,i,V.Investment)?P.HasActiveInvestmentPlanAndHistory:De(n,i,V.Deposit)?P.HasActiveDepositPlanAndHistory:function lo(e){return e.every(a=>a.RecurringProgramType===V.Investment)}(n)?e.PaymentMethodEligibility?P.HasOnlyActiveInvestmentPlan:P.HasOnlyActiveInvestmentPlanAndMissingDeposit:P.HasOnlyActiveDepositPlan;if(s)return e.PaymentMethodEligibility?P.HasOnlyHistory:P.HasHistoryAndNotEligibleByMissingDeposit;if(e.IsEligible)return P.EligibleThatNeverHadPlan;if(!e.CountryEligibility||!e.ClubEligibility)return P.NotEligibleCountryOrClub;if(!e.PaymentMethodEligibility)return P.NotEligibleMissingDeposit;throw new Error("Couldn't parse user recurring status")}(i,r,n.recurringPlanHelperService):function io(e,a){if(function oo(e){return e.some(a=>a.PlanStatus===Vt.Active)}(a))return Fe(a)?P.HasActivePlanAndHistory:P.HasOnlyActivePlan;if(Fe(a))return Ee(e)?P.HasHistoryAndNotEligibleByMissingDeposit:P.HasOnlyHistory;if(e.IsEligible)return P.EligibleThatNeverHadPlan;if(function ao(e){return!e.CountryEligibility||!e.ClubEligibility}(e))return P.NotEligibleCountryOrClub;if(Ee(e))return P.NotEligibleMissingDeposit;throw new Error("Couldn't parse user recurring status")}(i,r);return Promise.resolve({eligibility:i,plans:r,activePlan:n.getActivePlan(r),activeDepositPlan:n.getActivePlan(r,V.Deposit),activeInvestmentPlan:n.getActivePlan(r,V.Investment),inactivePlans:n.getInactivePlans(r),userRecurringStatus:g})})()}getActivePlan(n,i){return n.find(r=>this._isPlanActive(r)&&(!i||r.RecurringProgramType===i))}getInactivePlans(n){return n.filter(r=>!this._isPlanActive(r)).sort(function i(r,s){return new Date(r.Scheduling.EndUtcDate).getTime()<new Date(s.Scheduling.EndUtcDate).getTime()?1:-1})}fetchUserRecurringDetails(){var n=this;return(0,v.A)(function*(){const i=yield n.httpClient.get(n.config.dynamics.payments.settings.recurringSettingsUrl).toPromise();return{plans:i.Plans,eligibility:i.Eligibility}})()}_isPlanActive(n){return this.recurringPlanHelperService.isPlanActive(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(Z.Qq),t.KVO(y.R),t.KVO(go.u),t.KVO(Ae.Y),t.KVO(Ot.P),t.KVO(Ue))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),uo=(()=>{var e;class a{constructor(n,i){this.config=n,this.httpClient=i}cancel(n){var i=this;return(0,v.A)(function*(){return{success:yield i.httpClient.post(i.config.dynamics.payments.settings.cancelPlanUrl,{PaymentId:n}).toPromise()}})()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(y.R),t.KVO(Z.Qq))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();function mo(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.handleBtnClick())}),t.nI1(1,"translate"),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,o.config.buttonKey),t.npT)}}let ho=(()=>{var e;class a{get logoSrc(){return this.appConfig.dynamics.urls.etoroCdn+`/web-client/et/img/payments/deposit-teaser/${this.isDarkMode?"recurring-calender-dark":"recurring-calender"}.svg`}constructor(n,i){this.appConfig=n,this.themeService=i,this.isDarkMode="dark"===this.themeService.state}ngOnInit(){}handleBtnClick(){this.config.btnAction&&this.config.btnAction()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(y.R),t.rXU(m.Fs))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-box-with-pig"]],inputs:{config:"config"},decls:8,vars:8,consts:[[3,"src"],[1,"cmp-title",3,"innerHTML"],[1,"cmp-subtitle",3,"innerHTML"],["class","cmp-btn",3,"innerHTML","click",4,"ngIf"],[1,"cmp-btn",3,"innerHTML","click"]],template:function(n,i){1&n&&(t.j41(0,"et-card")(1,"et-card-content"),t.nrm(2,"img",0)(3,"h3",1),t.nI1(4,"translate"),t.nrm(5,"p",2),t.nI1(6,"translate"),t.DNE(7,mo,2,3,"button",3),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("src",i.logoSrc,t.B4B),t.R7$(1),t.Y8G("innerHTML",t.bMT(4,4,i.config.titleKey),t.npT),t.R7$(2),t.Y8G("innerHTML",t.bMT(6,6,i.config.subTitleKey),t.npT),t.R7$(2),t.Y8G("ngIf",i.config.buttonKey))},dependencies:[d.bT,w.i,S.l,h.D],styles:["[_nghost-%COMP%]{text-align:center}et-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.cmp-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:16px}.cmp-subtitle[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:16px;max-width:672px;margin:0 auto 16px}.cmp-btn[_ngcontent-%COMP%]{font-size:14px;padding:8px 41px;background:var(--neutral-secondary-bg);color:var(--secondary-100);font-weight:700;border:solid 1px var(--secondary-100);border-radius:4px;letter-spacing:-.18px;cursor:pointer}[_nghost-%COMP%]  .e-link{text-decoration:underline}[_nghost-%COMP%]  .light-blue{color:var(--secondary-100)}"],changeDetection:0}),a})();var $=c(67640),te=c(58068),ee=c(58134),fo=c(86707);let wt=(()=>{var e;class a{constructor(n,i){this.appCurrencyService=n,this.localizeService=i}getAmount(n){return`<span class="digits">\n              ${this.appCurrencyService.getCurrency(n.Payment.CurrencyID).symbol+n.Payment.Amount.toLocaleString()}\n            </span>`}getAmountAndFrequency(n){return this.getAmount(n)+`<span>\n    ${this.tc(function s(l){return"recurrringPlanDetailsCycle"+l}(n.Scheduling.Frequency),!1,{})}\n    </span>`}getChargeDayText(n,{isMonthlyVerbal:i=!1}){const r=n.Scheduling.ChargeDay;switch(n.Scheduling.Frequency){case ee.d.Weekly:case ee.d.BiWeekly:return this.tns("payments","recurringPlanDetailsDays"+r);case ee.d.Monthly:return this.tc((i?"settingsRecurringPlanChargeDayMonthlyVerbal":"settingsRecurringPlanChargeDayMonthly")+r,!1,{date:n.Scheduling.ChargeDay})}}tc(n,i=!1,r){return this.localizeService.getResourceInterpolated(`payments.${n}`,r,i,!0)}tns(n,i,r=!1,s=!1){return this.localizeService.getResource(`${n}.${i}`,r,s)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(fo.M),t.KVO(x.X))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var $e=c(76958);let St=(()=>{var e;class a{constructor(n){this.userSessionService=n}formatDate(n){const i="string"==typeof n?new Date(n):n,r=i.getFullYear();return this.userSessionService.isUsUser()?g()+"/"+l()+"/"+r:l()+"/"+g()+"/"+r;function l(){const p=i.getDate();return p<10?"0"+p:""+p}function g(){const p=i.getMonth()+1;return p<10?"0"+p:p+""}}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO($e.h))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),_o=(()=>{var e;class a{get startDateFormatted(){return this.formatDateHelperService.formatDate(new Date(this.plan.Scheduling.StartUtcDate))}get chargeDayText(){return this.planAmountService.getChargeDayText(this.plan,{isMonthlyVerbal:!1})}get fundingLogo(){return this.fundingPresentationService.getLogo(this.plan.Payment.Funding)}amountAndFrequencyText(){return this.planAmountService.getAmountAndFrequency(this.plan)}getFundingIdentifier(){return this.fundingPresentationService.getFundingIdentifier(this.plan.Payment.Funding)}constructor(n,i,r){this.fundingPresentationService=n,this.planAmountService=i,this.formatDateHelperService=r,this.cancelPlan=new t.bkB}ngOnInit(){}cancel(){this.cancelPlan.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(te.f),t.rXU(wt),t.rXU(St))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-active-recurring-plan-line"]],inputs:{plan:"plan"},outputs:{cancelPlan:"cancelPlan"},decls:33,vars:18,consts:[[1,"recurring-plan-line"],[1,"plan-details"],[1,"recurring-plan-line-part"],[1,"amount-and-frequency",3,"innerHTML"],[1,"funding-description"],[1,"payment-method-logo",3,"src"],[1,"dots"],[1,"card-number"],[1,"plan-attribute-value"],[1,"plan-attribute-name"],[1,"actions"],[1,"cancel-btn",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"div",3),t.j41(4,"div",4),t.nrm(5,"img",5),t.j41(6,"div")(7,"span",6),t.EFF(8," \u2022\u2022\u2022\u2022 "),t.k0s(),t.j41(9,"span",7),t.EFF(10),t.k0s()()()(),t.j41(11,"div",2)(12,"div",8),t.EFF(13),t.k0s(),t.j41(14,"div",9),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"div",2)(18,"div",8),t.EFF(19),t.k0s(),t.j41(20,"div",9),t.EFF(21),t.nI1(22,"translate"),t.k0s()(),t.j41(23,"div",2)(24,"div",8),t.EFF(25),t.k0s(),t.j41(26,"div",9),t.EFF(27),t.nI1(28,"translate"),t.k0s()()(),t.j41(29,"div",10)(30,"button",11),t.bIt("click",function(){return i.cancel()}),t.EFF(31),t.nI1(32,"translate"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("innerHTML",i.amountAndFrequencyText(),t.npT),t.R7$(2),t.Y8G("src",i.fundingLogo,t.B4B),t.R7$(5),t.SpI(" ",i.getFundingIdentifier()," "),t.R7$(3),t.SpI(" ",i.startDateFormatted," "),t.R7$(2),t.SpI(" ",t.bMT(16,10,"payments.settingsRecurringPlanStartDate")," "),t.R7$(4),t.SpI(" ",i.chargeDayText," "),t.R7$(2),t.SpI(" ",t.bMT(22,12,"payments.settingsRecurringPlanChargeDay")," "),t.R7$(4),t.SpI(" ",i.plan.ID," "),t.R7$(2),t.SpI(" ",t.bMT(28,14,"payments.settingsRecurringPlanID")," "),t.R7$(4),t.SpI(" ",t.bMT(32,16,"payments.settingsRecurringPlanCancel")," "))},dependencies:[h.D],styles:["[_nghost-%COMP%]  .digits{font-weight:700}.recurring-plan-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.plan-details[_ngcontent-%COMP%]{height:100%}.end-part[_ngcontent-%COMP%]{display:flex;align-items:center}.recurring-plan-line-part[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;justify-content:space-between}.recurring-plan-line-part[_ngcontent-%COMP%]:not(:last-child){border-right:solid .5px rgba(var(--rgb-neutral-100),.1);padding-right:15px}.recurring-plan-line-part[_ngcontent-%COMP%]:not(:first-child){margin-left:8px}.amount-and-frequency[_ngcontent-%COMP%]{font-weight:700;font-size:20px;letter-spacing:-.42px;max-width:170px;display:flex;flex-flow:row wrap;-moz-column-gap:5px;column-gap:5px}.funding-description[_ngcontent-%COMP%]{display:flex;align-items:center}.payment-method-logo[_ngcontent-%COMP%]{height:20px;margin-inline-end:20px}.dots[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:400}.card-number[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:400;width:85px}.plan-attribute-value[_ngcontent-%COMP%]{font-size:20px;color:var(--primary-neutral-text);letter-spacing:-.5px;margin-bottom:8px}.plan-attribute-name[_ngcontent-%COMP%]{font-size:12px;color:var(--secondary-neutral-text)}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.cancel-btn[_ngcontent-%COMP%]{background:transparent;color:var(--secondary-100-hover);border:solid 1px var(--secondary-100-hover);border-radius:4px;padding:8px 11px 8px 10px;font-size:14px;font-weight:700;min-width:101px;cursor:pointer}"],changeDetection:0}),a})();var ut=c(34127);function Co(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",18),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.cancel())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"payments.settingsRecurringPlanCancel")," "))}function vo(e,a){if(1&e&&(t.j41(0,"div",14)(1,"div",15),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",16),t.EFF(5),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"payments.settingsRecurringPlanEndDay")," "),t.R7$(3),t.SpI(" ",o.endDateFormatted," ")}}const bo=function(e){return{id:e}};let Ge=(()=>{var e;class a{get startDateFormatted(){return this.formatDateHelperService.formatDate(new Date(this.plan.Scheduling.StartUtcDate))}get chargeDayText(){return this.planAmountService.getChargeDayText(this.plan,{isMonthlyVerbal:!0})}get isPlanActive(){return this.plan.PlanStatus===Vt.Active}get isPlanEnded(){return!this.isPlanActive}get endDateFormatted(){return this.formatDateHelperService.formatDate(new Date(this.plan.Scheduling.EndUtcDate))}get fundingLogo(){return this.fundingPresentationService.getLogo(this.plan.Payment.Funding)}amountAndCurrencyFormatted(){return this.planAmountService.getAmount(this.plan)}amountAndFrequencyText(){return this.planAmountService.getAmountAndFrequency(this.plan)}getFundingIdentifier(){return this.fundingPresentationService.getFundingIdentifier(this.plan.Payment.Funding)}constructor(n,i,r){this.fundingPresentationService=n,this.planAmountService=i,this.formatDateHelperService=r,this.cancelPlan=new t.bkB}cancel(){this.cancelPlan.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(te.f),t.rXU(wt),t.rXU(St))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-plan-full-details"]],inputs:{plan:"plan"},outputs:{cancelPlan:"cancelPlan"},decls:34,vars:19,consts:[[1,"id-holder"],[1,"cmp-wrapper"],[1,"above-divider"],[1,"start-part"],[1,"amount-and-frequency",3,"innerHTML"],[1,"funding-description"],[1,"payment-method-logo",3,"src"],[1,"dots"],[1,"card-number"],[1,"end-part"],["class","cancel-btn",3,"click",4,"ngIf"],[1,"cmp-divider"],[1,"under-divider"],[1,"plan-details"],[1,"a-plan-detail"],[1,"plan-detail-attribute"],[1,"plan-detail-value"],["class","a-plan-detail",4,"ngIf"],[1,"cancel-btn",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"et-card")(1,"et-card-content")(2,"div",0),t.EFF(3),t.nI1(4,"translateInterpolated"),t.k0s(),t.j41(5,"div",1)(6,"div",2)(7,"div",3),t.nrm(8,"div",4),t.j41(9,"div",5),t.nrm(10,"img",6),t.j41(11,"div")(12,"span",7),t.EFF(13," \u2022\u2022\u2022\u2022 "),t.k0s(),t.j41(14,"span",8),t.EFF(15),t.k0s()()()(),t.j41(16,"div",9),t.DNE(17,Co,3,3,"button",10),t.k0s()(),t.nrm(18,"div",11),t.j41(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.j41(25,"div",16),t.EFF(26),t.k0s()(),t.j41(27,"div",14)(28,"div",15),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.j41(31,"div",16),t.EFF(32),t.k0s()(),t.DNE(33,vo,6,4,"div",17),t.k0s()()()()()),2&n&&(t.R7$(3),t.SpI(" ",t.i5U(4,10,"payments.settingsRecurringPlanIDWithHash",t.eq3(17,bo,i.plan.ID))," "),t.R7$(5),t.Y8G("innerHTML",i.amountAndFrequencyText(),t.npT),t.R7$(2),t.Y8G("src",i.fundingLogo,t.B4B),t.R7$(5),t.SpI(" ",i.getFundingIdentifier()," "),t.R7$(2),t.Y8G("ngIf",i.isPlanActive),t.R7$(6),t.SpI(" ",t.bMT(24,13,"payments.settingsRecurringPlanStartDate")," "),t.R7$(3),t.SpI(" ",i.startDateFormatted," "),t.R7$(3),t.SpI(" ",t.bMT(30,15,"payments.settingsRecurringPlanChargeDay")," "),t.R7$(3),t.SpI(" ",i.chargeDayText," "),t.R7$(1),t.Y8G("ngIf",i.isPlanEnded))},dependencies:[d.bT,w.i,S.l,h.D,ut.G],styles:["[_nghost-%COMP%]{display:block}@media (min-width: 768px){et-inactive-plan-popup[_nghost-%COMP%]   et-card[_ngcontent-%COMP%], et-inactive-plan-popup   [_nghost-%COMP%]   et-card[_ngcontent-%COMP%]{width:600px}}[_nghost-%COMP%]  .digits{font-weight:700}.amount-and-frequency[_ngcontent-%COMP%]{font-weight:700;letter-spacing:-.42px}@media (max-width: 767px){.amount-and-frequency[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}}@media (min-width: 768px){.amount-and-frequency[_ngcontent-%COMP%]{font-size:22px}}.funding-description[_ngcontent-%COMP%]{display:flex;align-items:center}.payment-method-logo[_ngcontent-%COMP%]{height:20px;margin-inline-end:20px}.dots[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:400}.card-number[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:400;width:85px}.cmp-divider[_ngcontent-%COMP%]{border-top:solid .5px rgba(var(--rgb-neutral-100),.2)}@media (max-width: 767px){.cmp-divider[_ngcontent-%COMP%]{margin:15px 0}}@media (min-width: 768px){.cmp-divider[_ngcontent-%COMP%]{margin:25px 0}}.above-divider[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.a-plan-detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin:15px 0}.a-plan-detail[_ngcontent-%COMP%]:last-child{margin-bottom:0}.plan-detail-attribute[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:16px}.plan-detail-value[_ngcontent-%COMP%]{font-size:16px;color:var(--primary-neutral-text)}.end-part[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.cancel-btn[_ngcontent-%COMP%]{border-radius:4px;border:solid 1px var(--secondary-100);background:transparent;color:var(--secondary-100);font-weight:700;padding:7px 27px;font-size:14px;cursor:pointer}@media (min-width: 768px){.cmp-wrapper[_ngcontent-%COMP%]{padding:30px;box-shadow:0 1px 6px 1px rgba(var(--rgb-neutral-100),.07)}}.id-holder[_ngcontent-%COMP%]{font-family:DINOT,general-font,Arial,sans-serif;direction:ltr;margin-bottom:15px;color:var(--secondary-neutral-text);font-size:16px}et-active-recurring-plans[_nghost-%COMP%]   et-card[_ngcontent-%COMP%], et-active-recurring-plans   [_nghost-%COMP%]   et-card[_ngcontent-%COMP%]{padding:0}"],changeDetection:0}),a})(),yo=(()=>{var e;class a{constructor(){this.cancelPlan=new t.bkB}ngOnInit(){}cancel(){this.cancelPlan.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-active-recurring-plans"]],inputs:{plan:"plan"},outputs:{cancelPlan:"cancelPlan"},decls:8,vars:5,consts:[[1,"cmp-divider-line"],[1,"display-wide-desktop",3,"plan","cancelPlan"],[1,"display-desktop-mobile",3,"plan","cancelPlan"]],template:function(n,i){1&n&&(t.j41(0,"et-card")(1,"et-card-title"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content"),t.nrm(5,"div",0),t.j41(6,"et-active-recurring-plan-line",1),t.bIt("cancelPlan",function(){return i.cancel()}),t.k0s(),t.j41(7,"et-plan-full-details",2),t.bIt("cancelPlan",function(){return i.cancel()}),t.k0s()()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,3,"payments.settingsActiveRecurringPlansTitle")," "),t.R7$(4),t.Y8G("plan",i.plan),t.R7$(1),t.Y8G("plan",i.plan))},dependencies:[w.i,$.y,S.l,_o,Ge,h.D],styles:[".cmp-divider[_ngcontent-%COMP%]{border-top:solid 1px rgba(var(--rgb-neutral-100),.2);margin-bottom:52px}@media (min-width: 768px){.cmp-divider-line[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(var(--rgb-neutral-100),.2);margin:25px 0}}@media screen and (min-width: 1025px){.cmp-divider-line[_ngcontent-%COMP%]{margin:50px 0}}@media screen and (min-width: 1366px){.cmp-divider-line[_ngcontent-%COMP%]{margin:64px 0 50px}}.display-only-desktop[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.display-only-desktop[_ngcontent-%COMP%]{display:block}}.display-only-mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 767px){.display-only-mobile[_ngcontent-%COMP%]{display:block}}.display-wide-desktop[_ngcontent-%COMP%]{display:none}@media (min-width: 1366px){.display-wide-desktop[_ngcontent-%COMP%]{display:block}}.display-desktop-mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 1365px){.display-desktop-mobile[_ngcontent-%COMP%]{display:block}}"],changeDetection:0}),a})(),xo=(()=>{var e;class a{constructor(){this.close=new t.bkB}ngOnInit(){}closeHandler(){this.close.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-inactive-plan-popup"]],inputs:{plan:"plan"},decls:4,vars:1,consts:[[1,"dialog-close-button","sprite",3,"click"],[3,"plan"]],template:function(n,i){1&n&&(t.j41(0,"a",0),t.bIt("click",function(){return i.closeHandler()}),t.k0s(),t.j41(1,"et-card")(2,"et-card-content"),t.nrm(3,"et-plan-full-details",1),t.k0s()()),2&n&&(t.R7$(3),t.Y8G("plan",i.plan))},dependencies:[w.i,S.l,Ge],styles:["[_nghost-%COMP%]  et-plan-full-details et-card{padding:0;margin:0}[_nghost-%COMP%]{position:relative}@media (min-width: 767px){[_nghost-%COMP%]{display:block}}@media (max-width: 767px){[_nghost-%COMP%]{margin:0 15px}}@media (max-width: 767px){et-card[_ngcontent-%COMP%]{padding:40px 20px 20px}}@media (min-width: 767px){et-card[_ngcontent-%COMP%]{padding:40px 30px 56px;margin:0}}.dialog-close-button[_ngcontent-%COMP%]{position:absolute;top:10px;height:50px;width:50px;background-position:0 -1195px;z-index:1;cursor:pointer}@media (max-width: 767px){.dialog-close-button[_ngcontent-%COMP%]{right:7px}}@media (min-width: 767px){.dialog-close-button[_ngcontent-%COMP%]{right:20px}}@media (max-width: 767px){  .inactive-plan-panel{height:100vh;width:100vw}  .inactive-plan-panel et-dialog-container{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center}}"],changeDetection:0}),a})();const Po=function(e){return{date:e}};function Mo(e,a){if(1&e){const o=t.RV6();t.qex(0),t.nrm(1,"div",2),t.j41(2,"div",3),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.openFullDetails(r))}),t.j41(3,"div",4),t.nrm(4,"div",5)(5,"i",6),t.k0s(),t.j41(6,"div",7),t.EFF(7),t.nI1(8,"translateInterpolated"),t.k0s()(),t.bVm()}if(2&e){const o=a.$implicit,n=t.XpG();t.R7$(4),t.Y8G("innerHTML",n.getAmountAndFrequencyText(o),t.npT),t.R7$(3),t.SpI(" ",t.i5U(8,2,"payments.inactivePlansEnded",t.eq3(5,Po,n.formatDateHelperService.formatDate(o.Scheduling.EndUtcDate)))," ")}}let ko=(()=>{var e;class a{constructor(n,i,r,s){this.dialog=n,this.planAmountService=i,this.analytics=r,this.formatDateHelperService=s}ngOnInit(){}openFullDetails(n){this.analytics.track("Settings - Payments - Recurring inactive line - click");const i=this.dialog.open(xo,{panelClass:"inactive-plan-panel"});i.componentInstance.plan=n,i.componentInstance.close.subscribe(r=>i.close())}getAmount(n){return this.planAmountService.getAmount(n)}getAmountAndFrequencyText(n){return this.planAmountService.getAmountAndFrequency(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(R.o3),t.rXU(wt),t.rXU(kt),t.rXU(St))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-inactive-plans"]],inputs:{plans:"plans"},decls:7,vars:4,consts:[[1,"inactive-plans"],[4,"ngFor","ngForOf"],[1,"cmp-divider"],[1,"an-inactive-plan",3,"click"],[1,"an-inactive-plan-top-line"],[1,"price-and-freqeuncy",3,"innerHTML"],[1,"icon-arrow-right"],[1,"end-date"]],template:function(n,i){1&n&&(t.j41(0,"et-card")(1,"et-card-title"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content")(5,"div",0),t.DNE(6,Mo,9,7,"ng-container",1),t.k0s()()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"payments.inactivePlansListTitleV2")," "),t.R7$(4),t.Y8G("ngForOf",i.plans))},dependencies:[d.Sq,w.i,$.y,S.l,h.D,ut.G],styles:[".inactive-plans[_ngcontent-%COMP%]{width:99%}.an-inactive-plan[_ngcontent-%COMP%]{cursor:pointer}.an-inactive-plan-top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-right:15px}.price-and-freqeuncy[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin-bottom:5px}.end-date[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-weight:400}[_nghost-%COMP%]  et-card>section{display:flex;height:100%;flex-direction:column}.cmp-divider[_ngcontent-%COMP%]{border-bottom:solid .5px rgba(151,151,151,.2);margin:30px 0}.cmp-divider[_ngcontent-%COMP%]:first-of-type{display:none}et-card-content[_ngcontent-%COMP%]{overflow-y:auto}"],changeDetection:0}),a})();var Oo=c(15424),et=c(54564);function wo(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card-footer")(1,"button",6),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.handleBtnClick())}),t.nI1(2,"translate"),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("innerHTML",t.bMT(2,1,o.config.buttonKey),t.npT)}}function So(e,a){if(1&e&&(t.qex(0),t.j41(1,"et-card")(2,"et-card-content"),t.nrm(3,"img",2)(4,"div",3),t.nI1(5,"translate"),t.nrm(6,"div",4),t.nI1(7,"translate"),t.k0s(),t.DNE(8,wo,3,3,"et-card-footer",5),t.k0s(),t.bVm()),2&e){const o=t.XpG();t.R7$(3),t.Y8G("src",o.imgPath+"recurring/calendar-default.svg",t.B4B),t.R7$(1),t.Y8G("innerHTML",t.bMT(5,4,o.config.titleKey),t.npT),t.R7$(2),t.Y8G("innerHTML",t.bMT(7,6,o.config.subTitleKey),t.npT),t.R7$(2),t.Y8G("ngIf",o.config.buttonKey)}}const To=function(e,a){return{"ets-button-big":e,"ets-button-small et-margin-bottom-xl":a}};function Io(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.handleBtnClick())}),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("ngClass",t.l_i(8,To,!t.bMT(1,2,o.isMobile$),t.bMT(2,4,o.isMobile$)))("innerHTML",t.bMT(3,6,o.config.buttonKey),t.npT)}}const Ro=function(e,a){return{"et-flex-column et-flex-align-center":e,"et-flex-row et-flex-align-end":a}},Ao=function(e){return{"et-flex-column et-flex-align-start":e}},je=function(e){return{"et-text-align-start":e}};function Fo(e,a){if(1&e&&(t.j41(0,"et-card")(1,"et-card-content")(2,"div",7),t.nI1(3,"async"),t.nI1(4,"async"),t.nrm(5,"img",8),t.j41(6,"div",9),t.nI1(7,"async"),t.nrm(8,"div",10),t.nI1(9,"async"),t.nI1(10,"translate"),t.nrm(11,"div",11),t.nI1(12,"async"),t.nI1(13,"translate"),t.DNE(14,Io,4,11,"button",12),t.k0s()()()()),2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngClass",t.l_i(22,Ro,!t.bMT(3,8,o.isMobile$),t.bMT(4,10,o.isMobile$))),t.R7$(3),t.Y8G("src",o.imgPath+"recurring/calendar-default-v2.svg",t.B4B),t.R7$(1),t.Y8G("ngClass",t.eq3(25,Ao,t.bMT(7,12,o.isMobile$))),t.R7$(2),t.Y8G("ngClass",t.eq3(27,je,t.bMT(9,14,o.isMobile$)))("innerHTML",t.bMT(10,16,o.config.titleKey),t.npT),t.R7$(3),t.Y8G("ngClass",t.eq3(29,je,t.bMT(12,18,o.isMobile$)))("innerHTML",t.bMT(13,20,o.config.subTitleKey),t.npT),t.R7$(3),t.Y8G("ngIf",o.config.buttonKey)}}let Eo=(()=>{var e;class a{constructor(n,i,r){this.recurringPlanAbTestService=n,this.appConfigService=i,this.uiBreakpointsService=r,this.imgPath=`${this.appConfigService.dynamics.urls.etoroCdn}/web-client/et/img/payments/`}ngOnInit(){this.isMobile$=this.uiBreakpointsService.observe(E.r.Mobile).pipe((0,Oo.E)("matches"))}handleBtnClick(){this.config.btnAction&&this.config.btnAction()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Ot.P),t.rXU(y.R),t.rXU(E.M))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-box-with-pig-v2"]],inputs:{config:"config"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["cardV2",""],["alt","Calendar default",1,"cmp-image",3,"src"],[1,"ets-title-main","cmp-title",3,"innerHTML"],[1,"ets-plain-text","et-margin-bottom-m","cmp-text",3,"innerHTML"],[4,"ngIf"],["type","button",1,"ets-button-basic","ets-button-big","ets-button-primary","cmp-button",3,"innerHTML","click"],[1,"card-content",3,"ngClass"],["alt","Calendar default",1,"cmp-image-v2",3,"src"],[1,"card-content-bottom","et-margin-top-m",3,"ngClass"],[1,"ets-title-main","cmp-title",3,"ngClass","innerHTML"],[1,"ets-plain-text","ets-neutral-90","et-margin-bottom-m","cmp-text",3,"ngClass","innerHTML"],["class","ets-button-basic ets-button-big ets-button-primary cmp-button-v2","type","button",3,"ngClass","innerHTML","click",4,"ngIf"],["type","button",1,"ets-button-basic","ets-button-big","ets-button-primary","cmp-button-v2",3,"ngClass","innerHTML","click"]],template:function(n,i){if(1&n&&(t.DNE(0,So,9,8,"ng-container",0),t.DNE(1,Fo,15,31,"ng-template",null,1,t.C5r)),2&n){const r=t.sdS(2);t.Y8G("ngIf",!i.recurringPlanAbTestService.isEnabled())("ngIfElse",r)}},dependencies:[d.YU,d.bT,w.i,S.l,et.R,d.Jj,h.D],styles:["[_nghost-%COMP%]{display:block;text-align:center}.cmp-image[_ngcontent-%COMP%]{max-width:164px;margin:40px 0}@media (min-width: 768px){.cmp-image[_ngcontent-%COMP%]{margin:0 0 18px}}.cmp-image-v2[_ngcontent-%COMP%]{max-width:150px}@media (min-width: 768px){.cmp-image-v2[_ngcontent-%COMP%]{margin:0 0 18px}}.cmp-title[_ngcontent-%COMP%]{margin-bottom:18px}@media (min-width: 768px){.cmp-title[_ngcontent-%COMP%]{margin-bottom:12px}}.cmp-text[_ngcontent-%COMP%]{color:var(--secondary-neutral-text)}@media (max-width: 767px){.card-content[_ngcontent-%COMP%]{flex-direction:row-reverse}}.cmp-button[_ngcontent-%COMP%]{min-width:200px}@media (min-width: 768px){.cmp-button-v2[_ngcontent-%COMP%]{min-width:200px}}[_nghost-%COMP%]     .cmp-title .light-blue{color:var(--brand-action-text)}[_nghost-%COMP%]     .cmp-text .link{color:var(--brand-action-text)}[_nghost-%COMP%]     .cmp-text .link:hover{color:var(--brand-hover-actions)}"],changeDetection:0}),a})();function Do(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.cancel())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&e){const o=t.XpG();t.R7$(1),t.SpI(" ",t.i5U(2,1,"settingsRecurringPlanCancel",o.namespace)," ")}}const Uo=function(e){return{key:"settingsRecurringPlanEndDay",value:e}};function $o(e,a){if(1&e&&t.eu8(0,9),2&e){const o=t.XpG(),n=t.sdS(21);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,Uo,o.endDateFormatted))}}function Go(e,a){if(1&e&&(t.qex(0),t.nrm(1,"div",8),t.j41(2,"div",0)(3,"span",15),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"div",16),t.nrm(7,"img",17),t.j41(8,"div",18)(9,"span",19),t.EFF(10),t.k0s(),t.j41(11,"span",20),t.EFF(12),t.k0s()()()(),t.bVm()),2&e){const o=t.XpG();t.R7$(4),t.JRh(t.i5U(5,4,"settingsRecurringPlanAsset",o.namespace)),t.R7$(3),t.Y8G("src",o.plan.Instrument.AvatarUrl,t.B4B),t.R7$(3),t.JRh(o.plan.Instrument.Name),t.R7$(2),t.JRh(o.plan.Instrument.DisplayName)}}function jo(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",21)(1,"a",22),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.goToPortfolioPage())}),t.nrm(2,"span",23),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(3),t.SpI(" ",t.i5U(4,1,"settingsRecurringPlanLink",o.namespace)," ")}}function Bo(e,a){if(1&e&&(t.j41(0,"div",24)(1,"div",25),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",26),t.EFF(5),t.k0s()()),2&e){const o=a.key,n=a.value,i=t.XpG();t.R7$(2),t.SpI(" ",t.i5U(3,2,o,i.namespace)," "),t.R7$(3),t.SpI(" ",n," ")}}const Vo=function(e){return{key:"settingsRecurringPlanStartDate",value:e}},No=function(e){return{key:"settingsRecurringPlanChargeDay",value:e}},Xo=function(e){return{key:"settingsRecurringPlanID",value:e}};let Be=(()=>{var e;class a{get startDateFormatted(){return this.formatDateHelperService.formatDate(new Date(this.plan.Scheduling.StartUtcDate))}get chargeDayText(){return this.planAmountService.getChargeDayText(this.plan,{isMonthlyVerbal:!0})}get isPlanActive(){return this.recurringPlanHelperService.isPlanActive(this.plan)}get isPlanEnded(){return!this.isPlanActive}get endDateFormatted(){return this.formatDateHelperService.formatDate(new Date(this.plan.Scheduling.EndUtcDate))}get fundingLogo(){return this.fundingPresentationService.getLogo(this.plan.Payment.Funding)}constructor(n,i,r,s,l,g){this.recurringPlanAbTestService=n,this.fundingPresentationService=i,this.formatDateHelperService=r,this.recurringPlanHelperService=s,this.planAmountService=l,this.$location=g,this.cancelPlan=new t.bkB,this.RECURRING_PROGRAM_TYPE=V,this.namespace="payments"}amountAndFrequencyText(){return this.planAmountService.getAmountAndFrequency(this.plan)}getFundingIdentifier(){return this.fundingPresentationService.getFundingIdentifier(this.plan.Payment.Funding)}cancel(){this.cancelPlan.emit()}goToPortfolioPage(){this.$location.url("/portfolio/recurring-plans")}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Ot.P),t.rXU(te.f),t.rXU(St),t.rXU(Ue),t.rXU(wt),t.rXU("$location"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-plan-full-details-v2"]],inputs:{plan:"plan"},outputs:{cancelPlan:"cancelPlan"},decls:22,vars:19,consts:[[1,"et-flex-between"],[1,"et-margin-bottom-xs","et-bold-font","cmp-amount",3,"innerHTML"],[1,"et-flex-align-center"],["alt","Logo",1,"et-margin-end-m","cmp-logo",3,"src"],[1,"cmp-card-number-masked"],[1,"ets-num-s"],[1,"et-flex-center"],["class","ets-button-basic ets-button-small ets-button-tertiary ets-button-basic-outline",3,"click",4,"ngIf"],[1,"cmp-divider"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],["class","et-text-align-center et-margin-top-m",4,"ngIf"],["planDetailsTpl",""],[1,"ets-button-basic","ets-button-small","ets-button-tertiary","ets-button-basic-outline",3,"click"],[1,"ets-plain-text","ets-neutral-90"],[1,"et-flex-between-align-center"],["alt","Logo",1,"et-margin-end-s","cmp-asset-logo",3,"src"],[1,"et-flex-column"],[1,"et-bold-font"],[1,"ets-info","ets-neutral-90"],[1,"et-text-align-center","et-margin-top-m"],[1,"ets-link","ets-semi-bold","ets-plain-text","ets-link-primary","ets-end-icon",3,"click"],[1,"ets-icon","ets-icon-chevron-right-fill"],[1,"cmp-plan-details"],[1,"ets-info","cmp-plan-details-title"],[1,"et-base-font"]],template:function(n,i){if(1&n&&(t.j41(0,"div",0)(1,"div"),t.nrm(2,"div",1),t.j41(3,"div",2),t.nrm(4,"img",3),t.j41(5,"div",2)(6,"div",4),t.EFF(7,"\u2022\u2022\u2022"),t.k0s(),t.j41(8,"div",5),t.EFF(9),t.k0s()()()(),t.j41(10,"div",6),t.DNE(11,Do,3,4,"button",7),t.k0s()(),t.nrm(12,"div",8),t.j41(13,"div"),t.eu8(14,9),t.DNE(15,$o,1,4,"ng-container",10),t.eu8(16,9)(17,9),t.k0s(),t.DNE(18,Go,13,7,"ng-container",11),t.DNE(19,jo,5,4,"div",12),t.DNE(20,Bo,6,5,"ng-template",null,13,t.C5r)),2&n){const r=t.sdS(21);t.R7$(2),t.Y8G("innerHTML",i.amountAndFrequencyText(),t.npT),t.R7$(2),t.Y8G("src",i.fundingLogo,t.B4B),t.R7$(5),t.SpI(" ",i.getFundingIdentifier()," "),t.R7$(2),t.Y8G("ngIf",i.isPlanActive),t.R7$(3),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.eq3(13,Vo,i.startDateFormatted)),t.R7$(1),t.Y8G("ngIf",i.isPlanEnded),t.R7$(1),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.eq3(15,No,i.chargeDayText)),t.R7$(1),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.eq3(17,Xo,"#"+i.plan.ID)),t.R7$(1),t.Y8G("ngIf",!i.recurringPlanAbTestService.isEnabled()&&(null==i.plan?null:i.plan.Instrument)),t.R7$(1),t.Y8G("ngIf",i.recurringPlanAbTestService.isEnabled()&&i.plan.RecurringProgramType===i.RECURRING_PROGRAM_TYPE.Investment)}},dependencies:[d.bT,d.T3,h.D],styles:["[_nghost-%COMP%]{display:block}@media (min-width: 768px){[_nghost-%COMP%]{min-height:260px;padding:24px 30px;border-radius:6px;box-shadow:0 1px 8px 2px rgba(var(--rgb-neutral-100),.1)}}.cmp-logo[_ngcontent-%COMP%]{max-width:50px;max-height:32px}.cmp-asset-logo[_ngcontent-%COMP%]{max-width:50px;max-height:35px;border-radius:5px}.cmp-card-number-masked[_ngcontent-%COMP%]{margin-inline-end:4px;color:var(--secondary-divider);font-size:26px;line-height:16px;letter-spacing:2px}.cmp-divider[_ngcontent-%COMP%]{margin:24px 0;border-bottom:solid 1px var(--static-neutral-40)}@media (min-width: 768px){.cmp-divider[_ngcontent-%COMP%]{margin:18px 0}}.cmp-plan-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:12px}.cmp-plan-details[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cmp-plan-details[_ngcontent-%COMP%]   .cmp-plan-details-title[_ngcontent-%COMP%]{color:var(--secondary-neutral-text)}[_nghost-%COMP%]     .cmp-amount span{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal}.rtl-direction[_nghost-%COMP%], .rtl-direction   [_nghost-%COMP%]{direction:rtl}@media (min-width: 768px){.HasOnlyActivePlan   [_nghost-%COMP%]{width:50%}}"],changeDetection:0}),a})(),Lo=(()=>{var e;class a{constructor(){this.cancelPlan=new t.bkB,this.namespace="payments",this.RECURRING_PROGRAM_TYPE=V}cancel(){this.cancelPlan.emit(this.plan)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-active-recurring-plans-v2"]],inputs:{plan:"plan"},outputs:{cancelPlan:"cancelPlan"},decls:7,vars:8,consts:[[1,"cmp-card-title"],[3,"plan","cancelPlan"]],template:function(n,i){1&n&&(t.j41(0,"et-card")(1,"et-card-title",0),t.EFF(2),t.nI1(3,"translate"),t.nI1(4,"translate"),t.k0s(),t.j41(5,"et-card-content")(6,"et-plan-full-details-v2",1),t.bIt("cancelPlan",function(){return i.cancel()}),t.k0s()()()),2&n&&(t.R7$(2),t.SpI(" ",i.plan.RecurringProgramType===i.RECURRING_PROGRAM_TYPE.Investment?t.i5U(3,2,"settingsActiveRecurringInvestmentPlansTitle",i.namespace):t.i5U(4,5,"settingsActiveRecurringPlansTitle",i.namespace)," "),t.R7$(4),t.Y8G("plan",i.plan))},dependencies:[w.i,$.y,S.l,Be,h.D],styles:["[_nghost-%COMP%]{display:block}.cmp-card-title[_ngcontent-%COMP%]{display:block;margin-bottom:48px}@media (min-width: 768px){.cmp-card-title[_ngcontent-%COMP%]{margin-bottom:42px}}"],changeDetection:0}),a})(),Yo=(()=>{var e;class a{constructor(){this.close=new t.bkB,this.namespace="payments"}closeHandler(){this.close.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-inactive-plan-popup-v2"]],inputs:{plan:"plan"},outputs:{close:"close"},decls:10,vars:5,consts:[[1,"payments-dialog","payments-dialog--with-mobile-partial-view"],[1,"payments-dialog-header"],[1,"payments-dialog-button-close",3,"click"],[1,"payments-dialog-body"],[1,"payments-dialog-body-top"],[1,"cmp-plan-full-details",3,"plan"],[1,"payments-dialog-footer"],[1,"ets-button-basic","ets-button-big","ets-button-primary","ets-button-basic-outline","cmp-button",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.bIt("click",function(){return i.closeHandler()}),t.k0s()(),t.j41(3,"div",3)(4,"div",4),t.nrm(5,"et-plan-full-details-v2",5),t.k0s()(),t.j41(6,"div",6)(7,"button",7),t.bIt("click",function(){return i.closeHandler()}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()),2&n&&(t.R7$(5),t.Y8G("plan",i.plan),t.R7$(3),t.SpI(" ",t.i5U(9,2,"close",i.namespace)," "))},dependencies:[Be,h.D],styles:["[_nghost-%COMP%]{display:block}.cmp-plan-full-details[_ngcontent-%COMP%]{margin:0 0 12px}@media (min-width: 768px){.cmp-plan-full-details[_ngcontent-%COMP%]{margin:6px 32px 0}}.cmp-button[_ngcontent-%COMP%]{min-width:200px}"],changeDetection:0}),a})();function Ho(e,a){1&e&&(t.qex(0),t.nrm(1,"i",8),t.bVm())}function zo(e,a){if(1&e&&(t.nrm(0,"i",9),t.j41(1,"button",10),t.EFF(2),t.nI1(3,"translate"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(2),t.SpI(" ",t.i5U(3,1,"inactivePlansViewDetailsBtn",o.namespace)," ")}}const Ko=function(e){return{date:e}};function Jo(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",3),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.openFullDetails(r))}),t.j41(1,"div"),t.nrm(2,"div",4),t.j41(3,"div",5),t.EFF(4),t.nI1(5,"translateInterpolated"),t.k0s()(),t.DNE(6,Ho,2,0,"ng-container",6),t.DNE(7,zo,4,4,"ng-template",null,7,t.C5r),t.k0s()}if(2&e){const o=a.$implicit,n=t.sdS(8),i=t.XpG();t.R7$(2),t.Y8G("innerHTML",i.getAmountAndFrequencyText(o),t.npT),t.R7$(2),t.SpI(" ",t.brH(5,4,"inactivePlansEnded",t.eq3(8,Ko,i.formatDateHelperService.formatDate(o.Scheduling.EndUtcDate)),i.namespace)," "),t.R7$(2),t.Y8G("ngIf",!i.recurringPlanAbTestService.isEnabled())("ngIfElse",n)}}let Wo=(()=>{var e;class a{constructor(n,i,r,s,l){this.formatDateHelperService=n,this.recurringPlanAbTestService=i,this.dialog=r,this.planAmountService=s,this.analytics=l,this.namespace="payments"}openFullDetails(n){this.analytics.track("Settings v2 - Payments - Recurring inactive line - click");const i=this.dialog.open(Yo);i.componentInstance.plan=n,i.componentInstance.close.subscribe(r=>i.close())}getAmountAndFrequencyText(n){return this.planAmountService.getAmountAndFrequency(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(St),t.rXU(Ot.P),t.rXU(R.o3),t.rXU(wt),t.rXU(kt))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-inactive-plans-v2"]],inputs:{plans:"plans"},decls:6,vars:7,consts:[[1,"cmp-card-title"],[1,"cmp-card-content"],["class","cmp-plan-details",3,"click",4,"ngFor","ngForOf"],[1,"cmp-plan-details",3,"click"],[1,"ets-title-secondary","et-margin-bottom-xs","cmp-plan-details-top",3,"innerHTML"],[1,"ets-info","cmp-plan-details-bottom"],[4,"ngIf","ngIfElse"],["viewDetailsV2",""],[1,"et-margin-start-s","et-color-dark-grey","icon-arrow-right"],[1,"display-only-mobile","et-margin-start-s","et-color-dark-grey","icon-arrow-right"],[1,"display-only-desktop","et-margin-end-xs","ets-button-basic","ets-button-small","ets-button-tertiary","ets-button-basic-outline","ets-button-secondary-info"]],template:function(n,i){1&n&&(t.j41(0,"et-card")(1,"et-card-title",0),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content",1),t.DNE(5,Jo,9,10,"div",2),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.i5U(3,4,i.recurringPlanAbTestService.isEnabled()?"inactivePlansHistory":"inactivePlansListTitle",i.namespace)," "),t.R7$(2),t.AVh("v2",i.recurringPlanAbTestService.isEnabled()),t.R7$(1),t.Y8G("ngForOf",i.plans))},dependencies:[d.Sq,d.bT,w.i,$.y,S.l,h.D,ut.G],styles:["[_nghost-%COMP%]{display:block}.cmp-card-title[_ngcontent-%COMP%]{display:block;margin-bottom:48px}@media (min-width: 768px){.cmp-card-title[_ngcontent-%COMP%]{margin-bottom:42px}}@media (min-width: 768px){.cmp-card-content[_ngcontent-%COMP%]{height:200px;overflow-y:auto}}@media (min-width: 768px){.cmp-card-content.v2[_ngcontent-%COMP%]{height:260px}}@media (min-width: 768px){.cmp-card-content.v2[_ngcontent-%COMP%]   .cmp-plan-details[_ngcontent-%COMP%]{margin-right:10px}}.cmp-plan-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:30px;border-bottom:solid 1px var(--static-neutral-40);cursor:pointer}.cmp-plan-details[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.cmp-plan-details[_ngcontent-%COMP%]   .cmp-plan-details-bottom[_ngcontent-%COMP%]{color:var(--secondary-neutral-text)}[_nghost-%COMP%]     .cmp-plan-details-top span{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal}.rtl-direction[_nghost-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%]{transform:rotate(180deg)}.display-only-desktop[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.display-only-desktop[_ngcontent-%COMP%]{display:block}}.display-only-mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 767px){.display-only-mobile[_ngcontent-%COMP%]{display:block}}"],changeDetection:0}),a})();function qo(e,a){1&e&&t.eu8(0)}function Qo(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",5),t.nrm(2,"et-box-with-pig",6),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.createPlan)}}function Zo(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",7),t.nrm(2,"et-box-with-pig",6),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs[o.UserRecurringStatus.NotEligibleCountryOrClub])}}function ta(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",8),t.nrm(2,"et-box-with-pig",6),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.missingDeposit)}}function ea(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",9)(2,"et-active-recurring-plans",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,1,o.activePlan$))}}function na(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",11),t.nrm(2,"et-box-with-pig",6)(3,"et-inactive-plans",12),t.nI1(4,"async"),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.createPlan),t.R7$(1),t.Y8G("plans",t.bMT(4,2,o.inactivePlans$))}}function ia(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",13)(2,"et-active-recurring-plans",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s(),t.nrm(4,"et-inactive-plans",12),t.nI1(5,"async"),t.k0s(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,2,o.activePlan$)),t.R7$(2),t.Y8G("plans",t.bMT(5,4,o.inactivePlans$))}}function oa(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",14),t.nrm(2,"et-box-with-pig",6)(3,"et-inactive-plans",12),t.nI1(4,"async"),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.missingDeposit),t.R7$(1),t.Y8G("plans",t.bMT(4,2,o.inactivePlans$))}}function aa(e,a){if(1&e&&(t.qex(0,3),t.nI1(1,"async"),t.DNE(2,Qo,3,1,"ng-container",4),t.DNE(3,Zo,3,1,"ng-container",4),t.DNE(4,ta,3,1,"ng-container",4),t.DNE(5,ea,4,3,"ng-container",4),t.DNE(6,na,5,4,"ng-container",4),t.DNE(7,ia,6,6,"ng-container",4),t.DNE(8,oa,5,4,"ng-container",4),t.bVm()),2&e){const o=t.XpG();t.Y8G("ngSwitch",t.bMT(1,8,o.userRecurringStatus$)),t.R7$(2),t.Y8G("ngSwitchCase",o.UserRecurringStatus.EligibleThatNeverHadPlan),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.NotEligibleCountryOrClub),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.NotEligibleMissingDeposit),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyActivePlan),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasActivePlanAndHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasHistoryAndNotEligibleByMissingDeposit)}}function ra(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",15),t.nrm(2,"et-box-with-pig-v2",6),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.createPlan)}}function sa(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",16),t.nrm(2,"et-box-with-pig-v2",6),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs[o.UserRecurringStatus.NotEligibleCountryOrClub])}}function ca(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",17),t.nrm(2,"et-box-with-pig-v2",6),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.missingDeposit)}}function la(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,1,o.activePlan$))}}function da(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,1,o.activeDepositPlan$))}}function ga(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",19),t.nrm(2,"et-box-with-pig-v2",6)(3,"et-inactive-plans-v2",12),t.nI1(4,"async"),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.createPlan),t.R7$(1),t.Y8G("plans",t.bMT(4,2,o.inactivePlans$))}}function pa(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",20)(2,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s(),t.nrm(4,"et-inactive-plans-v2",12),t.nI1(5,"async"),t.k0s(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,2,o.activePlan$)),t.R7$(2),t.Y8G("plans",t.bMT(5,4,o.inactivePlans$))}}function ua(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",21)(2,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s(),t.j41(4,"et-active-recurring-plans-v2",22),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(5,"async"),t.k0s(),t.nrm(6,"et-inactive-plans-v2",12),t.nI1(7,"async"),t.k0s(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,3,o.activeDepositPlan$)),t.R7$(2),t.Y8G("plan",t.bMT(5,5,o.activeInvestmentPlan$)),t.R7$(2),t.Y8G("plans",t.bMT(7,7,o.inactivePlans$))}}function ma(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",21)(2,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s(),t.j41(4,"et-active-recurring-plans-v2",22),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(5,"async"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,2,o.activeDepositPlan$)),t.R7$(2),t.Y8G("plan",t.bMT(5,4,o.activeInvestmentPlan$))}}function ha(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",23),t.nrm(2,"et-box-with-pig-v2",6),t.j41(3,"et-active-recurring-plans-v2",22),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(4,"async"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.createPlan),t.R7$(1),t.Y8G("plan",t.bMT(4,2,o.activeInvestmentPlan$))}}function fa(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",23),t.nrm(2,"et-box-with-pig-v2",6),t.j41(3,"et-active-recurring-plans-v2",22),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(4,"async"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.missingDeposit),t.R7$(1),t.Y8G("plan",t.bMT(4,2,o.activeInvestmentPlan$))}}function _a(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",24),t.nrm(2,"et-box-with-pig-v2",6),t.j41(3,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(4,"async"),t.k0s(),t.nrm(5,"et-inactive-plans-v2",12),t.nI1(6,"async"),t.k0s(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.createPlan),t.R7$(1),t.Y8G("plan",t.bMT(4,3,o.activeInvestmentPlan$)),t.R7$(2),t.Y8G("plans",t.bMT(6,5,o.inactivePlans$))}}function Ca(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",24)(2,"et-active-recurring-plans-v2",10),t.bIt("cancelPlan",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.cancelPlan(i))}),t.nI1(3,"async"),t.k0s(),t.nrm(4,"et-inactive-plans-v2",12),t.nI1(5,"async"),t.k0s(),t.bVm()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("plan",t.bMT(3,2,o.activeDepositPlan$)),t.R7$(2),t.Y8G("plans",t.bMT(5,4,o.inactivePlans$))}}function va(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",25),t.nrm(2,"et-box-with-pig-v2",6)(3,"et-inactive-plans-v2",12),t.nI1(4,"async"),t.k0s(),t.bVm()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("config",o.boxConfigs.missingDeposit),t.R7$(1),t.Y8G("plans",t.bMT(4,2,o.inactivePlans$))}}function ba(e,a){if(1&e&&(t.qex(0,3),t.nI1(1,"async"),t.DNE(2,ra,3,1,"ng-container",4),t.DNE(3,sa,3,1,"ng-container",4),t.DNE(4,ca,3,1,"ng-container",4),t.DNE(5,la,4,3,"ng-container",4),t.DNE(6,da,4,3,"ng-container",4),t.DNE(7,ga,5,4,"ng-container",4),t.DNE(8,pa,6,6,"ng-container",4),t.DNE(9,ua,8,9,"ng-container",4),t.DNE(10,ma,6,6,"ng-container",4),t.DNE(11,ha,5,4,"ng-container",4),t.DNE(12,fa,5,4,"ng-container",4),t.DNE(13,_a,7,7,"ng-container",4),t.DNE(14,Ca,6,6,"ng-container",4),t.DNE(15,va,5,4,"ng-container",4),t.bVm()),2&e){const o=t.XpG();t.Y8G("ngSwitch",t.bMT(1,15,o.userRecurringStatus$)),t.R7$(2),t.Y8G("ngSwitchCase",o.UserRecurringStatus.EligibleThatNeverHadPlan),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.NotEligibleCountryOrClub),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.NotEligibleMissingDeposit),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyActivePlan),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyActiveDepositPlan),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasActivePlanAndHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasActivePlansAndHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasBothPlans),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyActiveInvestmentPlan),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasOnlyActiveInvestmentPlanAndMissingDeposit),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasActiveInvestmentPlanAndHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasActiveDepositPlanAndHistory),t.R7$(1),t.Y8G("ngSwitchCase",o.UserRecurringStatus.HasHistoryAndNotEligibleByMissingDeposit)}}let ya=(()=>{var e;class a{get isSettingsV2Showed(){return this.recurringV2AbTestService.isRecurringV2Showed}get cancelPlanPopupComponentVersion(){return this.isSettingsV2Showed?Zi:Qi}get analyticsPrefix(){const n="Settings";return this.isSettingsV2Showed?`${n} v2`:n}constructor(n,i,r,s,l,g,p,u,_,b,O,A,I,B,ot){this.recurringPlanAbTestService=n,this.appConfigService=i,this.pubSubService=r,this.localizeService=s,this.dialog=l,this.notifications=g,this.depositLoader=p,this.recurringLoader=u,this.recurringSettingsService=_,this.cancelPlanService=b,this.analytics=O,this.recurringV2AbTestService=A,this.recurringInvestmentService=I,this.$location=B,this.loader=ot,this.refreshAfterDepositEvent="payments-settings:refresh-payments-tab-recurring",this.UserRecurringStatus=P,this.listeners=[],this.isCmpDestroyed=!1,this.boxConfigs={[P.NotEligibleCountryOrClub]:{titleKey:"payments.settingsRecurringNotEligibleByCountryOrClubTitle",subTitleKey:"payments.settingsRecurringNotEligibleByCountryOrClubSubTitle"},missingDeposit:{titleKey:"payments.settingsRecurringNotEligibleByNotCCDepositTitle",subTitleKey:"payments.settingsRecurringNotEligibleByNotCCDepositSubTitle",buttonKey:"payments.settingsRecurringNotEligibleByNotCCDepositActionBtn",btnAction:()=>{this.analytics.track(`${this.analyticsPrefix} - Payments - Non eligible Make a Deposit - click`),this.depositLoader.loadInvestDeposit({},{eventName:this.refreshAfterDepositEvent,eventProperties:{}})}},createPlan:{titleKey:"payments.settingsRecurringStartRecurringTitleV2",subTitleKey:"payments.settingsRecurringStartRecurringSubTitle",buttonKey:"payments.settingsRecurringStartRecurringActionBtn",btnAction:()=>{this.loadCreateRecurringWizard()}}},this.userRecurringStatus$=new M.t(null),this.plans$=new M.t([]),this.inactivePlans$=new M.t([]),this.activePlan$=new M.t(null),this.activeDepositPlan$=new M.t(null),this.activeInvestmentPlan$=new M.t(null)}ngOnInit(){var n=this;return(0,v.A)(function*(){if(!n.appConfigService.dynamics.payments.settings.paymentsTabFF_Updated)return n.$location.url("/settings");n.listeners.push(n.pubSubService.subscribe(n.refreshAfterDepositEvent,()=>{n.isCmpDestroyed||n.init()}),n.pubSubService.subscribe("payments:deposit:success",()=>{n.isCmpDestroyed||n.init()}),n.pubSubService.subscribe("Payments:clickEventOnCard",i=>{"clickEventCardConfirmRemove"===(null==i?void 0:i.type)&&(n.isCmpDestroyed||n.init())})),yield n.init()})()}ngOnDestroy(){this.isCmpDestroyed=!0,this.listeners.forEach(n=>{null==n||n.unsubscribe()})}cancelPlan(n){var i=this;return(0,v.A)(function*(){const{isCancelApproved:r}=yield i.askUserApproveForCancel();if(r){i.loader.applyShow();try{const s=i.recurringPlanAbTestService.isEnabled()?n.ID:i.activePlan$.value.ID,{success:l}=yield i.cancelPlanService.cancel(s);l?(yield i.init(),i.recurringInvestmentService.isShowMarketPageTp$.next(!0)):i.failMessageToast()}catch{i.failMessageToast()}finally{i.loader.applyHide()}}})()}init(){var n=this;return(0,v.A)(function*(){n.analytics.track(`${n.analyticsPrefix} - Init Payments tab`),n.loader.applyShow();try{const i=yield n.recurringSettingsService.get();n.analyticsPageView(i.userRecurringStatus),n.plans$.next(i.plans),n.inactivePlans$.next(i.inactivePlans),n.activePlan$.next(i.activePlan),n.activeDepositPlan$.next(i.activeDepositPlan),n.activeInvestmentPlan$.next(i.activeInvestmentPlan),n.userRecurringStatus$.next(i.userRecurringStatus)}catch{n.failMessageToast(),n.$location.url("/settings")}finally{n.loader.applyHide()}})()}askUserApproveForCancel(){const i=this.dialog.open(this.cancelPlanPopupComponentVersion,{panelClass:this.isSettingsV2Showed?"":"cancel-plan-popup-panel"}),r=(0,qi.h)(i.componentInstance.cancel.pipe((0,Qt.u)(!0)),i.componentInstance.keep.pipe((0,Qt.u)(!1)),i.componentInstance.close.pipe((0,Qt.u)(!1))).pipe((0,tt.T)(s=>({isCancelApproved:s})),(0,Re.$)());return r.subscribe(()=>i.close()),r.toPromise()}failMessageToast(){const n=this.localizeService.getResource("payments.ToastGeneralFail");this.notifications.notifyFail(n)}loadCreateRecurringWizard(){var n=this;return(0,v.A)(function*(){n.analyticsCreatePlan(n.userRecurringStatus$.value);const{isPlanCreated:i}=yield n.recurringLoader.open({referer:"payments-settings",closeInsteadOfOpeningMakeChangesClick:!0});i&&n.init()})()}analyticsPageView(n){switch(n){case P.NotEligibleCountryOrClub:return this.analytics.track(`${this.analyticsPrefix} - Payments - Non eligible Country/Club - Page view`);case P.NotEligibleMissingDeposit:return this.analytics.track(`${this.analyticsPrefix} - Payments - Non eligible No Card On File - Page view`);case P.EligibleThatNeverHadPlan:return this.analytics.track(`${this.analyticsPrefix} - Payments - Start recurring - Page view`);case P.HasOnlyHistory:return this.analytics.track(`${this.analyticsPrefix} - Payments - In-active recurring - Page view`);case P.HasOnlyActivePlan:return this.analytics.track(`${this.analyticsPrefix} - Payments - Only Active Recurring - Page view`);case P.HasActivePlanAndHistory:return this.analytics.track(`${this.analyticsPrefix} - Payments - Active recurring and in-active recurring - Page view`)}}analyticsCreatePlan(n){return this.analytics.track(n===P.HasOnlyHistory?`${this.analyticsPrefix} - Payments - In-active recurring - Start recurring - click`:`${this.analyticsPrefix} - Payments - Start recurring - click`)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Ot.P),t.rXU(y.R),t.rXU(gt.R),t.rXU(x.X),t.rXU(R.o3),t.rXU(Zt.I2),t.rXU(no.t),t.rXU(to.l),t.rXU(po),t.rXU(uo),t.rXU(kt),t.rXU(eo.I),t.rXU(Ae.Y),t.rXU("$location"),t.rXU("infrastruct.services.loader"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-payments-tab"]],decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["settingsV1Design",""],["settingsV2Design",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","EligibleThatNeverHadPlan"],[1,"cmp-box-with-pig",3,"config"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","NotEligibleCountryOrClub"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","NotEligibleMissingDeposit"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","HasOnlyActivePlan"],[1,"cmp-active-recurring-plans",3,"plan","cancelPlan"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","HasOnlyHistory"],[1,"cmp-inactive-plans",3,"plans"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","HasActivePlanAndHistory"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","settings-v1-design","HasHistoryAndNotEligibleByMissingDeposit"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","EligibleThatNeverHadPlan"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","NotEligibleCountryOrClub"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","NotEligibleMissingDeposit"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasOnlyActivePlan"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasOnlyHistory"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasActivePlanAndHistory"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasActivePlansAndHistory"],[1,"cmp-active-recurring-investment-plans",3,"plan","cancelPlan"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasOnlyActiveInvestmentPlan"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasActiveRecurringPlanAndHistory"],[1,"et-layout","two-columns-layout","et-direction-start","payments-tab-grid","HasHistoryAndNotEligibleByMissingDeposit"]],template:function(n,i){if(1&n&&(t.DNE(0,qo,1,0,"ng-container",0),t.DNE(1,aa,9,10,"ng-template",null,1,t.C5r),t.DNE(3,ba,16,17,"ng-template",null,2,t.C5r)),2&n){const r=t.sdS(2),s=t.sdS(4);t.Y8G("ngIf",i.isSettingsV2Showed)("ngIfThen",s)("ngIfElse",r)}},dependencies:[d.bT,d.ux,d.e1,ho,yo,ko,Eo,Lo,Wo,d.Jj],styles:['@media (max-width: 767px){[_nghost-%COMP%]   .payments-tab-grid.et-layout[_ngcontent-%COMP%]{display:block;height:100%}[_nghost-%COMP%]   .payments-tab-grid.et-layout[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin-bottom:7px}[_nghost-%COMP%]   .payments-tab-grid.et-layout[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:only-child{height:100%}}@media (min-width: 768px){[_nghost-%COMP%]   .payments-tab-grid.et-layout[_ngcontent-%COMP%]{grid-template-rows:none}[_nghost-%COMP%]   .payments-tab-grid.et-layout.EligibleThatNeverHadPlan[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig box-with-pig"}[_nghost-%COMP%]   .payments-tab-grid.et-layout.NotEligibleCountryOrClub[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig box-with-pig"}[_nghost-%COMP%]   .payments-tab-grid.et-layout.NotEligibleMissingDeposit[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig box-with-pig"}[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasOnlyActivePlan[_ngcontent-%COMP%]{grid-template-areas:"active-plans active-plans"}[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasOnlyHistory[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig inactive-plans"}[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasHistoryAndNotEligibleByMissingDeposit[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig inactive-plans"}[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasActivePlanAndHistory[_ngcontent-%COMP%]{grid-template-areas:"active-plans inactive-plans"}}@media (min-width: 768px) and (max-width: 767px){[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasActivePlansAndHistory[_ngcontent-%COMP%]{grid-template-areas:"active-plans" "inactive-plans"}}@media (min-width: 768px) and (min-width: 768px){[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasActivePlansAndHistory[_ngcontent-%COMP%]{grid-template-areas:"active-plans active-investments-plans" "inactive-plans inactive-plans"}}@media (min-width: 768px) and (max-width: 767px){[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasActiveRecurringPlanAndHistory[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig" "active-plans" "inactive-plans"}}@media (min-width: 768px) and (min-width: 768px){[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasActiveRecurringPlanAndHistory[_ngcontent-%COMP%]{grid-template-areas:"active-plans inactive-plans" "box-with-pig box-with-pig"}}@media (min-width: 768px) and (max-width: 767px){[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasOnlyActiveInvestmentPlan[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig" "active-investments-plans"}}@media (min-width: 768px) and (min-width: 768px){[_nghost-%COMP%]   .payments-tab-grid.et-layout.HasOnlyActiveInvestmentPlan[_ngcontent-%COMP%]{grid-template-areas:"box-with-pig active-investments-plans"}}.cmp-box-with-pig[_ngcontent-%COMP%]{grid-area:box-with-pig}.cmp-active-recurring-plans[_ngcontent-%COMP%]{grid-area:active-plans}.cmp-active-recurring-investment-plans[_ngcontent-%COMP%]{grid-area:active-investments-plans}.cmp-inactive-plans[_ngcontent-%COMP%]{grid-area:inactive-plans}.rtl-direction[_nghost-%COMP%], .rtl-direction   [_nghost-%COMP%]{direction:rtl}@media (min-width: 768px){.two-columns-layout[_ngcontent-%COMP%]{grid-template-columns:50% 50%}}@media (min-width: 768px){.settings-v1-design[_ngcontent-%COMP%]   .cmp-inactive-plans[_ngcontent-%COMP%]{height:300px}}'],changeDetection:0}),a})();var Ve=c(12012),Ne=c(98857),xa=c(29969);function Pa(e,a){1&e&&t.eu8(0)}function Ma(e,a){if(1&e&&(t.j41(0,"label"),t.DNE(1,Pa,1,0,"ng-container",12),t.k0s()),2&e){t.XpG();const o=t.sdS(13);t.R7$(1),t.Y8G("ngTemplateOutlet",o)}}function ka(e,a){1&e&&t.eu8(0)}function Oa(e,a){if(1&e&&(t.qex(0),t.DNE(1,ka,1,0,"ng-container",12),t.bVm()),2&e){t.XpG();const o=t.sdS(13);t.R7$(1),t.Y8G("ngTemplateOutlet",o)}}function wa(e,a){if(1&e&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.JRh(o.isHideUsernameLabel?o.username:o.fullName)}}function Sa(e,a){if(1&e&&(t.j41(0,"div",13)(1,"div",14),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,wa,2,1,"div",15),t.k0s()),2&e){const o=t.XpG();t.R7$(2),t.JRh(o.isHideUsernameLabel?o.showFullName?o.fullName:t.bMT(3,2,o.basicUserInfoService.fullNameLabel)||t.bMT(4,4,"userPage.anonymous"):o.username),t.R7$(3),t.Y8G("ngIf",!o.isInSettingsMainPage||!o.isHideUsernameLabel)}}function Ta(e,a){1&e&&t.nrm(0,"i",17)}const Ia=function(e,a){return{"verified-label":e,"waiting-for-approval-label":a}};function Ra(e,a){if(1&e&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG();t.Y8G("ngClass",t.l_i(5,Ia,o.usersSettings.riskUserInfo.isVerified,o.isUserWaitingForApproval)),t.R7$(1),t.SpI(" ",t.i5U(2,2,o.kycTitle,o.localizationKey)," ")}}const Aa=function(e){return{width:e}};function Fa(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",2)(1,"div",19)(2,"div",20),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",21),t.nrm(6,"div",22),t.k0s(),t.j41(7,"div",23)(8,"a",24),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.openKyc())}),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()()}if(2&e){const o=t.XpG();t.R7$(3),t.Lme(" ",o.usersSettings.kycProgressPercentage,"% ",t.i5U(4,4,"complete",o.localizationKey)," "),t.R7$(3),t.Y8G("ngStyle",t.eq3(10,Aa,o.usersSettings.kycProgressPercentage+"%")),t.R7$(3),t.JRh(t.i5U(10,7,o.kycTitle,o.localizationKey))}}function Ea(e,a){1&e&&(t.j41(0,"div",25)(1,"span"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.i5U(3,1,"fundToGetVerified","settingsAccount")))}function Da(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",26)(1,"div",27)(2,"input",28),t.bIt("click",function(i){return i.target.value=""})("change",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.uploadAvatar(i.target.files))}),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngClass",o.isMobile?"hidden-input":"input-display-none")}}const Ua=function(e){return{"et-padding-xl":e}};let Xe=(()=>{var e;class a{get isUserWaitingForApproval(){return 100===this.usersSettings.kycProgressPercentage&&!this.usersSettings.riskUserInfo.isVerified}get kycTitle(){return this.isUserWaitingForApproval?"kycTitleWaitingForApproval":this.usersSettings.riskUserInfo.isVerified?"kycTitleVerified":"kycTitleInProgress"}get isShowProgressBar(){return!this.isInSettingsMainPage&&this.usersSettings.kycProgressPercentage<100}get isShowKycLabel(){return!this.isInSettingsMainPage&&(this.usersSettings.riskUserInfo.isVerified||this.isUserWaitingForApproval)}get username(){return this.user.username||""}get fullName(){return this.user.fullName||""}get showFullName(){var n;return(null===(n=this.user)||void 0===n?void 0:n.fullName)!==this.user.username}get isMobile(){return this.uiBreakpointsService.isMobile}constructor(n,i,r,s,l,g,p,u){this.$route=n,this.kycProvider=i,this.dialogService=r,this.cdr=s,this.uiBreakpointsService=l,this.authService=g,this.pubSubService=p,this.basicUserInfoService=u,this.showFundToGetVerified=!1,this.openKycEmitter=new t.bkB,this.localizationKey="settingsAccount",this.user=this.authService.user}ngOnInit(){this._setHideUsernameLabel()}openKyc(){this.openKycEmitter.emit()}uploadAvatar(n){const i=n&&n[0];let r;i&&(r=new FileReader,r.onload=s=>{const l=this.dialogService.open(Ne.i);l.componentInstance.onClose.subscribe(()=>{this.pubSubService.publishEvent("menu:avatar:changed"),l.close(),this.cdr.detectChanges()}),l.componentInstance.dataURI=s.target.result,l.componentInstance.file=i},r.readAsDataURL(i))}_setHideUsernameLabel(){this.isHideUsernameLabel=this.basicUserInfoService.hideUsernameLabel(),this.cdr.markForCheck()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU("$route"),t.rXU(xt.Ei),t.rXU(R.o3),t.rXU(t.gRc),t.rXU(E.M),t.rXU(U.u),t.rXU(gt.R),t.rXU(xa.$))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-profile-header"]],inputs:{usersSettings:"usersSettings",isInSettingsMainPage:"isInSettingsMainPage",showFundToGetVerified:"showFundToGetVerified"},outputs:{openKycEmitter:"openKycEmitter"},decls:14,vars:11,consts:[[1,"et-direction-start","profile-header",3,"ngClass"],[1,"et-flex-between"],[1,"et-flex-align-center"],[1,"avatar-container"],[1,"et-avatar","et-avatar-l",3,"src"],[4,"ngIf"],["class","et-margin-start-s",4,"ngIf"],["class","icon-arrow-right",4,"ngIf"],["class","kyc-status-label",3,"ngClass",4,"ngIf"],["class","et-flex-align-center",4,"ngIf"],["automation-id","settings-account-fund-to-verified","class","text-fund",4,"ngIf"],["addphoto",""],[4,"ngTemplateOutlet"],[1,"et-margin-start-s"],["automation-id","settings-profile-user-profile",1,"profile-username"],["class","et-font-s et-color-grey","automation-id","settings-profile-full-name",4,"ngIf"],["automation-id","settings-profile-full-name",1,"et-font-s","et-color-grey"],[1,"icon-arrow-right"],[1,"kyc-status-label",3,"ngClass"],[1,"et-width-100","et-margin-top-m"],["automation-id","settings-profile-progressbar-title",1,"number-font","et-margin-bottom-xs"],[1,"profile-progressbar-ph"],[1,"profile-progressbar",3,"ngStyle"],[1,"et-margin-top-s"],[1,"et-button-link","et-font-xs",3,"click"],["automation-id","settings-account-fund-to-verified",1,"text-fund"],["automation-id","settings-profile-add-photo",1,"add-photo-overlay"],[1,"add-photo-icon"],["id","settingsAvatar","type","file","accept","image/*","title"," ",3,"ngClass","click","change"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"img",4),t.DNE(5,Ma,2,1,"label",5),t.DNE(6,Oa,2,1,"ng-container",5),t.k0s(),t.DNE(7,Sa,6,6,"div",6),t.k0s(),t.DNE(8,Ta,1,0,"i",7),t.DNE(9,Ra,3,8,"div",8),t.k0s(),t.DNE(10,Fa,11,12,"div",9),t.DNE(11,Ea,4,4,"div",10),t.k0s(),t.DNE(12,Da,3,1,"ng-template",null,11,t.C5r)),2&n&&(t.Y8G("ngClass",t.eq3(9,Ua,i.isInSettingsMainPage)),t.R7$(4),t.Y8G("src",i.user.Avatars.default,t.B4B),t.R7$(1),t.Y8G("ngIf",!i.isInSettingsMainPage&&!i.isMobile),t.R7$(1),t.Y8G("ngIf",!i.isInSettingsMainPage&&i.isMobile),t.R7$(1),t.Y8G("ngIf",void 0!==i.isHideUsernameLabel),t.R7$(1),t.Y8G("ngIf",i.isInSettingsMainPage),t.R7$(1),t.Y8G("ngIf",i.isShowKycLabel),t.R7$(1),t.Y8G("ngIf",i.isShowProgressBar),t.R7$(1),t.Y8G("ngIf",!i.isInSettingsMainPage&&i.showFundToGetVerified))},dependencies:[d.YU,d.bT,d.T3,d.B3,d.Jj,h.D],styles:['[_nghost-%COMP%]{display:block;background-color:var(--neutral-secondary-bg);border-radius:6px}@media (max-width: 767px){[_nghost-%COMP%]{border-radius:0}}@media (max-width: 767px){.profile-header[_ngcontent-%COMP%]{padding:0}}.avatar-container[_ngcontent-%COMP%]{position:relative}.avatar-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.avatar-container[_ngcontent-%COMP%]   .input-display-none[_ngcontent-%COMP%]{display:none}.avatar-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{cursor:pointer;height:50px;width:50px;opacity:0;z-index:3;position:relative;bottom:20px;right:13px}.add-photo-overlay[_ngcontent-%COMP%]{content:"";position:absolute;right:0;left:0;top:0;bottom:0;background-image:linear-gradient(to bottom,transparent,rgba(var(--rgb-neutral-100),.75));border-radius:4px;cursor:pointer}.add-photo-overlay[_ngcontent-%COMP%]   .add-photo-icon[_ngcontent-%COMP%]{width:24px;height:17px;background-position:center;position:absolute;top:35%;left:26%}  :not(.dark-mode) .add-photo-overlay .add-photo-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/add-photo-icon.svg)}  .dark-mode .add-photo-overlay .add-photo-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/add-photo-icon-dark.svg)}.add-photo-overlay[_ngcontent-%COMP%]:hover:after{content:"";border-radius:4px;background-color:rgba(var(--rgb-neutral-100),.25);width:100%;height:100%;display:block}.profile-username[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;color:var(--primary-neutral-text);font-weight:600;position:relative;top:3px}.number-font[_ngcontent-%COMP%]{font-family:DINOT,general-font,Arial;font-size:.75rem;font-weight:400;letter-spacing:-.15px;text-transform:uppercase}.text-fund[_ngcontent-%COMP%]{position:relative;padding-top:20px;color:var(--secondary-neutral-text)}.icon-arrow-right[_ngcontent-%COMP%]{margin:auto 0;font-size:1.2rem;color:var(--secondary-neutral-text)}@media (max-width: 767px){.icon-arrow-right[_ngcontent-%COMP%]{margin:auto .375rem auto 0}}.kyc-status-label[_ngcontent-%COMP%]{font-size:.875rem;text-align:center;height:50%;max-width:50%;padding:0 .3125rem;border-radius:3px;position:relative;top:6px}.verified-label[_ngcontent-%COMP%]{border:solid 1px #6aac0e;color:#6aac0e}.waiting-for-approval-label[_ngcontent-%COMP%]{border:solid 1px var(--tertiary-neutral-text);color:var(--tertiary-neutral-text)}.rtl-direction[_nghost-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%]:before, .rtl-direction   [_nghost-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e90e"}.profile-progressbar-ph[_ngcontent-%COMP%]{border-radius:6px;height:3px;background-color:var(--secondary-divider)}.profile-progressbar-ph[_ngcontent-%COMP%]   .profile-progressbar[_ngcontent-%COMP%]{border-radius:6px;min-width:3px;height:100%;background-image:linear-gradient(to left,#00d0f6,#00a5ee)}'],changeDetection:0}),a})();function $a(e,a){if(1&e&&(t.j41(0,"label",11),t.EFF(1),t.k0s()),2&e){const o=t.XpG().$implicit,n=t.XpG();t.Y8G("for","otherDocFileUpload"+o.key),t.R7$(1),t.JRh(n.t(o.key))}}function Ga(e,a){if(1&e){const o=t.RV6();t.j41(0,"label",12),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.chooseFileByPlugin(i.key))}),t.EFF(1),t.k0s()}if(2&e){const o=t.XpG().$implicit,n=t.XpG();t.R7$(1),t.JRh(n.t(o.key))}}function ja(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",7),t.DNE(1,$a,2,2,"label",8),t.DNE(2,Ga,2,1,"label",9),t.j41(3,"input",10),t.bIt("change",function(i){const s=t.eBV(o).$implicit,l=t.XpG();return t.Njj(l.selectDoc(i,s.key))}),t.k0s()()}if(2&e){const o=a.$implicit,n=t.XpG();t.R7$(1),t.Y8G("ngIf",!n.useFileChoosePlugin),t.R7$(1),t.Y8G("ngIf",n.useFileChoosePlugin),t.R7$(1),t.Y8G("accept",n.getFilesAccept())("id","otherDocFileUpload"+o.key)}}let Ba=(()=>{var e;class a{constructor(n,i,r){this.localizeService=n,this.config=i,this.imageUploadService=r,this.onClose=new t.bkB,this.onSelect=new t.bkB,this.onSelectError=new t.bkB,this.useFileChoosePlugin=!1}ngOnInit(){this.imageUploadService.isFilePluginsEnabled()&&this.config.dynamics.kyc.isFileChooserPluginEnabled&&(this.useFileChoosePlugin=!0)}chooseFileByPlugin(n){this.useFileChoosePlugin&&this.imageUploadService.chooseFileByPlugin().then(i=>{this.onSelect.emit({...i,docType:n})}).catch(i=>{this.onSelectError.emit(i)})}getFilesAccept(){return""}selectDoc(n,i){const r=n.currentTarget.files;r&&r.length>0&&this.onSelect.emit({files:r,docType:i})}disableKeyValueSorting(){return 0}close(){this.onClose.emit()}t(n,i=!0,r=!1){return this.localizeService.getResource(`settingsAddOtherDocs.${n}`,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X),t.rXU(y.R),t.rXU(xe.a))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-select-other-docs"]],inputs:{otherDocuments:"otherDocuments"},outputs:{onClose:"onClose",onSelect:"onSelect",onSelectError:"onSelectError"},decls:10,vars:6,consts:[[1,"pop-up","select-other-docs-pop-up"],[1,"popup-title-small","segment","mobile-black-label"],[1,"select-other-docs-pop-up-title"],[1,"x-icon","sprite",3,"click"],[1,"select-other-docs-container"],[1,"select-other-docs-list-header"],["class","text-line select-other-docs-item",4,"ngFor","ngForOf"],[1,"text-line","select-other-docs-item"],["class","link",3,"for",4,"ngIf"],["class","link",3,"click",4,"ngIf"],["type","file",1,"hidden-input-file",3,"accept","id","change"],[1,"link",3,"for"],[1,"link",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.k0s(),t.j41(4,"a",3),t.bIt("click",function(){return i.close()}),t.k0s()(),t.j41(5,"div",4)(6,"div",5),t.EFF(7),t.k0s(),t.DNE(8,ja,4,4,"div",6),t.nI1(9,"keyvalue"),t.k0s()()),2&n&&(t.R7$(3),t.JRh(i.t("dialogTitle")),t.R7$(4),t.JRh(i.t("dialogTitle")),t.R7$(1),t.Y8G("ngForOf",t.i5U(9,3,i.otherDocuments,i.disableKeyValueSorting)))},dependencies:[d.Sq,d.bT,d.lG],styles:["settings-select-other-docs[_ngcontent-%COMP%]{display:block;padding-top:100px}.hidden-input-file[_ngcontent-%COMP%]{display:none}.select-other-docs-pop-up[_ngcontent-%COMP%]{margin:0 auto;max-width:370px}.select-other-docs-pop-up[_ngcontent-%COMP%]   .select-other-docs-container[_ngcontent-%COMP%]   .select-other-docs-list-header[_ngcontent-%COMP%]{display:none}.select-other-docs-pop-up[_ngcontent-%COMP%]   .select-other-docs-container[_ngcontent-%COMP%]   .select-other-docs-item[_ngcontent-%COMP%]{display:block}.select-other-docs-pop-up[_ngcontent-%COMP%]   .select-other-docs-container[_ngcontent-%COMP%]   .select-other-docs-item.hide[_ngcontent-%COMP%]{display:none}.select-other-docs-pop-up[_ngcontent-%COMP%]   .text-line[_ngcontent-%COMP%]{position:relative;padding:20px 0;margin:0 20px}.select-other-docs-pop-up[_ngcontent-%COMP%]   .text-line[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--secondary-110)}.select-other-docs-pop-up[_ngcontent-%COMP%]   .text-line[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{cursor:pointer;height:30px;position:absolute;margin-top:20px;left:0;top:0;opacity:0}.select-other-docs-pop-up[_ngcontent-%COMP%]   .text-line[_ngcontent-%COMP%]:nth-child(n+3){border-top:1px solid var(--static-neutral-40)}@media screen and (min-width: 741px){div.mobile-black-label.segment.popup-title-small[_ngcontent-%COMP%]{padding:30px 80px 30px 20px}}@media screen and (max-width: 740px){settings-select-other-docs[_ngcontent-%COMP%]{padding:0}.select-other-docs-pop-up[_ngcontent-%COMP%]{height:100vh;width:100vw}.select-other-docs-pop-up[_ngcontent-%COMP%]   div.mobile-black-label.segment.popup-title-small[_ngcontent-%COMP%]{padding:0 40px;line-height:normal;font-size:20px;height:auto;min-height:60px}.select-other-docs-pop-up[_ngcontent-%COMP%]   div.mobile-black-label.segment.popup-title-small[_ngcontent-%COMP%]   div.select-other-docs-pop-up-title[_ngcontent-%COMP%]{padding-top:15px}.select-other-docs-pop-up[_ngcontent-%COMP%]   .select-other-docs-container[_ngcontent-%COMP%]{padding-top:20px;height:calc(100% - 60px);overflow-y:auto;display:block}.select-other-docs-pop-up[_ngcontent-%COMP%]   .select-other-docs-container[_ngcontent-%COMP%]   .select-other-docs-list-header[_ngcontent-%COMP%]{display:block;color:var(--secondary-neutral-text);font-size:14px;font-weight:400;text-transform:uppercase;padding:15px 0 15px 25px}}.rate-us-button-wrapper[_ngcontent-%COMP%]{gap:10px}"]}),a})(),Va=(()=>{var e;class a{constructor(n){this.localizeService=n,this.onClose=new t.bkB,this.onTryAgain=new t.bkB}get errorMessage(){return this.uploadError?this.localizeService.getResource(`settingsAddOtherDocs.${this.uploadError}`,!0,!0):""}ngOnInit(){}close(){this.onClose.emit()}t(n,i=!0,r=!1){return this.localizeService.getResource(`settingsAddOtherDocs.${n}`,i,r)}tryAgain(){this.onTryAgain.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-upload-error-other-docs"]],inputs:{uploadError:"uploadError"},outputs:{onClose:"onClose",onTryAgain:"onTryAgain"},decls:9,vars:3,consts:[[1,"pop-up","upload-error-other-docs-pop-up"],[1,"popup-title-small","segment"],[1,"x-icon","sprite",3,"click"],[1,"upload-error-text-container"],[1,"upload-error-text"],[1,"upload-error-button-container"],["type","button",1,"upload-error-button-try-again","e-btn-big","dark",3,"value","click"],["type","button",1,"upload-error-button-close","e-btn-big","dark",3,"value","click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.bIt("click",function(){return i.close()}),t.k0s()(),t.j41(3,"div",3)(4,"span",4),t.EFF(5),t.k0s()(),t.j41(6,"div",5)(7,"input",6),t.bIt("click",function(){return i.tryAgain()}),t.k0s(),t.j41(8,"input",7),t.bIt("click",function(){return i.close()}),t.k0s()()()),2&n&&(t.R7$(5),t.JRh(i.errorMessage),t.R7$(2),t.FS9("value",i.t("uploadAnother")),t.R7$(1),t.FS9("value",i.t("cancel")))},styles:["et-upload-error-other-docs[_ngcontent-%COMP%]{position:absolute;top:30%;left:30%}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]{width:534px;height:226px}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-text-container[_ngcontent-%COMP%]{padding:15px 20px 0;text-align:center}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-text-container[_ngcontent-%COMP%]   .upload-error-text[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-neutral-text)}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-container[_ngcontent-%COMP%]{text-align:center;position:absolute;bottom:40px;width:534px;padding:0 45px}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-close[_ngcontent-%COMP%], .upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-try-again[_ngcontent-%COMP%]{min-width:196px;width:196px;font-size:18px;margin:0 13px;float:right}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-close.e-btn-big.dark[_ngcontent-%COMP%]{background-color:#4c4f5d;border:1px solid #4c4f5d}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-close.e-btn-big.dark[_ngcontent-%COMP%]:hover{background-color:#696969;border-color:#696969}@media screen and (max-width: 740px){et-upload-error-other-docs[_ngcontent-%COMP%]{position:absolute;top:20%;left:3%;right:3%}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]{width:100%}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-text-container[_ngcontent-%COMP%]{padding:15px 50px 0}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-container[_ngcontent-%COMP%]{width:100%;bottom:auto;background-color:var(--neutral-secondary-bg);padding-bottom:30px}.upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-container[_ngcontent-%COMP%]   .upload-error-button-close[_ngcontent-%COMP%], .upload-error-other-docs-pop-up[_ngcontent-%COMP%]   .upload-error-button-container[_ngcontent-%COMP%]   .upload-error-button-try-again[_ngcontent-%COMP%]{margin:15px 0 0;float:none;width:100%}}"]}),a})();var Nt=c(95656);function Na(e,a){if(1&e&&t.nrm(0,"div",18),2&e){const o=t.XpG().$implicit;t.Y8G("id",o.DocAnchor)}}function Xa(e,a){if(1&e&&t.nrm(0,"div"),2&e){const o=t.XpG().$implicit;t.ZvI("et-list-item-icon doc-icon ",o.Status,"-icon")}}function La(e,a){if(1&e&&(t.j41(0,"li"),t.DNE(1,Na,1,1,"div",14),t.DNE(2,Xa,1,3,"div",15),t.j41(3,"div",16),t.EFF(4),t.k0s(),t.j41(5,"div",17),t.EFF(6),t.nI1(7,"translate"),t.k0s()()),2&e){const o=a.$implicit,n=t.XpG(3);t.R7$(1),t.Y8G("ngIf",o.DocAnchor),t.R7$(1),t.Y8G("ngIf","Error"!==o.Status),t.R7$(2),t.JRh(n.cleanFileName(o.Filename)),t.R7$(2),t.JRh(t.i5U(7,4,"doc"+o.Status,"settingsAddOtherDocs"))}}function Ya(e,a){if(1&e&&(t.j41(0,"div",10)(1,"ul",11)(2,"div",12),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.DNE(5,La,8,7,"li",13),t.k0s()()),2&e){const o=a.$implicit;t.Y8G("hidden",null===o.value),t.R7$(3),t.JRh(t.i5U(4,3,o.key,"settingsAddOtherDocs")),t.R7$(2),t.Y8G("ngForOf",o.value)}}function Ha(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",1)(1,"et-card-title"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content")(5,"div",2),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",3),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",4),t.DNE(12,Ya,6,6,"div",5),t.nI1(13,"keyvalue"),t.k0s()(),t.j41(14,"et-card-footer"),t.nrm(15,"div",6),t.j41(16,"div",7)(17,"div",8),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.addDocumentsDialog())}),t.k0s(),t.j41(18,"div",9),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.addDocumentsDialog())}),t.EFF(19),t.nI1(20,"translate"),t.k0s()()()()}if(2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,5,"settingsAddOtherDocs.title")),t.R7$(4),t.JRh(t.bMT(7,7,"settingsAddOtherDocs.text")),t.R7$(3),t.JRh(t.bMT(10,9,"settingsAddOtherDocs.descriptionV2")),t.R7$(3),t.Y8G("ngForOf",t.i5U(13,11,o.documents,o.disableKeyValueSorting)),t.R7$(7),t.JRh(t.bMT(20,14,"settingsAddOtherDocs.addDocument"))}}let za=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_){this.config=n,this.ref=i,this.$analytics=r,this.dialogService=s,this.complianceSettingsService=l,this.domService=g,this.loggerService=p,this.$routeParams=u,this.$rootScope=_,this.hasDocs=!1}ngOnInit(){this.documents&&(this.hasDocs=0!==Object.keys(this.documents).length),("add-documents"===this.config.query.action||"add-documents"===this.$routeParams.action)&&(this.scrollToAddOtherDocs(),this.config.query.action=null,this.addDocumentsDialog()),this.$addOtherDocsListener=this.$rootScope.$on("AddOtherDocs:Added",(n,i)=>{i&&i.files&&i.docType&&this._uploadDocument(i)})}ngOnDestroy(){this.$addOtherDocsListener()}addDocumentsDialog(n=!1){const i=this.dialogService.open(Ba);i.componentInstance.otherDocuments=this.documents,i.componentInstance.onClose.subscribe(()=>i.close()),i.componentInstance.onSelect.subscribe(r=>{this._uploadDocument(r,n),i.close()}),i.componentInstance.onSelectError.subscribe(r=>{let s;if("unAccepedFileType"===r||"unAcceptedFileType"===r)s=L.qx.FormatError;else if("maxFileSizeExceed"===r)s=L.qx.MaxSizeError;else{const l="string"==typeof r?r:JSON.stringify(r);this.loggerService.error({message:"Error in select other doc file: "+l,categories:["Settings","Add other docs"],domain:st.SB.Experience})}s&&this._uploadFailed({error:s}),i.close()})}uploadingErrorDialog(n){const i=this.dialogService.open(Va);i.componentInstance.uploadError=n,i.componentInstance.onClose.subscribe(()=>i.close()),i.componentInstance.onTryAgain.subscribe(()=>{this.addDocumentsDialog(!0),i.close()})}cleanFileName(n){return n?n.replace(/%20/g," "):""}_uploadDocument(n,i=!1){const r=n.files,s=n.docType,l=`${s}-${(new Date).getTime()}`;r&&s&&(this.complianceSettingsService.uploadDocument(r,s,l).then(this._uploadComplete.bind(this)).catch(this._uploadFailed.bind(this)),i?this.$analytics.eventTrack("Setting - Account Tab - Other Documents - Reupload"):this.$analytics.eventTrack("Setting - Account Tab - Other Documents - Add Document",{"Type of payment":s}),this.ref.detectChanges(),this.scrollToUploadingDoc(l))}scrollToAddOtherDocs(){setTimeout(()=>this.domService.scrollIntoView("#add-other-docs",{behavior:"smooth",block:"start",inline:"start"}),100)}scrollToUploadingDoc(n){setTimeout(()=>{const i=this.domService.querySelector(`#${n}`),r=this.domService.querySelector(".tab-pane");i&&r&&(r.scrollTop=i.offsetTop)},500)}disableKeyValueSorting(){return 0}_uploadComplete(){this.$analytics.eventTrack("Setting - Account Tab - Other Documents - Upload",{"Uploading status":"Success"}),this.ref.detectChanges()}_uploadFailed(n){this.uploadingErrorDialog(n.error),this.$analytics.eventTrack("Setting - Account Tab - Other Documents - Upload",{"Uploading status":"Fail"}),this.ref.detectChanges()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(y.R),t.rXU(t.gRc),t.rXU(k.c),t.rXU(R.o3),t.rXU(L.cw),t.rXU(Nt.w),t.rXU(bt.g),t.rXU("$routeParams"),t.rXU("$rootScope"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-add-other-docs"]],inputs:{documents:"documents"},decls:1,vars:1,consts:[["class","docs-card","id","add-other-docs",4,"ngIf"],["id","add-other-docs",1,"docs-card"],[1,"et-margin-bottom-l"],[1,"et-margin-bottom-l","et-font-xxs","et-width-80"],[1,"upload-docs-container"],["class","upload-docs-item",3,"hidden",4,"ngFor","ngForOf"],[1,"et-horizontal-divider","et-margin-bottom-l"],[1,"add-doc-button"],[1,"add-doc-button-icon","et-margin-end-s",3,"click"],[1,"add-doc-text",3,"click"],[1,"upload-docs-item",3,"hidden"],[1,"et-list","et-separators"],[1,"et-list-title"],[4,"ngFor","ngForOf"],[3,"id",4,"ngIf"],[3,"class",4,"ngIf"],[1,"et-list-item-content"],[1,"et-list-item-desc"],[3,"id"]],template:function(n,i){1&n&&t.DNE(0,Ha,21,16,"et-card",0),2&n&&t.Y8G("ngIf",i.hasDocs)},dependencies:[d.Sq,d.bT,w.i,$.y,S.l,et.R,d.lG,h.D],styles:['.docs-card[_ngcontent-%COMP%]{height:100%;padding-bottom:1.5rem}.add-doc-button[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:var(--neutral-secondary-bg);font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:300;cursor:pointer;color:var(--secondary-neutral-text);width:-moz-fit-content;width:fit-content;margin:auto}.add-doc-button[_ngcontent-%COMP%]:focus, .add-doc-button[_ngcontent-%COMP%]:hover{color:var(--info-hover-action-text)}.add-doc-button[_ngcontent-%COMP%]   .add-doc-button-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:center;width:35px;height:35px}  :not(.dark-mode) .add-doc-button .add-doc-button-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/upload-doc-icon.svg)}  .dark-mode .add-doc-button .add-doc-button-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/upload-doc-icon-dark.svg)}.add-doc-button[_ngcontent-%COMP%]   .add-doc-text[_ngcontent-%COMP%]{position:relative;top:3px}.upload-docs-container[_ngcontent-%COMP%]   .upload-docs-item[_ngcontent-%COMP%]:first-child{padding-top:1.125rem}.upload-docs-container[_ngcontent-%COMP%]   .et-list[_ngcontent-%COMP%]{overflow-x:hidden}.upload-docs-container[_ngcontent-%COMP%]   .et-list-item-desc[_ngcontent-%COMP%]{position:relative;bottom:5px}.upload-docs-container[_ngcontent-%COMP%]   .et-list-item-content[_ngcontent-%COMP%]{max-width:95%}.upload-docs-container[_ngcontent-%COMP%]   .doc-icon[_ngcontent-%COMP%]{position:relative;top:5px;background-repeat:no-repeat;width:35px;height:35px}.upload-docs-container[_ngcontent-%COMP%]   .Uploading-icon[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-uploading-icon.svg)}.upload-docs-container[_ngcontent-%COMP%]   .Uploading-icon[_ngcontent-%COMP%]:after{content:"";display:block;animation:rotation .6s infinite linear;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/preloader.png);background-repeat:no-repeat;background-position:center;background-size:35px;width:35px;height:35px;background-size:20px;width:20px;height:20px;position:relative;left:12px;top:13px}  :not(.dark-mode) .upload-docs-container .UnderReview-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-under-review-icon.svg)}  .dark-mode .upload-docs-container .UnderReview-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-under-review-icon-dark.svg)}  :not(.dark-mode) .upload-docs-container .NotAccepted-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-not-approved-icon.svg)}  .dark-mode .upload-docs-container .NotAccepted-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-not-approved-icon-dark.svg)}  :not(.dark-mode) .upload-docs-container .Completed-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-approved-icon.svg)}  .dark-mode .upload-docs-container .Completed-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/doc-approved-icon-dark.svg)}']}),a})();function Ka(e,a){if(1&e&&(t.j41(0,"div",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(1),t.JRh(t.i5U(2,1,o.key,"settingsAccount"))}}function Ja(e,a){if(1&e&&(t.j41(0,"a",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(1),t.JRh(t.i5U(2,1,o.key,"settingsAccount"))}}function Wa(e,a){if(1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.i5U(2,1,o.value.status,"settingsAccount"),"")}}function qa(e,a){1&e&&t.nrm(0,"div",16)}function Qa(e,a){if(1&e){const o=t.RV6();t.j41(0,"li",8),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.openKyc(r.value.deepLink,r.value.editable))}),t.DNE(1,Ka,3,4,"div",9),t.DNE(2,Ja,3,4,"a",10),t.DNE(3,Wa,3,4,"div",11),t.DNE(4,qa,1,0,"div",12),t.k0s()}if(2&e){const o=a.$implicit;t.R7$(1),t.Y8G("ngIf",!o.value.editable),t.R7$(1),t.Y8G("ngIf",o.value.editable),t.R7$(1),t.Y8G("ngIf","Completed"!==o.value.status),t.R7$(1),t.Y8G("ngIf","Completed"===o.value.status)}}function Za(e,a){if(1&e&&t.nrm(0,"et-add-other-docs",17),2&e){const o=t.XpG();t.Y8G("documents",o.kycStatuses.DocumentStatus)}}let tr=(()=>{var e;class a{constructor(n,i,r,s,l,g,p){this.kycProvider=n,this.$route=i,this.userSettingsService=r,this.$analytics=s,this.complianceSettingsService=l,this.config=g,this.cd=p}ngOnInit(){this.updateKycStatusesAndDocuments(!0),this.config.dynamics.kyc.loadKycInBackgroundEnabled&&this.kycProvider.loadBackgroundKyc()}updateKycStatusesAndDocuments(n){this.complianceSettingsService.getKycStatusesAndDocumentsOverview(n).subscribe(i=>{this.kycStatuses=i,this.showFundToGetVerified=i.ShouldFundToGetVerified,this.cd.detectChanges()})}openKyc(n="",i=!0){!1!==i&&(this.kycProvider.loadVolunteerModal({deepLink:n||void 0}).then(()=>this.updateKycStatusesAndDocuments(!0)).finally(()=>{this.userSettingsService.clear(),this.$route.reload()}),this.$analytics.eventTrack(`Settings - Account - ${{economicprofile:"Update Experience",uploadutilitybill:"Upload Utility Bill",uploadid:"Upload ID",phoneverification:"Phone verification",personaldetails:"Update Personal Details"}[n]||"Complete Profile"}`))}disableKeyValueSorting(){return 0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(xt.Ei),t.rXU("$route"),t.rXU(lt.A),t.rXU(k.c),t.rXU(L.cw),t.rXU(y.R),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-profile"]],inputs:{usersSettings:"usersSettings"},decls:11,vars:12,consts:[[1,"et-layout","two-columns-layout","et-direction-start"],[1,"et-grid-area1"],[1,"et-margin-bottom-l"],[1,"et-margin-bottom-xl",3,"isInSettingsMainPage","usersSettings","showFundToGetVerified","openKycEmitter"],[1,"et-list"],["automation-id","settings-profile-item",3,"click",4,"ngFor","ngForOf"],[1,"et-text-align-center"],["class","et-grid-area2",3,"documents",4,"ngIf"],["automation-id","settings-profile-item",3,"click"],["class","et-list-item-text",4,"ngIf"],["automation-id","settings-profile-link","class","et-list-item-text et-button-link",4,"ngIf"],["automation-id","settings-profile-item-status","class","et-list-item-action",4,"ngIf"],["automation-id","settings-profile-item-status","class","et-list-item-action profile-check-icon",4,"ngIf"],[1,"et-list-item-text"],["automation-id","settings-profile-link",1,"et-list-item-text","et-button-link"],["automation-id","settings-profile-item-status",1,"et-list-item-action"],["automation-id","settings-profile-item-status",1,"et-list-item-action","profile-check-icon"],[1,"et-grid-area2",3,"documents"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"et-card",1)(2,"et-card-content",2)(3,"et-settings-profile-header",3),t.bIt("openKycEmitter",function(){return i.openKyc()}),t.k0s(),t.j41(4,"div",4),t.DNE(5,Qa,5,4,"li",5),t.nI1(6,"keyvalue"),t.k0s()(),t.j41(7,"et-card-footer",6),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.DNE(10,Za,1,1,"et-add-other-docs",7),t.k0s()),2&n&&(t.R7$(3),t.Y8G("isInSettingsMainPage",!1)("usersSettings",i.usersSettings)("showFundToGetVerified",i.showFundToGetVerified),t.R7$(2),t.Y8G("ngForOf",t.i5U(6,6,null==i.kycStatuses?null:i.kycStatuses.VerificationStatus,i.disableKeyValueSorting)),t.R7$(3),t.SpI(" ",t.i5U(9,9,"regulatingEntity."+(i.usersSettings.riskUserInfo.designatedRegulation||i.usersSettings.riskUserInfo.regulatingEntity),"settingsAccount")," "),t.R7$(2),t.Y8G("ngIf",null==i.kycStatuses?null:i.kycStatuses.DocumentStatus))},dependencies:[d.Sq,d.bT,w.i,S.l,et.R,Xe,za,d.lG,h.D],styles:['.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1 area2"}@media (max-width: 767px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1" "area2"}}.et-list-item-action[_ngcontent-%COMP%]{font-size:.875rem;font-weight:300;letter-spacing:-.35px}.profile-check-icon[_ngcontent-%COMP%]{width:30px;height:26px;background-repeat:no-repeat;position:relative;bottom:3px}  :not(.dark-mode) .profile-check-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/small-check-icon.svg)}  .dark-mode .profile-check-icon{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/profile/small-check-icon-dark.svg)}'],changeDetection:0}),a})();var ne=c(19999),H=c(32916),Le=c(26343),Ye=c(94211),nt=c(5901),er=c(36746),nr=c(38090);function ir(e,a){if(1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e){const o=a.$implicit,n=t.XpG(2);t.Lme(" ",t.i5U(1,2,o||n.getCurrentCurrencyLabel(),n.localizationKey)," (",n.getSymbolByLabel(o),") ")}}function or(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",1)(1,"et-stateful-select",2),t.bIt("selected",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.setDefaultCurrency(i))}),t.DNE(2,ir,2,5,"ng-template",null,3,t.C5r),t.k0s()()}if(2&e){const o=t.XpG();t.Y8G("formGroup",o.currencyForm),t.R7$(1),t.Y8G("items",o.currencyList)("multi",!1)("withoutArrow",!1)}}let ar=(()=>{var e;class a{constructor(n,i){this.multiCurrencyService=n,this.$analytics=i,this.currencies=[],this.currencyList=[],this.localizationKey="multiCurrency";const r=this._getCurrencyByLabel(this.getCurrentCurrencyLabel());this.selectedCurrency$=new M.t(r)}get selectedCurrency(){return this.selectedCurrency$.getValue()}set selectedCurrency(n){this.selectedCurrency$.next(n)}ngOnInit(){this._loadCurrencies(),this._initCurrentCurrency(),this.currencyForm=new C.J3({selectedCurrencyControl:new C.hs(this.selectedCurrency.label)})}setDefaultCurrency(n){var i;const r={"Previous Currency":null===(i=this.selectedCurrency$.value)||void 0===i?void 0:i.label,"Chosen Currency":n,Source:"Settings"};this.$analytics.eventTrack("Currency Change",r),this.multiCurrencyService.setCurrency(n),this.selectedCurrency=this._getCurrencyByLabel(n)}getSymbolByLabel(n){return this.multiCurrencyService.getSymbol(n)}getCurrentCurrencyLabel(){const n=this.multiCurrencyService.defaultBaseCurrency;return this.multiCurrencyService.getCurrentCurrency().name||n}_getCurrentCurrency(){return this._getCurrencyByLabel(this.getCurrentCurrencyLabel())}_getCurrencyByLabel(n){return{label:n,symbol:this.getSymbolByLabel(n)}}_loadCurrencies(){this.currencyList=this.multiCurrencyService.getSupportedCurrenciesOrdered(),this.supportedSymbols=this.multiCurrencyService.getSupportedCurrencySymbols(),this.currencyList.forEach(n=>{const i=this.supportedSymbols[n];i&&this.currencies.push({label:n,symbol:i})})}_initCurrentCurrency(){this.selectedCurrency=this._getCurrentCurrency()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(nr.i),t.rXU(k.c))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-multi-currency-dropdown"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formControlName","selectedCurrencyControl","hederStyle","ets-text-dropper","selectStyleVariant","check",3,"items","multi","withoutArrow","selected"],["optionTemplate","","placeholderTemplate","","selectedTemplate",""]],template:function(n,i){1&n&&t.DNE(0,or,6,4,"div",0),2&n&&t.Y8G("ngIf",i.currencyForm&&i.selectedCurrency)},dependencies:[d.bT,C.BC,C.cb,C.j4,C.JD,m.Q6,h.D],changeDetection:0}),a})();function rr(e,a){1&e&&(t.j41(0,"et-card-title"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"settingsGeneral.defaultPageTitle")))}function sr(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",5),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.pageSelected.emit(r))}),t.j41(1,"div")(2,"div",6)(3,"div",7),t.nrm(4,"span",8)(5,"span",9),t.k0s()()(),t.j41(6,"span",10),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}if(2&e){const o=a.$implicit,n=t.XpG(2);t.AVh("checked",o.active),t.R7$(1),t.ZvI("option-ph ",o.className,""),t.BMQ("automation-id","settings-default-page-option-"+o.id),t.R7$(5),t.BMQ("automation-id","option-label-"+o.id),t.R7$(1),t.JRh(t.i5U(8,8,o.id,n.localizationKey))}}function cr(e,a){if(1&e&&(t.j41(0,"et-card-content"),t.nrm(1,"div",2),t.j41(2,"div",3),t.DNE(3,sr,9,11,"a",4),t.nI1(4,"async"),t.k0s()()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("innerHTML",o.contentText,t.npT),t.R7$(2),t.Y8G("ngForOf",t.bMT(4,2,o.pageOptions))}}const lr=function(e){return{"selected-page":e}},dr=function(e){return{"background-image":e}};function gr(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.pageSelected.emit(r))}),t.nrm(1,"div",14),t.j41(2,"div",15),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}if(2&e){const o=a.$implicit,n=t.XpG(2);t.Y8G("ngClass",t.eq3(6,lr,o.active)),t.R7$(1),t.Y8G("ngStyle",t.eq3(8,dr,"url("+n.imageUrlPrefix+o.imgFilename+")")),t.R7$(2),t.JRh(t.i5U(4,3,o.id,n.localizationKey))}}function pr(e,a){if(1&e&&(t.j41(0,"et-card-content")(1,"div",11),t.DNE(2,gr,5,10,"div",12),t.nI1(3,"async"),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",t.bMT(3,1,o.pageOptions))}}let He=(()=>{var e;class a{constructor(){this.pageSelected=new t.bkB}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-default-page-selector"]],inputs:{contentText:"contentText",pageOptions:"pageOptions",localizationKey:"localizationKey",imageUrlPrefix:"imageUrlPrefix",isThemeABTest:"isThemeABTest"},outputs:{pageSelected:"pageSelected"},decls:4,vars:3,consts:[["automation-id","settings-default-page-selector"],[4,"ngIf"],["automation-id","settings-default-page-description",1,"content-text",3,"innerHTML"],[1,"et-flex-justify-center"],["class","option-wrapper",3,"checked","click",4,"ngFor","ngForOf"],[1,"option-wrapper",3,"click"],[1,"hover-effect-wrap"],[1,"left-side-bg"],[1,"phone-sound-line"],[1,"phone-camera-dot"],[1,"option-label"],[1,"card-content-container","default-page-content"],["class","default-page-img-wrapper",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"default-page-img-wrapper",3,"ngClass","click"],[1,"default-page-img",3,"ngStyle"],[1,"default-page-name"]],template:function(n,i){1&n&&(t.j41(0,"et-card",0),t.DNE(1,rr,3,3,"et-card-title",1),t.DNE(2,cr,5,4,"et-card-content",1),t.DNE(3,pr,4,3,"et-card-content",1),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngIf",i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",!i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",i.isThemeABTest&&i.imageUrlPrefix))},dependencies:[d.YU,d.Sq,d.bT,d.B3,w.i,$.y,S.l,d.Jj,h.D],styles:['@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Light.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-weight:400;font-style:normal;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Regular.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Medium.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Bold.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:800;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-ExtraBold.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Light.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-weight:400;font-style:normal;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Regular.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Medium.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Bold.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Light.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Regular.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-SemiBold.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Bold.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:local("Open Sans Light"),local("OpenSans-Light"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:300;src:local("Open Sans Light Italic"),local("OpenSans-LightItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:400;src:local("Open Sans Regular"),local("OpenSans-Regular"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-regular.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-regular.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:400;src:local("Open Sans Italic"),local("OpenSans-Italic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:local("Open Sans SemiBold"),local("OpenSans-SemiBold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:600;src:local("Open Sans SemiBold Italic"),local("OpenSans-SemiBoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:700;src:local("Open Sans Bold Italic"),local("OpenSans-BoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:800;src:local("Open Sans ExtraBold"),local("OpenSans-ExtraBold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:800;src:local("Open Sans ExtraBold Italic"),local("OpenSans-ExtraBoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:short-number;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:dinot-prefered;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:dinot-prefered;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:dinot-prefered;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Regular.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:general-font;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Medium.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:general-font;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Bold.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Regular.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Medium.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Bold.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}.et-base-font[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal}.et-dinot-prefered[_ngcontent-%COMP%]{font-family:dinot-prefered,general-font,Open Sans,Arial,sans-serif;font-style:normal}.et-h1[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.25rem;letter-spacing:-.35px;font-weight:300;color:var(--primary-neutral-text)}.et-h2[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text)}.et-h3[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text)}.et-h4[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:700;color:var(--secondary-neutral-text);text-transform:uppercase}.et-p[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:400;color:var(--primary-neutral-text)}.et-grey-footer-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:400;color:var(--secondary-neutral-text);line-height:.9375rem;letter-spacing:-.25px}.et-font-3xs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.625rem;letter-spacing:-.15px}.et-font-xxs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px}.et-font-xs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px}.et-font-s[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px}.et-font-m[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.125rem;letter-spacing:-.35px}.et-font-l[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.25rem;letter-spacing:-.35px}.et-font-xl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px}.et-font-xxl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.75rem;letter-spacing:-.45px}.et-font-3xl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:2.125rem;letter-spacing:-.45px}.et-big-num[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:3.125rem;letter-spacing:-1.25px}.et-text-font[_ngcontent-%COMP%]{font-family:general-font,Arial}.et-bold-font[_ngcontent-%COMP%]{font-weight:700}.et-semi-bold-font[_ngcontent-%COMP%]{font-weight:600}.et-font-weight-normal[_ngcontent-%COMP%]{font-weight:400}.et-short-number[_ngcontent-%COMP%]{font-family:short-number,general-font,Arial}.et-light-font[_ngcontent-%COMP%]{font-weight:300}.et-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.option-wrapper[_ngcontent-%COMP%]{cursor:pointer}.option-wrapper[_ngcontent-%COMP%]:nth-child(2){margin:0 1.875rem}.content-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;letter-spacing:-.31px;line-height:normal;text-align:center;font-weight:300;color:var(--primary-neutral-text);margin:0 auto;margin-bottom:2rem;max-width:60%}@media (max-width: 767px){.content-text[_ngcontent-%COMP%]{max-width:75%}}.option-wrapper[_ngcontent-%COMP%]:hover   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]{opacity:1}.option-ph[_ngcontent-%COMP%]{background-size:100% auto;width:250px;height:158px;background-repeat:no-repeat;background-position:center center;border-radius:5px}.option-ph.newsfeed-slot[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/general/news-feed-desktop-screen-icon.svg)}.option-ph.watchlist-slot[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/general/watchlist-desktop-screen-icon.svg)}.option-ph.myportfolio-slot[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/general/portfolio-desktop-screen-icon.svg)}.option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;border:1px solid rgba(29,51,71,.25);background-color:transparent;opacity:0;transition:opacity .25s ease-in-out}.option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]{width:50px;height:100%;transition:background-color .25s ease-in-out;border-top-left-radius:5px;border-bottom-left-radius:5px}.option-label[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;display:block;color:var(--primary-neutral-text);text-align:center;margin:15px 0 0;font-weight:300;line-height:1.4;letter-spacing:-.23px}.option-wrapper.checked[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]{box-shadow:0 2px 12px 0 rgba(var(--rgb-neutral-100),.25)}.option-wrapper.checked[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]{opacity:1;border-color:var(--info-hover-action-text)}.option-wrapper.checked[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-weight:600}.option-wrapper.checked[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]{background-color:var(--info-hover-action-text)}@media (min-width: 768px) and (max-width: 1365px){.option-ph[_ngcontent-%COMP%]{width:185px;height:118px}.option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]{width:35px}}@media (max-width: 767px){.option-wrapper[_ngcontent-%COMP%]{width:auto}.option-wrapper[_ngcontent-%COMP%]:nth-child(2){margin:0 20px}.option-wrapper[_ngcontent-%COMP%]:hover   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%], .option-wrapper[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{opacity:0}.option-wrapper.checked[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]{opacity:1}.option-wrapper.checked[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{opacity:1;font-weight:300}.option-wrapper[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]{width:94px;height:185px;border-radius:10px}.option-wrapper[_ngcontent-%COMP%]   .option-ph.newsfeed-slot[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/general/news-feed-mobile-screen-icon.svg)}.option-wrapper[_ngcontent-%COMP%]   .option-ph.watchlist-slot[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/general/watchlist-mobile-screen-icon.svg)}.option-wrapper[_ngcontent-%COMP%]   .option-ph.myportfolio-slot[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/general/portfolio-mobile-screen-icon.svg)}.option-wrapper[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.option-wrapper[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]{width:50px;height:8px;margin:0 auto;border-radius:0 0 4px 4px;display:flex;justify-content:center;align-items:center}.option-wrapper[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]   .phone-sound-line[_ngcontent-%COMP%]{width:18px;height:2px;border-radius:2px;background-color:#496378;margin-right:2px}.option-wrapper[_ngcontent-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]   .phone-camera-dot[_ngcontent-%COMP%]{width:2px;height:2px;border-radius:2px;background-color:#496378}}.card-content-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 1023px){.card-content-container[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 767px){.card-content-container[_ngcontent-%COMP%]{justify-content:space-between}}.card-content-container.default-page-content[_ngcontent-%COMP%]{margin-top:45px}@media (max-width: 1023px){.card-content-container.default-page-content[_ngcontent-%COMP%]{transform:scale(.8)}}@media (max-width: 767px){.card-content-container.default-page-content[_ngcontent-%COMP%]{transform:scale(1)}}.default-page-img-wrapper[_ngcontent-%COMP%]{border-radius:16px;cursor:pointer}.default-page-img-wrapper[_ngcontent-%COMP%]   .default-page-img[_ngcontent-%COMP%]{position:relative;z-index:0;width:94px;height:92px;background-repeat:no-repeat;background-position:center center;background-size:cover}.default-page-img-wrapper[_ngcontent-%COMP%]   .default-page-img[_ngcontent-%COMP%]:after{width:93px;height:89px;border:solid 1px var(--lightmode-neutral-40);border-radius:16px;content:"";display:block;position:absolute;z-index:1;top:0}.default-page-img-wrapper.selected-page[_ngcontent-%COMP%]   .default-page-name[_ngcontent-%COMP%]{color:var(--neutral-0-dm)}.default-page-img-wrapper.selected-page[_ngcontent-%COMP%]   .default-page-img[_ngcontent-%COMP%]:after{border:solid 2px var(--neutral-0-dm)}@media (max-width: 1023px){.default-page-img-wrapper[_ngcontent-%COMP%]{margin:0 5px}}.default-page-name[_ngcontent-%COMP%]{color:var(--neutral-70);margin-top:25px;text-align:center;max-width:100px}.rtl-direction[_nghost-%COMP%], .rtl-direction   [_nghost-%COMP%]{direction:rtl}.rtl-direction[_nghost-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .option-ph[_ngcontent-%COMP%]   .hover-effect-wrap[_ngcontent-%COMP%]   .left-side-bg[_ngcontent-%COMP%]{margin-right:auto;direction:ltr}'],changeDetection:0}),a})();function ur(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-default-page-selector",14),t.bIt("pageSelected",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.setHomePage(i))}),t.nI1(1,"translate"),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("contentText",t.i5U(1,3,"setDefaultPageV2",o.localizationKey))("localizationKey",o.localizationKey)("pageOptions",o.homePageService.pages$)}}function mr(e,a){1&e&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"sideMenu.betaLogo")))}const ze=function(e){return{"is-selected":e}};function hr(e,a){if(1&e&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG().$implicit;t.Y8G("ngClass",t.eq3(4,ze,o.isSelected)),t.R7$(1),t.JRh(t.bMT(2,2,o.descriptionKey))}}const fr=function(e){return{"selected-theme":e}},_r=function(e){return{"background-image":e}};function Cr(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.setSelectedThemeOption(r.option,!0))}),t.j41(1,"div",20),t.DNE(2,mr,3,3,"div",21),t.k0s(),t.j41(3,"div",22),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.DNE(6,hr,3,6,"div",23),t.k0s()}if(2&e){const o=a.$implicit,n=a.index,i=t.XpG(2);t.Y8G("ngClass",t.eq3(9,fr,o.isSelected)),t.BMQ("automation-id",o.key),t.R7$(1),t.Y8G("ngStyle",t.eq3(11,_r,"url("+i.imageUrlPrefix+o.filename+")")),t.R7$(1),t.Y8G("ngIf",n>0&&i.shouldShowDMBetaLabel),t.R7$(1),t.Y8G("ngClass",t.eq3(13,ze,o.isSelected)),t.R7$(1),t.JRh(t.bMT(5,7,o.key)),t.R7$(2),t.Y8G("ngIf",!i.isMobile)}}function vr(e,a){if(1&e&&(t.j41(0,"div",26),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.JRh(t.bMT(2,1,null==o.selectedThemeObj?null:o.selectedThemeObj.descriptionKey))}}function br(e,a){if(1&e&&(t.j41(0,"et-card",15)(1,"et-card-title"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content")(5,"div",16),t.DNE(6,Cr,7,15,"div",17),t.k0s(),t.DNE(7,vr,3,3,"div",18),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.JRh(t.i5U(3,4,"themes",o.localizationKey)),t.R7$(4),t.Y8G("ngForOf",o.themes)("ngForTrackBy",o.trackByFn),t.R7$(1),t.Y8G("ngIf",o.isMobile)}}const yr=function(e){return{"et-grid-area2":e}},Xt=function(e){return{"grid-area":e}};function xr(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",27),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.openRateUs())}),t.j41(1,"et-card-content")(2,"div",28),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",29),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.nrm(8,"img",30),t.j41(9,"div",31)(10,"div",29),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()()}if(2&e){const o=t.XpG();t.Y8G("ngClass",t.eq3(15,yr,!o.isThemeABTest))("ngStyle",t.eq3(17,Xt,o.isThemeABTest?"area5":"area2")),t.R7$(3),t.JRh(t.i5U(4,6,"rateUsTitle",o.localizationKey)),t.R7$(3),t.JRh(t.i5U(7,9,"rateUsDescription",o.localizationKey)),t.R7$(2),t.Y8G("src",o.imageUrlPrefix+"/rate-us/rate-us-icon.svg",t.B4B),t.R7$(3),t.JRh(t.i5U(12,12,"rateUsFooter",o.localizationKey))}}const Pr=function(e){return{"grid-area":e,"max-height":"316px"}};function Mr(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-default-page-selector",32),t.bIt("pageSelected",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.setHomePage(i))}),t.nI1(1,"translate"),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("ngStyle",t.eq3(9,Pr,o.defaultHomePageArea))("contentText",t.i5U(1,6,"setDefaultPageV2",o.localizationKey))("localizationKey",o.localizationKey)("pageOptions",o.homePageService.pages$)("imageUrlPrefix",o.imageUrlPrefix)("isThemeABTest",o.isThemeABTest)}}function kr(e,a){if(1&e&&(t.j41(0,"et-card",7)(1,"et-card-title",33),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content"),t.nrm(5,"et-language-picker",34),t.k0s()()),2&e){const o=t.XpG();t.Y8G("ngStyle",t.eq3(5,Xt,o.languagePickerArea)),t.R7$(2),t.JRh(t.i5U(3,2,"localeTitle",o.localizationKey))}}function Or(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",35)(1,"et-card-title",36),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content")(5,"div",37)(6,"div",38),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"et-toggle-button",39),t.bIt("change",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.toggleTrade(i))}),t.k0s()()()()}if(2&e){const o=t.XpG();t.Y8G("ngStyle",t.eq3(11,Xt,o.sharingArea)),t.R7$(2),t.JRh(t.i5U(3,5,"tradingTitle",o.localizationKey)),t.R7$(5),t.JRh(t.i5U(8,8,"showShareTradeV2",o.localizationKey)),t.R7$(2),t.Y8G("disabled",o.isUserOptout)("checked",o.showTradeShareModal)}}const wr=function(e,a){return{"no-lang-view":e,"show-rate-us":a}},Sr=["/light-theme-bg-img-desktop.svg","/dark-theme-bg-img-desktop.svg","/system-theme-bg-img-desktop.svg"],Tr=["/light-theme.svg","/dark-theme-on-dark.svg","/system-theme-on-dark.svg"],Ir=[{key:"settingsGeneral.theme.light",descriptionKey:"settingsGeneral.theme.lightDescription",option:H.w.Light},{key:"settingsGeneral.theme.dark",descriptionKey:"settingsGeneral.theme.darkDescription",option:H.w.Dark},{key:"settingsGeneral.system",descriptionKey:"settingsGeneral.systemDescription",option:H.w.System}];let Ar=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_,b){var O,A,I;this.$root=n,this.config=i,this.localizeService=r,this.preferencesService=s,this.homePageService=l,this.$analytics=g,this.UIBreakpoints=p,this.themeService=u,this.loginPopupDarkModeExpService=_,this.cdr=b,this.localizationKey="settingsGeneral",this.isEtorian=250===(null===(O=this.$root.session.user)||void 0===O?void 0:O.countryId),this.isDarkMode=this.themeService.state===H.w.Dark,this.isThemeABTest=!1,this.destroyRef=(0,t.WQX)(t.abz),this.isAndroid=!1,this.showTradeShareModal=!this.preferencesService.getPreferences("feedHideTradeShareModal"),this.imageUrlPrefix=`${this.config.dynamics.urls.etoroCdn}/web-client/et/img/settings/general`,this.isLangView=(null===(A=this.localizeService.locales)||void 0===A?void 0:A.length)>1,this.shouldShowDMBetaLabel=null===(I=this.config.dynamics.settings)||void 0===I?void 0:I.shouldShowDMBetaLabel}ngOnInit(){(0,ne.z)([this.loginPopupDarkModeExpService.isThemeABTest$,this.loginPopupDarkModeExpService.androidSDKVersion$]).pipe((0,Y.pQ)(this.destroyRef)).subscribe(([i,r])=>{this.isThemeABTest=i,this.isSystemTheme=this.getIsSystemTheme(r),this.setSectionGridArea(),this.cdr.markForCheck()});let n=this.themeService.themeSelection;if(n)return this.setSelectedThemeOption(n);(0,ne.z)([this.loginPopupDarkModeExpService.variationId$,this.loginPopupDarkModeExpService.androidSDKVersion$]).pipe((0,Y.pQ)(this.destroyRef)).subscribe(([i,r])=>{this.isSystemTheme=this.getIsSystemTheme(r),n=i===H.k.System&&this.isSystemTheme?H.w.System:H.w.Light,this.setSelectedThemeOption(n)})}get appVersion(){return this.config.statics.ApplicationVersion}get isUserOptout(){return this.$root.session.user.optOut}get isMobile(){return this.UIBreakpoints.isMobile}get isShowRateUs(){return this.isMobile&&this.config.dynamics.isWrapper&&this.config.dynamics.rateUs.enable&&this.config.dynamics.rateUs.enableSettingsTouchpoint}toggleTrade(n){this.showTradeShareModal=n.checked,this.$analytics.eventTrack("Settings - General - Change Share Trade",{"Share status":this.showTradeShareModal?"Checked":"Not Checked"}),this.preferencesService.setPreferences({feedHideTradeShareModal:!this.showTradeShareModal})}getIsSystemTheme(n){return null===n||(this.isAndroid=!0,n>=33)}t(n,i=!1,r=!1){return this.localizeService.getResource(`settingsGeneral.${n}`,i,r)}setHomePage(n){this.homePageService.selectHomePage(n),this.$analytics.eventTrack("Settings - General - Change Default Page",{"New Default":n.id})}openRateUs(){this.$root.$emit("rateUs:open",{source:"settings"})}setSectionGridArea(){const n=this.getReorderedDefaultHomePageArea(),i=this.getBaseCurrencyPickerArea(),r=this.getBaseSharingArea(),s=this.getBaseLangPickerArea(),l=this.isThemeABTest?{defaultHomePage:n,languagePicker:this.isMobile?3:2,currencyPicker:4}:{defaultHomePage:1,languagePicker:s,currencyPicker:i};this.languagePickerArea=`area${l.languagePicker}`,this.defaultHomePageArea=`area${l.defaultHomePage}`,this.currencyArea=`area${l.currencyPicker}`,this.sharingArea=`area${r}`}getReorderedDefaultHomePageArea(){return this.isLangView?this.isMobile?2:3:this.isShowRateUs&&this.isMobile?2:3}getBaseCurrencyPickerArea(){return this.isMobile&&this.isShowRateUs?4:3}getBaseSharingArea(){return this.isMobile&&this.isShowRateUs?5:4}getBaseLangPickerArea(){return this.isMobile&&this.isShowRateUs?3:2}getThemes(n){const i=this.isMobile?Tr:Sr;return Ir.reduce((r,s,l)=>{if(this.isAndroid&&!this.isSystemTheme&&2===l)return r;const g={filename:i[l],isSelected:s.option===n,option:s.option,key:s.key,descriptionKey:s.descriptionKey};return s.option===n&&(this.selectedThemeObj=g),r.push(g),r},[])}setSelectedThemeOption(n,i){var r;this.selectedTheme=n,this.themeService.setTheme(n),this.updateThemes(),i&&this.$analytics.eventTrack("Settings - General - Change Theme",{"Element Name":"Change Theme","Element Subname":(null===(r=n[0])||void 0===r?void 0:r.toUpperCase())+(null==n?void 0:n.slice(1))})}updateThemes(){var n;null===(n=this.themeServiceStateSub)||void 0===n||n.unsubscribe();const i=this.selectedTheme===H.w.System?this.themeService.state$:this.themeService.state$.pipe((0,Pt.s)(1));this.themeServiceStateSub=i.subscribe(r=>{this.isDarkMode=r===H.w.Dark,this.themes=this.getThemes(this.selectedTheme),this.homePageService.updatePagesImages(r),this.cdr.markForCheck()})}trackByFn(n){return n}ngOnDestroy(){var n;null===(n=this.themeServiceStateSub)||void 0===n||n.unsubscribe()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU("$rootScope"),t.rXU(y.R),t.rXU(x.X),t.rXU(Le.W),t.rXU(Ye.P),t.rXU(k.c),t.rXU(E.M),t.rXU(m.Fs),t.rXU(Mt.n),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-general"]],decls:20,vars:21,consts:[[1,"et-layout","two-columns-layout","et-direction-start",3,"ngClass"],[1,"et-grid-area1"],[3,"contentText","localizationKey","pageOptions","pageSelected",4,"ngIf"],["class","local-currency-card","automation-id","settings-theme",4,"ngIf"],["class","rate-us",3,"ngClass","ngStyle","click",4,"ngIf"],[3,"ngStyle","contentText","localizationKey","pageOptions","imageUrlPrefix","isThemeABTest","pageSelected",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["automation-id","settings-trading-currency",1,"local-currency-card"],["automation-id","settings-trading-multi-currency-drop-down",1,"display-block"],["automation-id","settings-trading-info-currency",1,"center-footer"],[1,"icon-lamp","et-margin-end-s"],[1,"center-footer-text"],["automation-id","share-trade-container",3,"ngStyle",4,"ngIf"],[3,"contentText","localizationKey","pageOptions","pageSelected"],["automation-id","settings-theme",1,"local-currency-card"],[1,"et-flex-justify-center","themes"],["class","theme-img-wrapper",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","selected-theme-description ets-secondary-info",4,"ngIf"],[1,"theme-img-wrapper",3,"ngClass","click"],[1,"background-img",3,"ngStyle"],["class","beta-label ets-secondary-info ets-semi-bold",4,"ngIf"],[1,"theme-name",3,"ngClass"],["class","theme-description ets-secondary-info",3,"ngClass",4,"ngIf"],[1,"beta-label","ets-secondary-info","ets-semi-bold"],[1,"theme-description","ets-secondary-info",3,"ngClass"],[1,"selected-theme-description","ets-secondary-info"],[1,"rate-us",3,"ngClass","ngStyle","click"],[1,"content-title"],[1,"content-text"],[1,"card-img",3,"src"],[1,"rate-us-footer"],[3,"ngStyle","contentText","localizationKey","pageOptions","imageUrlPrefix","isThemeABTest","pageSelected"],["automation-id","language-title"],[1,"setting-language-picker"],["automation-id","share-trade-container",3,"ngStyle"],["automation-id","share-trade-title"],[1,"card-content-container"],[1,"share-trade-text","et-margin-end-m"],[3,"disabled","checked","change"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,ur,2,6,"et-default-page-selector",2),t.DNE(3,br,8,7,"et-card",3),t.k0s(),t.DNE(4,xr,13,19,"et-card",4),t.DNE(5,Mr,2,11,"et-default-page-selector",5),t.DNE(6,kr,6,7,"et-card",6),t.j41(7,"div",7)(8,"et-card",8)(9,"et-card-title"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"et-card-content"),t.nrm(13,"et-multi-currency-dropdown",9),t.k0s(),t.j41(14,"et-card-footer",10),t.nrm(15,"i",11),t.j41(16,"div",12),t.EFF(17),t.nI1(18,"translate"),t.k0s()()()(),t.DNE(19,Or,10,13,"et-card",13),t.k0s()),2&n&&(t.Y8G("ngClass",t.l_i(16,wr,!i.isLangView,i.isShowRateUs)),t.R7$(2),t.Y8G("ngIf",!i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",i.isShowRateUs),t.R7$(1),t.Y8G("ngIf",i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",i.isLangView),t.R7$(1),t.Y8G("ngStyle",t.eq3(19,Xt,i.currencyArea)),t.R7$(3),t.JRh(t.i5U(11,10,"equityCurrencyTitle","settingsTrade")),t.R7$(7),t.JRh(t.i5U(18,13,"equityCurrencyNote",i.localizationKey)),t.R7$(2),t.Y8G("ngIf",!i.isThemeABTest))},dependencies:[d.YU,d.Sq,d.bT,d.B3,nt.o,w.i,$.y,S.l,et.R,er.K,ar,He,h.D],styles:['.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1 area1" "area2 area3" "area4 area3"}@media (max-width: 767px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1" "area2" "area3" "area4" "area5"}}.et-layout.two-columns-layout.no-lang-view[_ngcontent-%COMP%]{grid-template-areas:"area1 area1" "area4 area3" "area4 area3"}@media (max-width: 767px){.et-layout.two-columns-layout.no-lang-view[_ngcontent-%COMP%]{grid-template-areas:"area1" "area3" "area4" "area5"}}@media (max-width: 767px){.et-layout.two-columns-layout.no-lang-view.show-rate-us[_ngcontent-%COMP%]{grid-template-areas:"area1" "area2" "area4" "area5"}}.two-cards-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.share-trade-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;color:var(--primary-neutral-text);font-weight:300}.share-trade-text[_ngcontent-%COMP%]     span{font-weight:600}.language-card-description[_ngcontent-%COMP%]{margin-bottom:.625rem}.card-content-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.local-currency-card[_ngcontent-%COMP%]{height:100%}.icon-lamp[_ngcontent-%COMP%]{font-size:2rem;color:var(--tertiary-neutral-text)}.center-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:30px}@media (max-width: 767px){.center-footer[_ngcontent-%COMP%]{padding:0;margin-top:1.75rem}}.center-footer[_ngcontent-%COMP%]   .center-footer-text[_ngcontent-%COMP%]{max-width:26.875rem;color:var(--secondary-neutral-text)}.currency-action[_ngcontent-%COMP%]{margin-bottom:.625rem}.card-img[_ngcontent-%COMP%]{margin:0 auto;display:block}@media (max-width: 767px){.version-number[_ngcontent-%COMP%]{text-align:center;padding:.625rem 1.25rem 1.25rem}}.rate-us[_ngcontent-%COMP%]{display:none}@media (max-width: 767px){.rate-us[_ngcontent-%COMP%]{display:block}.rate-us[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{margin-top:30px;font-weight:600;text-align:center;margin-bottom:10px;font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px}.rate-us[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]{font-weight:300;text-align:center}}.rate-us-footer[_ngcontent-%COMP%]{border-top:.5px solid rgba(151,151,151,.251);padding-top:20px}.rate-us-footer[_ngcontent-%COMP%]   .content-text[_ngcontent-%COMP%]{margin-bottom:5px}@media (max-width: 1023px){.themes[_ngcontent-%COMP%]{transform:scale(.8)}}@media (max-width: 767px){.themes[_ngcontent-%COMP%]{transform:scale(1)}}.theme-name[_ngcontent-%COMP%]{text-align:center;margin-top:25px;color:var(--tertiary-neutral-text)}.theme-name.is-selected[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:700}.theme-description[_ngcontent-%COMP%]{margin-top:10px;text-align:center;max-width:240px;color:var(--tertiary-neutral-text)}.theme-description.is-selected[_ngcontent-%COMP%]{color:var(--primary-neutral-text)}.selected-theme-description[_ngcontent-%COMP%]{color:var(--primary-neutral-text);margin-top:30px;text-align:center}.background-img[_ngcontent-%COMP%]{height:158px;width:250px;border:solid 1px var(--neutral-40);border-radius:10px;background-repeat:no-repeat;background-position:center center;position:relative}.background-img[_ngcontent-%COMP%]   .beta-label[_ngcontent-%COMP%]{color:var(--static-neutral-91);background-color:var(--static-neutral-30);padding:2px 8px;position:absolute;top:10px;right:10px;border-radius:15px;width:-moz-fit-content;width:fit-content;z-index:2}@media (max-width: 767px){.background-img[_ngcontent-%COMP%]   .beta-label[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:unset;bottom:-10px;background-color:var(--static-neutral-20);color:var(--static-neutral-91);border:unset}}@media (max-width: 767px){.background-img[_ngcontent-%COMP%]{border-radius:15px;height:185px;width:94px}}.theme-img-wrapper[_ngcontent-%COMP%]{margin:0 12px;cursor:pointer}.theme-img-wrapper[_ngcontent-%COMP%]:after{border:solid 1px var(--neutral-40);border-radius:9px;content:"";display:block;height:156px;position:absolute;top:70px;width:247px;z-index:1}@media (max-width: 1023px){.theme-img-wrapper[_ngcontent-%COMP%]:after{top:0}}@media (max-width: 767px){.theme-img-wrapper[_ngcontent-%COMP%]:after{border-radius:15px;height:183px;width:92px}}.theme-img-wrapper.selected-theme[_ngcontent-%COMP%]:after{border:solid 2px var(--neutral-0-dm);height:154px}@media (max-width: 1023px){.theme-img-wrapper.selected-theme[_ngcontent-%COMP%]:after{top:0}}@media (max-width: 767px){.theme-img-wrapper.selected-theme[_ngcontent-%COMP%]:after{border-radius:15px;height:182px;width:91px}}.rtl-direction[_nghost-%COMP%]   .beta-label[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .beta-label[_ngcontent-%COMP%]{left:unset;right:85%;transform:translate(50%);border:solid 1px var(--static-neutral-91)}@media (max-width: 767px){.rtl-direction[_nghost-%COMP%]   .beta-label[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .beta-label[_ngcontent-%COMP%]{right:50%;border:unset}}'],changeDetection:0}),a})();function Fr(e,a){1&e&&(t.nrm(0,"div",15),t.nI1(1,"translate")),2&e&&t.Y8G("innerHtml",t.bMT(1,1,"settingsPrivacyPiIndication.tooltipPiPublicModeOnly"),t.npT)}function Er(e,a){1&e&&(t.nrm(0,"div",15),t.nI1(1,"translate")),2&e&&t.Y8G("innerHtml",t.bMT(1,1,"settingsPrivacy.tooltipNotAllowDisplayFullname"),t.npT)}function Dr(e,a){if(1&e&&(t.j41(0,"et-card-footer",16),t.nrm(1,"div",15),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("innerHtml",o.tns("settingsPrivacyPiIndication","tooltipPiPublicModeOnly",!0,!0),t.npT)}}const Ur=function(e){return{"padding-bottom":e}};let $r=(()=>{var e;class a{constructor(n,i,r){this.authService=n,this.$analytics=i,this.localizeService=r,this.isPiUser=!1,this.localizationLey="settingsPrivacy",this.isUserVerified=!1}ngOnInit(){this.isPiUser=!!this.authService.user.isPi,this.isUserVerified=3===this.authService.user.verificationLevel}get privacyPolicy(){return this.usersSettings.privacyPolicy}get allowDisplayFullName(){return this.usersSettings.allowDisplayFullName}t(n,i=!1,r=!1){return this.localizeService.getResource(`settingsPrivacy.${n}`,i,r)}tns(n,i,r=!1,s=!1){return this.localizeService.getResource(`${n}.${i}`,r,s)}changePrivacyPolicy(n){this.usersSettings.privacyPolicy=!n.checked,this.$analytics.eventTrack("Settings - Privacy - Set Privacy Status",{Status:n.checked?"No":"Yes"})}changeAllowDisplayFullName(n){this.usersSettings.allowDisplayFullName=n.checked,this.$analytics.eventTrack("Settings - Privacy - Share Full Name",{Status:n.checked?"Yes":"No"})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(U.u),t.rXU(k.c),t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-privacy"]],inputs:{usersSettings:"usersSettings"},decls:26,vars:21,consts:[["data-etoro-locale-ns","settingsPrivacy",1,"et-layout","two-columns-layout","et-direction-start"],["automation-id","settings-privacy-wrapp-name",1,"et-grid-area2"],["automation-id","settings-privacy-title-full-name"],[1,"et-flex-between-align-center"],["automation-id","settings-privacy-fullname-question",1,"fullname-text"],[3,"checked","disabled","change"],[1,"pi-user-footer","full-name-footer"],["class","pi-user-footer-text",3,"innerHtml",4,"ngIf"],["automation-id","settings-privacy-wrapp-activity",1,"et-grid-area1","public-account"],["automation-id","settings-privacy-title-trading"],[1,"public-account-description"],[1,"settings-privacy-icon"],["automation-id","settings-privacy-activity-text",1,"privacy-text",3,"innerHtml"],[1,"public-account-action",3,"ngStyle"],["class","pi-user-footer",4,"ngIf"],[1,"pi-user-footer-text",3,"innerHtml"],[1,"pi-user-footer"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"et-card",1)(2,"et-card-title",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"et-card-content")(6,"div",3)(7,"div",4),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"et-toggle-button",5),t.bIt("change",function(s){return i.changeAllowDisplayFullName(s)}),t.k0s()(),t.j41(11,"et-card-footer",6),t.DNE(12,Fr,2,3,"div",7),t.DNE(13,Er,2,3,"div",7),t.k0s()()(),t.j41(14,"et-card",8)(15,"et-card-title",9),t.EFF(16),t.k0s(),t.j41(17,"et-card-content")(18,"section",10),t.nrm(19,"div",11)(20,"div",12),t.k0s(),t.j41(21,"section",13)(22,"div"),t.EFF(23),t.k0s(),t.j41(24,"et-toggle-button",5),t.bIt("change",function(s){return i.changePrivacyPolicy(s)}),t.k0s()(),t.DNE(25,Dr,2,1,"et-card-footer",14),t.k0s()()()),2&n&&(t.R7$(3),t.SpI(" ",t.i5U(4,13,"fullNameEnableTitle",i.localizationLey)," "),t.R7$(5),t.JRh(t.i5U(9,16,"fullNameEnableDescription",i.localizationLey)),t.R7$(2),t.Y8G("checked",!!i.isPiUser||i.allowDisplayFullName)("disabled",!i.isUserVerified||i.isPiUser),t.R7$(2),t.Y8G("ngIf",i.isPiUser),t.R7$(1),t.Y8G("ngIf",!i.isPiUser&&!i.isUserVerified),t.R7$(3),t.JRh(i.t("optInOutTitle")),t.R7$(4),t.Y8G("innerHtml",i.t("publicAccountDescription",!0,!0),t.npT),t.R7$(1),t.Y8G("ngStyle",t.eq3(19,Ur,i.isPiUser?"16px":"0")),t.R7$(2),t.JRh(i.t("publicAccountAction")),t.R7$(1),t.Y8G("checked",!i.privacyPolicy)("disabled",i.isPiUser),t.R7$(1),t.Y8G("ngIf",i.isPiUser))},dependencies:[d.bT,d.B3,nt.o,w.i,$.y,S.l,et.R,h.D],styles:['.toggle-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1 area1" "area2 area2"}@media (max-width: 767px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1" "area2"}}.public-account[_ngcontent-%COMP%]{padding-bottom:18px}@media (max-width: 767px){.public-account[_ngcontent-%COMP%]{padding:30px 30px 18px}}.public-account-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:2.125rem}.public-account-action[_ngcontent-%COMP%]{padding-top:26px;display:flex;justify-content:space-between;align-items:flex-start;border-top:.5px solid rgba(151,151,151,.251)}.privacy-text[_ngcontent-%COMP%]{max-width:55%;text-align:center;font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;line-height:normal}@media (max-width: 767px){.privacy-text[_ngcontent-%COMP%]{max-width:75%}}.fullname-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px}@media (max-width: 767px){.fullname-text[_ngcontent-%COMP%]{max-width:60%}}.settings-privacy-icon[_ngcontent-%COMP%]{margin:1rem 0 2.5rem;width:118px;height:103px;background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/privacy/settings-privacy-icon.svg)}[hidden][_ngcontent-%COMP%]{display:none!important}.pi-user-footer[_ngcontent-%COMP%]{margin-top:-1.5625rem}.pi-user-footer.full-name-footer[_ngcontent-%COMP%]{margin-top:.4375rem}.pi-user-footer-text[_ngcontent-%COMP%]{color:var(--tertiary-neutral-text);font-weight:400;letter-spacing:-.23px;max-width:60%}@media (max-width: 767px){.pi-user-footer-text[_ngcontent-%COMP%]{max-width:80%}}.rtl-direction[_nghost-%COMP%], .rtl-direction   [_nghost-%COMP%]{direction:rtl}']}),a})();var Ke=c(9988),ie=c(80867),it=c(507),J=function(e){return e[e.paymentIssues=1]="paymentIssues",e[e.accountIssues=2]="accountIssues",e[e.notMeetNeeds=3]="notMeetNeeds",e[e.personalReasons=4]="personalReasons",e[e.other=5]="other",e[e.privacyConcerns=6]="privacyConcerns",e}(J||{});let Lt=(()=>{var e;class a{constructor(n){this.httpClient=n}getCategories(){return this._categories?Promise.resolve(this._categories):this._getClosureMetadata().then(n=>this._categories)}getSolveProblem(){return this._solveProblem?Promise.resolve(this._solveProblem):this._getClosureMetadata().then(n=>this._solveProblem)}getSolutionsWhichNeedsFreeText(){return[9,12]}isCloseAccountAllowed(){return new Promise((n,i)=>{this.httpClient.get("/api/account/v1/account/close/isAllowed").toPromise().then(r=>{n(r)}).catch(i)})}closeAccount(n){return new Promise((i,r)=>{this.httpClient.post("/api/account/v1/account/close",n).toPromise().then(s=>{i(s)}).catch(r)})}_getClosureMetadata(){return new Promise((n,i)=>{this.httpClient.get("/api/account/v1/account/close/metadata").toPromise().then(r=>{this._categories=r.categories,this._solveProblem=r.solveProblem,n(r)}).catch(i)})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(Z.Qq))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var mt=function(e){return e.None="None",e.TooHighEquity="TooHighEquity",e.OpenOrders="OpenOrders",e.OpenPositions="OpenPositions",e.OpenMirrors="OpenMirrors",e.OpenCashouts="OpenCashouts",e.WalletNotAllowedToClose="WalletNotAllowedToClose",e.FiatMoneyNotAllowedToClose="FiatMoneyNotAllowedToClose",e.WalletAndFiatMoneyNotAllowedToClose="WalletAndFiatMoneyNotAllowedToClose",e}(mt||{}),ht=c(80461),Gr=c(6467),jr=c(7690);let Br=(()=>{var e;class a{constructor(n){this.localizeService=n}ngOnInit(){}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-closed"]],decls:4,vars:2,consts:[["automation-id","close-account-account-will-be-closed-title",1,"segment","popup-title"],["automation-id","close-account-account-will-be-closed-context",1,"segment",3,"innerHTML"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"b",0),t.EFF(2),t.k0s(),t.nrm(3,"div",1),t.k0s()),2&n&&(t.R7$(2),t.JRh(i.t("confirmClosureFinalTitle")),t.R7$(1),t.Y8G("innerHTML",i.t("confirmClosureFinalText",!0),t.npT))}}),a})();const Vr=function(e){return{"padding-bottom":e}};let Nr=(()=>{var e;class a{constructor(n,i,r,s){this.$analytics=n,this.localizeService=i,this.config=r,this.uiBreakpointsService=s,this.onCloseAccount=new t.bkB,this.onCancelCloseAccount=new t.bkB,this.closeAccountClicked=!1}ngOnInit(){var n=this;return(0,v.A)(function*(){yield n.config.dynamics.whenReady(),n.isMobileAppWeb=!n.config.dynamics.isWrapper&&n.uiBreakpointsService.isMobile})()}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}keepOpen(){this.onCancelCloseAccount.emit(),this.$analytics.eventTrack("Settings - Account Tab  -  Close Account - Keep Account - Click")}closeAccount(){this.closeAccountClicked=!0,this.onCloseAccount.emit(),this.$analytics.eventTrack("Settings - Account Tab  -  Close Account - Confirm - Click")}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(k.c),t.rXU(x.X),t.rXU(y.R),t.rXU(E.M))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-confirm"]],outputs:{onCloseAccount:"onCloseAccount",onCancelCloseAccount:"onCancelCloseAccount"},decls:9,vars:8,consts:[[3,"ngClass"],["automation-id","close-account-whats-going-to-happen-title",1,"list-title","popup-title"],["automation-id","close-account-whats-going-to-happen-context",1,"segment",3,"innerHTML"],[1,"segment","two-part","pop-up-button-wrapp"],["automation-id","close-account-whats-going-to-happen-keep-open-button",1,"button-standard","button-blue","pop-up-button",3,"click"],["automation-id","close-account-whats-going-to-happen-confirm-button",1,"button-standard","button-white","pop-up-button",3,"disabled","click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"b",1),t.EFF(2),t.k0s(),t.nrm(3,"div",2),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return i.keepOpen()}),t.EFF(6),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return i.closeAccount()}),t.EFF(8),t.k0s()()()),2&n&&(t.Y8G("ngClass",t.eq3(6,Vr,i.isMobileAppWeb)),t.R7$(2),t.JRh(i.t("confirmClosureSubtitle")),t.R7$(1),t.Y8G("innerHTML",i.t("confirmClosureMessage",!0),t.npT),t.R7$(3),t.SpI(" ",i.t("confirmClosureKeepAccountOpen")," "),t.R7$(1),t.Y8G("disabled",i.closeAccountClicked),t.R7$(1),t.SpI(" ",i.t("confirmClosureConfirm")," "))},dependencies:[d.YU],styles:[".padding-bottom[_ngcontent-%COMP%]{padding-bottom:100px}"]}),a})(),Xr=(()=>{var e;class a{constructor(n){this.localizeService=n}ngOnInit(){}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-error"]],decls:3,vars:1,consts:[[1,"segment","popup-title"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"b",0),t.EFF(2),t.k0s()()),2&n&&(t.R7$(2),t.JRh(i.t("networkError")))}}),a})(),Lr=(()=>{var e;class a{constructor(n){this.localizeService=n}ngOnInit(){}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-keep-open"]],decls:5,vars:2,consts:[[1,"centered","no-header"],["automation-id","close-account-thanks-for-staying-title",1,"segment","popup-title"],["automation-id","close-account-thanks-for-staying-context",1,"segment"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"b",1),t.EFF(2),t.k0s(),t.j41(3,"div",2),t.EFF(4),t.k0s()()),2&n&&(t.R7$(2),t.JRh(i.t("confirmClosureThanksForStaying")),t.R7$(2),t.SpI(" ",i.t("confirmClosureThanksForStayingText")," "))}}),a})();function Yr(e,a){if(1&e&&t.nrm(0,"li",5),2&e){const o=a.$implicit,n=t.XpG();t.Y8G("innerHTML",n.t(o+"V2",!0),t.npT)}}let Hr=(()=>{var e;class a{constructor(n){this.localizeService=n}ngOnInit(){}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-not-allowed"]],inputs:{errorMessages:"errorMessages"},decls:7,vars:3,consts:[["automation-id","close-account-not-allowed-title",1,"centered","segment","popup-title"],["automation-id","close-account-not-allowed-context",1,"segment"],[1,"segment"],[1,"list-segment"],["automation-id","close-account-not-allowed-reason",3,"innerHTML",4,"ngFor","ngForOf"],["automation-id","close-account-not-allowed-reason",3,"innerHTML"]],template:function(n,i){1&n&&(t.j41(0,"b",0),t.EFF(1),t.k0s(),t.j41(2,"div",1),t.EFF(3),t.k0s(),t.j41(4,"div",2)(5,"ul",3),t.DNE(6,Yr,1,1,"li",4),t.k0s()()),2&n&&(t.R7$(1),t.JRh(i.t("canNotCloseAccountTitle")),t.R7$(2),t.JRh(i.t("canNotCloseAccountSubtitle")),t.R7$(3),t.Y8G("ngForOf",i.errorMessages))},dependencies:[d.Sq]}),a})();var Je=c(89699),We=c(53314),qe=c(18414),Qe=c(93246);function zr(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-select-body-option",10),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.selectCategory(r))}),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG();t.Y8G("innerHTML",n.t(o.categoryName,!0),t.npT)}}function Kr(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",13),t.nrm(1,"input",14),t.j41(2,"label",15),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.selectReason(r))}),t.nrm(3,"span",16),t.j41(4,"span",17),t.EFF(5),t.k0s()()()}if(2&e){const o=a.$implicit,n=a.index,i=t.XpG(2);t.R7$(1),t.Y8G("id","choice"+n)("checked",i.selectedReason&&o.reasonId===i.selectedReason.reasonId),t.R7$(1),t.Y8G("for","choice"+n),t.R7$(3),t.SpI(" ",i.t(o.reasonName,!0)," ")}}function Jr(e,a){if(1&e&&(t.j41(0,"div")(1,"div",11),t.EFF(2),t.k0s(),t.DNE(3,Kr,6,4,"div",12),t.k0s()),2&e){const o=t.XpG();t.R7$(2),t.SpI(" ",o.t("whyLeaveAskReasonMessage")," "),t.R7$(1),t.Y8G("ngForOf",o.reasons)}}function Wr(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",2)(1,"textarea",18),t.bIt("ngModelChange",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.textareaReason=i)}),t.k0s(),t.j41(2,"span",19),t.EFF(3),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("placeholder",o.t("otherCategoryPlaceHolder"))("ngModel",o.textareaReason),t.R7$(1),t.AVh("error",0===o.textareaReason.length||o.textareaReason.length>o.maxMessageChars),t.R7$(1),t.Lme("",o.textareaReason.length||0,"/",o.maxMessageChars,"")}}let qr=(()=>{var e;class a{constructor(n,i,r,s,l){this.config=n,this.$analytics=i,this.closeAccountService=r,this.localizeService=s,this.ref=l,this.onSelectedReason=new t.bkB,this.emptyArray=[],this.textareaReason="",this.maxMessageChars=n.dynamics.closeAccount.maxMessageChars}get shouldShowFreeText(){return!!this.selectedCategory&&(this.selectedCategory.categoryId===J.other||this.selectedCategory.categoryId===J.privacyConcerns)}get reasons(){return this.selectedCategory&&!this.shouldShowFreeText&&this.selectedCategory.reasons?this.selectedCategory.reasons.filter(n=>this.t(n.reasonName,!0,!0).length>0):this.emptyArray}get isOtherCategorySelected(){return!!this.selectedCategory&&this.selectedCategory.categoryId===J.other}ngOnInit(){this.selectedCategory&&this.closeAccountService.getCategories().then(n=>{this.selectedCategory=n.find(i=>i.categoryId===this.selectedCategory.categoryId),this.ref.detectChanges()})}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}selectCategory(n){this.selectedCategory=n,this.selectedReason=null,this.$analytics.eventTrack("Settings - Account Tab  -  Close Account - Category",{Category:this.selectedCategory.categoryId,"Category Name":this.selectedCategory.categoryName})}selectReason(n){this.selectedReason=n,this.$analytics.eventTrack("Settings - Account Tab  -  Close Account - Reason",{Reason:this.selectedReason.reasonId,"Reason Name":this.selectedReason.reasonName})}submit(){this.onSelectedReason.emit({selectedCategory:this.selectedCategory,selectedReason:this.selectedReason,freeText:this.isOtherCategorySelected?this.textareaReason:null})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(y.R),t.rXU(k.c),t.rXU(Lt),t.rXU(x.X),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-reason"]],inputs:{selectedCategory:"selectedCategory",selectedReason:"selectedReason",categories:"categories"},outputs:{onSelectedReason:"onSelectedReason"},decls:16,vars:8,consts:[["automation-id","close-account-tell-us-why-title",1,"segment","popup-title"],["automation-id","close-account-tell-us-why-context",1,"segment",3,"innerHTML"],[1,"segment"],["automation-id","close-account-tell-us-why-dropdown-categories-title",3,"innerHTML"],["automation-id","close-account-tell-us-why-dropdown-category",3,"innerHTML","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","segment",4,"ngIf"],[1,"segment","two-part","pop-up-button-wrapp"],[1,"button-ph","mobile-off","pop-up-button"],["automation-id","close-account-tell-us-why-continue-button",1,"ets-button-basic","ets-button-primary","ets-button-big",3,"disabled","click"],["automation-id","close-account-tell-us-why-dropdown-category",3,"innerHTML","click"],["automation-id","close-account-tell-us-why-reasons-title",1,"segment"],["class","radio-wrapp segment","automation-id","close-account-tell-us-why-reason",4,"ngFor","ngForOf"],["automation-id","close-account-tell-us-why-reason",1,"radio-wrapp","segment"],["type","radio","name","selector",1,"check-radio-point",3,"id","checked"],[1,"radio-label",3,"for","click"],[1,"radio-check"],[1,"radio-info"],["automation-id","close-account-tell-us-why-write-a-comment","id","close-account-textarea-reason",1,"close-account-textarea",3,"placeholder","ngModel","ngModelChange"],[1,"w-talkbox-control-box-counter"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"b",0),t.EFF(2),t.k0s(),t.nrm(3,"div",1),t.j41(4,"div",2)(5,"et-select")(6,"et-select-header"),t.nrm(7,"span",3),t.k0s(),t.j41(8,"et-select-body"),t.DNE(9,zr,1,1,"et-select-body-option",4),t.k0s()()(),t.DNE(10,Jr,4,2,"div",5),t.DNE(11,Wr,4,6,"div",6),t.j41(12,"div",7),t.nrm(13,"div",8),t.j41(14,"button",9),t.bIt("click",function(){return i.submit()}),t.EFF(15),t.k0s()()()),2&n&&(t.R7$(2),t.JRh(i.t("whyLeaveTitle")),t.R7$(1),t.Y8G("innerHTML",i.t("whyLeaveMessage",!0),t.npT),t.R7$(4),t.Y8G("innerHTML",i.t(i.selectedCategory?i.selectedCategory.categoryName:"whyLeaveCategoryTitle",!0),t.npT),t.R7$(2),t.Y8G("ngForOf",i.categories),t.R7$(1),t.Y8G("ngIf",!!i.selectedCategory&&!i.shouldShowFreeText),t.R7$(1),t.Y8G("ngIf",i.shouldShowFreeText),t.R7$(3),t.Y8G("disabled",!i.selectedCategory||!i.shouldShowFreeText&&!i.selectedReason||i.shouldShowFreeText&&(0===i.textareaReason.length||i.textareaReason.length>i.maxMessageChars)),t.R7$(1),t.SpI(" ",i.t("whyLeaveCategoryContinue")," "))},dependencies:[d.Sq,d.bT,C.me,C.BC,C.vS,Je.w,We.X,qe.m,Qe.B],styles:["et-select[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 740px){.btn-close-account-reason[_ngcontent-%COMP%]{margin-bottom:15vh}}"]}),a})();function Qr(e,a){if(1&e&&t.nrm(0,"p",11),2&e){const o=a.$implicit,n=t.XpG();t.Y8G("innerHTML",n.t(o.solutionName,!0),t.npT)}}function Zr(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",4)(1,"textarea",12),t.bIt("ngModelChange",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.freeText=i)}),t.k0s(),t.j41(2,"span",13),t.EFF(3),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("placeholder",o.t("possibleSolutionSolveProblemPlaceHolder"))("ngModel",o.freeText),t.R7$(1),t.AVh("error",0===o.freeText.length||o.freeText.length>o.maxMessageChars),t.R7$(1),t.Lme("",o.freeText.length||0,"/",o.maxMessageChars,"")}}function ts(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-select-body-option",14),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.selectSolveProblem(r))}),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG();t.Y8G("innerHTML",n.t(o.solveProblemName,!0),t.npT)}}let es=(()=>{var e;class a{constructor(n,i,r,s){this.config=n,this.$analytics=i,this.localizeService=r,this.closeAccountService=s,this.onClose=new t.bkB,this.onBack=new t.bkB,this.onSubmit=new t.bkB,this.freeText="",this.maxMessageChars=n.dynamics.closeAccount.maxMessageChars}get solutions(){return this.selectedReason?this.selectedReason.solutions:null}ngOnInit(){this.selectedSolution=this.solutions&&this.solutions[0],this.closeAccountService.getSolveProblem().then(n=>{this.solveProblems=n.filter(i=>this.isNotEmptyKey(i.solveProblemName))}).catch(n=>{}),this.solutionsWhichNeedsFreeText=this.closeAccountService.getSolutionsWhichNeedsFreeText(),this.shouldDisplayTextArea=this.solutions&&-1!==this.solutionsWhichNeedsFreeText.indexOf(this.solutions[0].solutionId)}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}clickHandler(n){n&&"A"===n.target.nodeName&&n.target.classList.contains("link-wrapper")&&"ReToro"!==this.config.statics.ApplicationIdentifier&&(n.preventDefault(),this.close())}selectSolveProblem(n){this.selectedSolveProblem=n}close(){this.onClose.emit()}back(){this.onBack.emit()}submit(){this.onSubmit.emit({selectedSolution:this.selectedSolution,solveProblem:this.selectedSolveProblem,freeText:this.shouldDisplayTextArea?this.freeText:""}),this.$analytics.eventTrack("Settings - Account Tab  -  Close Account - Possible Solution Answer",{Answer:this.selectedSolveProblem.solveProblemId})}isNotEmptyKey(n){return this.t(n,!0,!0).length>0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(y.R),t.rXU(k.c),t.rXU(x.X),t.rXU(Lt))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-solution"]],inputs:{selectedReason:"selectedReason",selectedSolveProblem:"selectedSolveProblem"},outputs:{onClose:"onClose",onBack:"onBack",onSubmit:"onSubmit"},decls:18,vars:9,consts:[[3,"click"],["automation-id","close-account-solution-title",1,"segment","popup-title"],["automation-id","close-account-solution-context","class","segment",3,"innerHTML",4,"ngFor","ngForOf"],["class","segment",4,"ngIf"],[1,"segment"],["automation-id","close-account-solution-answers-title"],["automation-id","close-account-solution-dropdown-answers-title"],["automation-id","close-account-solution-dropdown-answer",3,"innerHTML","click",4,"ngFor","ngForOf"],[1,"segment","two-part","pop-up-button-wrapp"],["automation-id","close-account-solution-back-button",1,"ets-button-basic","ets-button-basic-outline","ets-button-primary","ets-button-big",3,"click"],["automation-id","close-account-solution-continue-button","type","button",1,"ets-button-basic","ets-button-primary","ets-button-big",3,"disabled","click"],["automation-id","close-account-solution-context",1,"segment",3,"innerHTML"],[1,"close-account-textarea",3,"placeholder","ngModel","ngModelChange"],[1,"w-talkbox-control-box-counter"],["automation-id","close-account-solution-dropdown-answer",3,"innerHTML","click"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.bIt("click",function(s){return i.clickHandler(s)}),t.j41(1,"b",1),t.EFF(2),t.k0s(),t.DNE(3,Qr,1,1,"p",2),t.DNE(4,Zr,4,6,"div",3),t.j41(5,"div",4)(6,"p",5),t.EFF(7),t.k0s(),t.j41(8,"et-select")(9,"et-select-header",6),t.EFF(10),t.k0s(),t.j41(11,"et-select-body"),t.DNE(12,ts,1,1,"et-select-body-option",7),t.k0s()()(),t.j41(13,"div",8)(14,"button",9),t.bIt("click",function(){return i.back()}),t.EFF(15),t.k0s(),t.j41(16,"button",10),t.bIt("click",function(){return i.submit()}),t.EFF(17),t.k0s()()()),2&n&&(t.R7$(2),t.JRh(i.t("possibleSolutionTitle")),t.R7$(1),t.Y8G("ngForOf",i.solutions),t.R7$(1),t.Y8G("ngIf",i.shouldDisplayTextArea),t.R7$(3),t.SpI(" ",i.t("possibleSolutionSolveProblemTitle")," "),t.R7$(3),t.SpI("",i.t(i.selectedSolveProblem?i.selectedSolveProblem.solveProblemName:"selectAnswer")," "),t.R7$(2),t.Y8G("ngForOf",i.solveProblems),t.R7$(3),t.SpI(" ",i.t("whyLeaveCategoryBack")," "),t.R7$(1),t.Y8G("disabled",!i.selectedSolveProblem||i.shouldDisplayTextArea&&(0===i.freeText.length||i.freeText.length>i.maxMessageChars)),t.R7$(1),t.SpI(" ",i.t("whyLeaveCategoryContinue")," "))},dependencies:[d.Sq,d.bT,C.me,C.BC,C.vS,Je.w,We.X,qe.m,Qe.B],styles:["et-select[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 740px){.button-standard[_ngcontent-%COMP%]{margin-bottom:15vh}}[automation-id=close-account-solution-back-button][_ngcontent-%COMP%]{display:none}@media screen and (min-width: 741px){[automation-id=close-account-solution-back-button][_ngcontent-%COMP%]{display:block}}"]}),a})(),ns=(()=>{var e;class a{constructor(n,i,r){this.localizeService=n,this.config=i,this.domService=r,this.onContinue=new t.bkB}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}navigateToEtoroMoney(){var n;const i=null===(n=this.config.dynamics.payments)||void 0===n||null===(n=n.etoroMoney)||void 0===n||null===(n=n.links)||void 0===n?void 0:n.learnMore;this.domService.navigateTo(i,"_blank")}closeAccount(){this.onContinue.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X),t.rXU(y.R),t.rXU(Nt.w))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-close-account-etoro-money"]],outputs:{onContinue:"onContinue"},decls:8,vars:3,consts:[["automation-id","close-account-etoro-money-context",1,"segment",3,"innerHTML"],[1,"segment","two-part","pop-up-button-wrapp"],["automation-id","close-account-etoro-money-claim-funds-button",1,"button-standard","button-black","pop-up-button",3,"click"],["automation-id","close-account-etoro-money-close-anyway-button",1,"button-standard","button-blue","pop-up-button",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div"),t.nrm(1,"div",0),t.j41(2,"div",1),t.qex(3),t.j41(4,"button",2),t.bIt("click",function(){return i.navigateToEtoroMoney()}),t.EFF(5),t.k0s(),t.j41(6,"button",3),t.bIt("click",function(){return i.closeAccount()}),t.EFF(7),t.k0s(),t.bVm(),t.k0s()()),2&n&&(t.R7$(1),t.Y8G("innerHTML",i.t("etoroMoneyBelow10",!0),t.npT),t.R7$(4),t.SpI(" ",i.t("etoroMoneyClaimFunds")," "),t.R7$(2),t.SpI(" ",i.t("etoroMoneyCloseAnyway")," "))},encapsulation:2}),a})();function is(e,a){if(1&e&&(t.j41(0,"div",13),t.EFF(1),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.SpI(" ",o.t("title"),"")}}function os(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.close())}),t.k0s()}}function as(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",15),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.back())}),t.nrm(1,"span",16),t.k0s()}}function rs(e,a){if(1&e&&(t.j41(0,"h1",9),t.DNE(1,is,2,1,"div",10),t.DNE(2,os,1,0,"a",11),t.DNE(3,as,2,0,"a",12),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",o.shouldShowTitle),t.R7$(1),t.Y8G("ngIf",o.shouldShowCloseButton),t.R7$(1),t.Y8G("ngIf",o.shouldShowBackButton)}}function ss(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-settings-close-account-reason",17),t.bIt("onSelectedReason",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.selectReason(i))}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("categories",o.categories)("selectedCategory",o.selectedCategory)("selectedReason",o.selectedReason)}}function cs(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-settings-close-account-solution",18),t.bIt("onBack",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.back())})("onSubmit",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.selectSolution(i))})("onClose",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.close())}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("selectedReason",o.selectedReason)("selectedSolveProblem",o.selectedSolveProblem)}}function ls(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-settings-close-account-confirm",19),t.bIt("onCloseAccount",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.closeAccountConfirm())})("onCancelCloseAccount",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.cancelClose())}),t.k0s()}}function ds(e,a){1&e&&t.nrm(0,"et-settings-close-account-keep-open")}function gs(e,a){1&e&&t.nrm(0,"et-settings-close-account-closed")}function ps(e,a){if(1&e&&t.nrm(0,"et-settings-close-account-not-allowed",20),2&e){const o=t.XpG();t.Y8G("errorMessages",o.errorMessages)}}function us(e,a){1&e&&t.nrm(0,"et-settings-close-account-error")}function ms(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-settings-close-account-etoro-money",21),t.bIt("onContinue",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.proceedToCloseAccount())}),t.k0s()}}let hs=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_){this.$location=n,this.loaderService=i,this.logoutService=r,this.config=s,this.ref=l,this.localizeService=g,this.closeAccountService=p,this.authService=u,this.redirectCookiesService=_,this.onClose=new t.bkB,this.STATES={REASON:1,SOLUTION:2,CONFIRM:3,KEEP_OPEN:4,CLOSED:5,NOT_ALLOWED:6,ERROR:7,ETORO_MONEY:8},this.closeScreenTimeout=s.dynamics.closeAccount.closeScreenTimeout,this.state=this.STATES.REASON,this._getCategories()}get state(){return this._state}set state(n){this._state=n,this._setView(n)}ngOnInit(){if(this.isDeeplink=!!this.deeplink,this.isDeeplink){const n=J[this.category]||J.other;this.state=this.STATES[this.deeplink.toUpperCase()],this.selectedCategory={categoryId:n,categoryName:this.category},this.shouldShowBackButton=!1}}proceedToCloseAccount(){this.closeAccount()}closeAccount(){const n={CategoryId:this.selectedCategory&&this.selectedCategory.categoryId,ReasonId:this.selectedReason&&this.selectedReason.reasonId,SolutionId:this.selectedSolution&&this.selectedSolution.solutionId,SolveProblemId:this.selectedSolveProblem&&this.selectedSolveProblem.solveProblemId,FreeText:this.freeText};this.authService.user.isAccountClosureInProcess=!0,this.closeAccountService.closeAccount(n).then(i=>{this.state=this.STATES.CLOSED,this.ref.detectChanges()}).catch(i=>{401===i.status&&"Partial"===i.headers("x-unauthorizedstatus")||("Conflict"===i.data.ErrorCode?(this.state=this.STATES.NOT_ALLOWED,this.errorMessages=[i.data.ErrorMessage]):this.state=this.STATES.ERROR),this.ref.detectChanges()}).finally(()=>{delete this.authService.user.isAccountClosureInProcess})}selectReason(n){this.selectedCategory=n.selectedCategory,this.selectedReason=n.selectedReason,this.freeText=n.freeText,this.next()}selectSolution(n){this.selectedSolution=n.selectedSolution,this.selectedSolveProblem=n.solveProblem,this.freeText=n.freeText,this.next()}closeAccountConfirm(){this.closeAccountService.isCloseAccountAllowed().then(n=>{if("Allowed"===n.closeAccountAllowedStatus)this.state=this.STATES.ETORO_MONEY,this.ref.detectChanges();else{this.state=this.STATES.NOT_ALLOWED;const i=n.closeAccountNotAllowedReasons.filter(this.includeExternalErrors(!1));let r=n.closeAccountNotAllowedReasons.filter(this.includeExternalErrors(!0));2===r.length&&(r=[mt.WalletAndFiatMoneyNotAllowedToClose]),this.errorMessages=r.concat(i),this.ref.detectChanges()}}).catch(n=>{this.state=this.STATES.ERROR,this.ref.detectChanges()})}includeExternalErrors(n){return i=>n?i===mt.WalletNotAllowedToClose||i===mt.FiatMoneyNotAllowedToClose:i!==mt.WalletNotAllowedToClose&&i!==mt.FiatMoneyNotAllowedToClose}cancelClose(){this.state=this.STATES.KEEP_OPEN}next(){switch(this.state){case this.STATES.REASON:this.state=this._shouldSkipSolutionScreen()?this.STATES.CONFIRM:this.STATES.SOLUTION;break;case this.STATES.SOLUTION:this.state=1===this.selectedSolveProblem.solveProblemId?this.STATES.KEEP_OPEN:this.STATES.CONFIRM}}back(){this.state===this.STATES.CONFIRM&&this._shouldSkipSolutionScreen()?this.state=this.STATES.REASON:this.state!==this.STATES.ETORO_MONEY?this.state--:this.state=this.STATES.CONFIRM}close(){this.onClose.emit()}_shouldSkipSolutionScreen(){const n=this.selectedCategory.categoryId;return n===J.other||n===J.privacyConcerns}_setView(n){switch(this.shouldShowHeader=!0,this.shouldShowTitle=!0,this.shouldShowBackButton=!0,this.shouldShowCloseButton=!0,n){case this.STATES.REASON:this.shouldShowBackButton=!1;break;case this.STATES.KEEP_OPEN:this.shouldShowHeader=!1,setTimeout(()=>{this.close(),this.$location.path("/")},this.closeScreenTimeout);break;case this.STATES.CLOSED:this.shouldShowBackButton=!1,this.shouldShowCloseButton=!1,setTimeout(()=>{this.close(),this.logoutService.logout("close account").finally(()=>{this.redirectCookiesService.removeRedirectCookie(),this.$location.nativeHref("/")})},this.closeScreenTimeout);break;case this.STATES.NOT_ALLOWED:this.shouldShowBackButton=!1,this.shouldShowTitle=!1;break;case this.STATES.ERROR:this.shouldShowBackButton=!1}}t(n,i=!1,r=!1){return this.localizeService.getResource(`closeAccount.${n}`,i,r)}_getCategories(){this.loaderService.show(),this.closeAccountService.getCategories().then(n=>{this.categories=(n||[]).filter(i=>this._isNotEmptyKey(i.categoryName)).map(i=>(i.reasons=i.reasons.filter(r=>this._isNotEmptyKey(r.reasonName)).map(r=>(r.solutions=r.solutions.filter(s=>this._isNotEmptyKey(s.solutionName)),r)),i)),this.loaderService.hide()}).catch(n=>{this.loaderService.hide()})}_isNotEmptyKey(n){return this.t(n,!0,!0).length>0}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU("$location"),t.rXU(ht.Z),t.rXU(Gr.k),t.rXU(y.R),t.rXU(t.gRc),t.rXU(x.X),t.rXU(Lt),t.rXU(U.u),t.rXU(jr.v))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-close-account"]],inputs:{deeplink:"deeplink",category:"category"},outputs:{onClose:"onClose"},features:[t.Jv_([Lt])],decls:11,vars:10,consts:[[1,"pop-up","close-account-pop-up"],["class","popup-title-small segment mobile-black-label",4,"ngIf"],[3,"ngSwitch"],[3,"categories","selectedCategory","selectedReason","onSelectedReason",4,"ngSwitchCase"],[3,"selectedReason","selectedSolveProblem","onBack","onSubmit","onClose",4,"ngSwitchCase"],[3,"onCloseAccount","onCancelCloseAccount",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"errorMessages",4,"ngSwitchCase"],[3,"onContinue",4,"ngSwitchCase"],[1,"popup-title-small","segment","mobile-black-label"],["automation-id","close-account-title",4,"ngIf"],["automation-id","close-account-close-button","class","close sprite",3,"click",4,"ngIf"],["class","back-button-wrapp","automation-id","close-account-back-button",3,"click",4,"ngIf"],["automation-id","close-account-title"],["automation-id","close-account-close-button",1,"close","sprite",3,"click"],["automation-id","close-account-back-button",1,"back-button-wrapp",3,"click"],[1,"back-icon"],[3,"categories","selectedCategory","selectedReason","onSelectedReason"],[3,"selectedReason","selectedSolveProblem","onBack","onSubmit","onClose"],[3,"onCloseAccount","onCancelCloseAccount"],[3,"errorMessages"],[3,"onContinue"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,rs,4,3,"h1",1),t.j41(2,"div",2),t.DNE(3,ss,1,3,"et-settings-close-account-reason",3),t.DNE(4,cs,1,2,"et-settings-close-account-solution",4),t.DNE(5,ls,1,0,"et-settings-close-account-confirm",5),t.DNE(6,ds,1,0,"et-settings-close-account-keep-open",6),t.DNE(7,gs,1,0,"et-settings-close-account-closed",6),t.DNE(8,ps,1,1,"et-settings-close-account-not-allowed",7),t.DNE(9,us,1,0,"et-settings-close-account-error",6),t.DNE(10,ms,1,0,"et-settings-close-account-etoro-money",8),t.k0s()()),2&n&&(t.R7$(1),t.Y8G("ngIf",i.shouldShowHeader),t.R7$(1),t.Y8G("ngSwitch",i.state),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.REASON),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.SOLUTION),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.CONFIRM),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.KEEP_OPEN),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.CLOSED),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.NOT_ALLOWED),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.ERROR),t.R7$(1),t.Y8G("ngSwitchCase",i.STATES.ETORO_MONEY))},dependencies:[d.bT,d.ux,d.e1,Br,Nr,Xr,Lr,Hr,qr,es,ns],styles:['[_nghost-%COMP%]{display:block}@media screen and (min-width: 741px){[_nghost-%COMP%]{flex-direction:column;display:flex;align-items:center;overflow-y:auto;height:100vh;justify-content:center;width:100vw}[_nghost-%COMP%]   .close-account-pop-up[_ngcontent-%COMP%]{margin:0 auto;position:relative;width:630px}}@media screen and (max-width: 740px){[_nghost-%COMP%]{height:100vh;width:100vw}[_nghost-%COMP%]   .mobile-black-label[_ngcontent-%COMP%]{display:block;height:60px;background-color:var(--static-neutral-91);text-align:center}[_nghost-%COMP%]   .mobile-black-label.segment.popup-title-small[_ngcontent-%COMP%]{line-height:60px;padding:0 60px;font-size:22px;color:var(--overlay-neutral-text);font-weight:400;text-transform:capitalize}[_nghost-%COMP%]   .mobile-black-label[_ngcontent-%COMP%]   .x-icon.sprite[_ngcontent-%COMP%]{background-position:-18px -300px;border:none}[_nghost-%COMP%]   .mobile-black-label[_ngcontent-%COMP%]   .x-icon.sprite[_ngcontent-%COMP%]:hover{background-position:-88px -300px}}.close-account-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}@media screen and (max-width: 740px){.close-account-title[_ngcontent-%COMP%]{background-color:var(--secondary-neutral-text);border-bottom:1px solid var(--static-neutral-40);color:var(--tertiary-divider);font-weight:400;margin:0;padding:15px 0;text-decoration:none;text-align:center}}.list-segment[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:14px;font-weight:400;padding:0 20px 30px 40px}.list-title[_ngcontent-%COMP%]{padding:0 20px}.two-part.segment[_ngcontent-%COMP%]{display:flex}.radio-label[_ngcontent-%COMP%]{font-size:16px;color:var(--primary-neutral-text)}.radio-info[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 31px)}.radio-check[_ngcontent-%COMP%]{width:22px;height:22px;border-radius:100%;border:solid 1px var(--secondary-100);display:inline-block;vertical-align:middle;float:left}.radio-check[_ngcontent-%COMP%]:before{background-color:transparent;height:calc(100% - 4px);width:calc(100% - 4px);margin:2px;border-radius:100%;content:"";display:inline-block;transition:background-color .2s linear}input[type=radio][_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]:before{background-color:var(--secondary-100)}.radio-wrapp[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{cursor:pointer}.radio-wrapp[_ngcontent-%COMP%]:hover   input[type=radio][_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]{border-color:var(--secondary-100-hover)}.radio-wrapp[_ngcontent-%COMP%]:hover   input[type=radio][_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]:before{background-color:var(--secondary-100-hover)}.radio-wrapp[_ngcontent-%COMP%]{position:relative}.radio-wrapp[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]{margin-right:5px}.radio-wrapp[_ngcontent-%COMP%]   .check-radio-point[_ngcontent-%COMP%]{position:absolute;left:0;opacity:0}.back-button-wrapp[_ngcontent-%COMP%]{padding:1px 17px 0 25px;display:inline-block;position:absolute;left:0;top:0;cursor:pointer;z-index:1}@media screen and (min-width: 741px){.back-button-wrapp[_ngcontent-%COMP%]{display:none}}.back-button-wrapp[_ngcontent-%COMP%]   .back-icon[_ngcontent-%COMP%]{transform:rotate(135deg);display:inline-block;border:solid var(--neutral-secondary-bg);border-width:0 2px 2px 0;padding:8px}.back-button-wrapp[_ngcontent-%COMP%]:hover{background-color:rgba(var(--rgb-neutral-0),.1)}.x-icon.sprite[_ngcontent-%COMP%]{background-position:0 -1186px;border-bottom:1px solid var(--static-neutral-40);border-left:1px solid var(--static-neutral-40);box-sizing:border-box;cursor:pointer;display:block;height:60px;position:absolute;right:0;top:0;width:60px;z-index:1}.x-icon.sprite[_ngcontent-%COMP%]:hover{background-position:-60px -1186px}.segment[_ngcontent-%COMP%]{padding:0 20px 30px;display:block;color:var(--secondary-neutral-text);font-size:14px;font-weight:400}.segment.list[_ngcontent-%COMP%]{padding-left:40px}.segment[_ngcontent-%COMP%]   .close-account-textarea[_ngcontent-%COMP%]{height:155px;width:100%;font-size:16px;resize:none;box-shadow:0 1px 1px 0 rgba(var(--rgb-neutral-100),.18);padding:15px;border-top:1px solid var(--static-neutral-40)}.segment.popup-title[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-size:18px;font-weight:700}.segment[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:relative}.segment[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(45deg);display:inline-block;float:right;border:solid var(--secondary-100);border-width:0 3px 3px 0;padding:3px;vertical-align:middle}.segment[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]:hover   .dropdown-icon[_ngcontent-%COMP%]{border-color:var(--secondary-100-hover)}.segment[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .drop-select-box[_ngcontent-%COMP%]{position:absolute;text-align:left;top:50px;right:0;left:0;max-width:unset}.segment[_ngcontent-%COMP%]   .dropdown-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;text-transform:uppercase;padding:15px;display:block;line-height:14px;text-align:left}.pop-up[_ngcontent-%COMP%]{position:relative;background-color:var(--neutral-tertiary-bg)}.pop-up[_ngcontent-%COMP%] > .segment[_ngcontent-%COMP%]:first-child{padding-top:30px}.pop-up[_ngcontent-%COMP%]   .centered[_ngcontent-%COMP%]{text-align:center}.pop-up-button[_ngcontent-%COMP%]{line-height:14px;font-size:14px;padding:16px;display:block;width:50%}.one-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]{display:inline-block}.two-part.pop-up-button-wrapp[_ngcontent-%COMP%]{display:flex}.two-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]:first-child{margin-right:10px}.two-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]:last-child{margin-left:10px}.no-header[_ngcontent-%COMP%]   .segment.popup-title[_ngcontent-%COMP%]:first-child{padding-top:30px}@media screen and (max-width: 740px){.one-part.pop-up-button-wrapp[_ngcontent-%COMP%], .two-part.pop-up-button-wrapp[_ngcontent-%COMP%]{display:block}.one-part.pop-up-button-wrapp.mobile-off[_ngcontent-%COMP%], .two-part.pop-up-button-wrapp.mobile-off[_ngcontent-%COMP%]{display:none}.one-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%], .two-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]{width:100%}.one-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]:first-of-type, .two-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]:first-of-type{margin-right:0}.one-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]:last-of-type, .two-part.pop-up-button-wrapp[_ngcontent-%COMP%]   .pop-up-button[_ngcontent-%COMP%]:last-of-type{margin-left:0}.one-part.pop-up-button-wrapp[_ngcontent-%COMP%]   button.pop-up-button[_ngcontent-%COMP%]:last-of-type, .two-part.pop-up-button-wrapp[_ngcontent-%COMP%]   button.pop-up-button[_ngcontent-%COMP%]:last-of-type{margin-top:20px}.pop-up[_ngcontent-%COMP%] > .mobile-black-label[_ngcontent-%COMP%]{display:block;height:60px;background-color:var(--static-neutral-91);text-align:center}.pop-up[_ngcontent-%COMP%] > .mobile-black-label.segment.popup-title-small[_ngcontent-%COMP%]{line-height:60px;padding:0 60px;font-size:22px;color:var(--overlay-neutral-text);font-weight:300;text-transform:capitalize}}.close.sprite[_ngcontent-%COMP%]{background-position:0 -1186px;border-bottom:1px solid var(--static-neutral-40);border-left:1px solid var(--static-neutral-40);box-sizing:border-box;cursor:pointer;display:block;height:60px;position:absolute;right:0;top:0;width:60px;z-index:1}@media screen and (max-width: 740px){.close.sprite[_ngcontent-%COMP%]{background-position:-18px -300px;border:none;height:60px;margin:0;width:60px}}@media screen and (max-width: 740px){.close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-reason[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-solution[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-confirm[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-keep-open[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-closed[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-not-allowed[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-error[_ngcontent-%COMP%], .close-account-pop-up[_ngcontent-%COMP%]   et-settings-close-account-etoro-money[_ngcontent-%COMP%]{padding-top:20px;height:calc(100vh - 60px);overflow-y:auto;display:block}}.rtl-direction[_nghost-%COMP%]   .close.sprite[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .close.sprite[_ngcontent-%COMP%]{left:0;right:auto;border-right:1px solid var(--static-neutral-40);border-left:none}.rtl-direction[_nghost-%COMP%]   .close-account-pop-up[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .close-account-pop-up[_ngcontent-%COMP%]{direction:rtl}.dark-mode[_nghost-%COMP%]   .x-icon.sprite[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .x-icon.sprite[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .close.sprite[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .close.sprite[_ngcontent-%COMP%]{border-left:none;border-bottom:none}'],changeDetection:0}),a})();var G=function(e){return e.TaxReport="taxreport",e.AccountStatement="accountstatement",e.TradeConfirmations="tradeconfirmations",e.MonthlyStatements="monthlystatements",e.TaxDocuments="taxdocuments",e}(G||{}),Yt=function(e){return e.tradeconfirmations="TradeConfirmations",e.monthlystatements="ApexAccountStatements",e.taxdocuments="taxDocs",e}(Yt||{}),ft=function(e){return e.Generate="generate",e.InProgress="inProgress",e.View="view",e}(ft||{}),fs=c(62251);class Ze{constructor(){this.isAllowed=void 0,this.isPhoneVerified=void 0,this.emailVerificationRequired=void 0,this.changePhoneEligibilityStatus=void 0}}var _t=function(e){return e.EligibilityCheckReady="EligibilityCheckReady",e.ResetUserData="ResetUserData",e}(_t||{});const Cs=["ChangePhone","EmailVerification"];var oe=c(91576),tn=c(19912),en=c(48181),Ht=c(20011),nn=c(88061),vs=c(39699);let Tt=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u){this.document=n,this.phoneService=i,this.elevationService=r,this.pubSubService=s,this.localizeService=l,this.loggerService=g,this.domService=p,this.config=u,this._user=new Ze,this._eventsSub=new M.t(null),this._customLogProperties={},this.setConfig(),this.initListeners()}get eventsSub(){return this._eventsSub.asObservable()}get user(){return this._user}get isMobileApp(){return this._isMobileApp}updateFlowToken(n){this._user.changePhoneApiFlowToken=n}startChangePhoneProcess(n){var i=this;return(0,v.A)(function*(){i._user.isPhoneVerified=n;let r=!1;const s=yield i.phoneService.changePhoneEligibility();if("boolean"==typeof s.isPhoneVerified&&(i._user.isPhoneVerified=s.isPhoneVerified),i._eventsSub.next(_t.EligibilityCheckReady),i._user.isAllowed=s.isAllowed||s.eligibilityStatus===en.m.EmailVerificationRequired,i._user.emailVerificationRequired=!!i._user.isPhoneVerified||s.eligibilityStatus===en.m.EmailVerificationRequired,i._user.changePhoneEligibilityStatus=s.eligibilityStatus,i._user.isAllowed)i._user.isPhoneVerified||(yield i.elevationService.elevate(4));else if(i._user.isPhoneVerified)throw Ht.jK.getErrorItem(Ht.$S.changePhoneEligibility,s.errorCode);return r=!i._user.isAllowed&&!i._user.isPhoneVerified,i.logInfo("Change phone process started",{eligibility:s,shouldOpenKyc:r,user:i._user}),{shouldOpenKyc:r}})()}redirectToCustomerSupport(n){this.domService.navigateTo(this.config.calculated.frontUrl+"/"+this.localizeService.languageCode+n,this._isMobileApp?"_system":"_blank")}resetUserData(){this._user=new Ze,this._eventsSub.next(_t.ResetUserData)}logInfo(n,i={}){this.loggerService.info({message:n,additionalData:i,...this.logDefaultProperties(),domain:st.SB.Experience})}logError(n,i={}){this.loggerService.error({message:n,additionalData:i,...this.logDefaultProperties(),domain:st.SB.Experience})}setDefaultLogProperties(n){this._customLogProperties=n}initListeners(){this.pubSubService.subscribe(nn.vp,()=>{this.resetUserData()}),this.pubSubService.subscribe(nn.Cn,()=>{this.resetUserData()})}setConfig(){var n=this;return(0,v.A)(function*(){const i=n.config.dynamics;yield i.whenReady(),n._isMobileApp=!!i.isWrapper})()}logDefaultProperties(){return{categories:Cs,location:this.document.location.href,...this._customLogProperties}}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(d.qQ),t.KVO(oe.u),t.KVO(vs.$),t.KVO(gt.R),t.KVO(x.X),t.KVO(bt.g),t.KVO(Nt.w),t.KVO(y.R))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),bs=(()=>{var e;class a{constructor(n,i,r,s){this.phoneService=n,this.changePhoneService=i,this.userSettingsAggregatedService=r,this.config=s,this._codeData={},this._phoneApiData={prefixCountryId:null,phonePrefix:"",phoneNumber:""},this.initListeners()}waitUntilReady(){var n=this;return(0,v.A)(function*(){yield n.setConfig()})()}get stateCodeData(){return this._codeData}get phoneNumberStr(){return`+${this._phoneApiData.phonePrefix}${this._phoneApiData.phoneNumber}`}get isPhoneCallEnabled(){return!0}get screenOtpShouldGetCodeOnInit(){return!1}get isMobileApp(){return this.changePhoneService.isMobileApp}get isPhoneVerified(){return this.changePhoneService.user.isPhoneVerified}get phoneNumberValidationMin(){return this._phoneNumberValidationMin}get phoneNumberValidationMax(){return this._phoneNumberValidationMax}get phoneApiData(){return this._phoneApiData}get errorItemAccountRecoveryVerifyPhoneCode(){return null}get errorItemAccountRecoverySendCodeToPhone(){return null}get errorCodeApiPhoneSts(){return null}get errorItemApiChangePhone(){return this._errorItemApiChangePhone}screenOtpClickBackGetTargetScreen(){return dt.n9.PHONE}screenOtpShowDescriptionRow1Part2(){return!0}screenOtpShowDescriptionRow2(){return!1}setUserPhoneSettings(){var n=this;return(0,v.A)(function*(){const i=yield n.userSettingsAggregatedService.getUserSettings();n._phoneApiData.phoneNumber=i.contactUserInfo.phoneBody;let r=i.contactUserInfo.phonePrefix;n._phoneApiData.prefixCountryId=i.contactUserInfo.country,n._phoneApiData.phonePrefix=r})()}resetCodeStateData(){this._codeData={}}resetErrors(){this._errorItemApiChangePhone=null}isAllowedToResend(){return!0}redirectToCustomerSupport(n){this.changePhoneService.redirectToCustomerSupport(n)}successScreenClickCta(){}getApiErrorKeySendCodeToPhone(){return null}logInfo(n,i={}){this.changePhoneService.logInfo(n,i)}logError(n,i={}){this.changePhoneService.logError(n,i)}submitCodeForVerifiedPhone(){var n=this;return(0,v.A)(function*(){return n.verifyPhone()})()}verifyNewPhone(){var n=this;return(0,v.A)(function*(){return n.verifyPhone()})()}getCodeForVerifiedPhone(n){return this.resendCodeToTheNewPhone(n)}resendCodeToTheNewPhone(n){return this.sendCodeToTheNewPhone(this._phoneApiData.phonePrefix,this._phoneApiData.phoneNumber,!0,n)}sendCodeToTheNewPhone(n,i,r,s){return new Promise((l,g)=>{if(n===this._phoneApiData.phonePrefix&&i===this._phoneApiData.phoneNumber&&this._phoneApiData.referenceId&&!r)return void l();const u={phoneCountryCode:n,phoneNumber:i,phoneVerificationType:s?"VoiceCall":"SMS"};return this.isPhoneVerified&&(u.flowToken=this.changePhoneServiceUser.changePhoneApiFlowToken),(this.isPhoneVerified?this.sendCodeToNewPhoneVerified(u):this.sendCodeToNewPhoneUnverified(u)).then(_=>{this._phoneApiData={...this._phoneApiData,phoneNumber:i,phonePrefix:n,referenceId:_.referenceId},_.flowToken&&this.changePhoneService.updateFlowToken(_.flowToken),l()}).catch(_=>{this._errorItemApiChangePhone=_,g(_)})})}verifyPhone(){return new Promise((n,i)=>{const r={verificationCode:this._codeData.verificationCode,referenceId:this._phoneApiData.referenceId,enable2fa:!1};return this.isPhoneVerified&&(r.flowToken=this.changePhoneServiceUser.changePhoneApiFlowToken),(this.isPhoneVerified?this.verifyNewPhoneVerified(r):this.verifyNewPhoneUnverified(r)).then(()=>{n()}).catch(s=>{this._errorItemApiChangePhone=s,i(s)})})}sendCodeToNewPhoneVerified(n){return this.phoneService.sendCodeToNewPhoneVerified(n)}sendCodeToNewPhoneUnverified(n){return this.phoneService.sendCodeToNewPhoneUnverified(n)}verifyNewPhoneVerified(n){return this.phoneService.verifyNewPhoneVerified(n)}verifyNewPhoneUnverified(n){return this.phoneService.verifyNewPhoneUnverified(n)}getChangePhoneEligibility(){return(0,v.A)(function*(){return null})()}get changePhoneServiceUser(){return this.changePhoneService.user}setConfig(){var n=this;return(0,v.A)(function*(){const i=n.config.dynamics;yield i.whenReady(),n._phoneNumberValidationMin=i.authentication.twoFactor.phoneNumberValidationMin,n._phoneNumberValidationMax=i.authentication.twoFactor.phoneNumberValidationMax})()}initListeners(){this.changePhoneService.eventsSub.subscribe(n=>{n===_t.ResetUserData&&this.resetCodeStateData()})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(oe.u),t.KVO(Tt),t.KVO(tn.l),t.KVO(y.R))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var ys=c(27714),xs=c(18179),on=c(18028),Ps=c(6552);class an{constructor(){this.referenceId=void 0,this.showContactSupportBelowResend=void 0}}let Ms=(()=>{var e;class a{constructor(n,i,r){this.config=n,this.phoneService=i,this.changePhoneService=r,this._user=new an,this.initListeners()}get otpCodeLength(){return this.config.dynamics.emailVerificationV2.otpCodeLength}get otpSecondesToResend(){return this.config.dynamics.emailVerificationV2.otpSecondesToResend}get userEmail(){return null}shouldSendEmailCodeOnInit(){return!0}isResendEnabled(n){return![Ht.Q8.ChangePhoneNotAllowed,Ht.Q8.TooManyRequests].includes(null==n?void 0:n.errorCode)}sendCodeToEmail(n){return this._user.showContactSupportBelowResend=n,new Promise((i,r)=>{this.phoneService.sendEmailCode().then(s=>{this._user.referenceId=s.referenceId,i()}).catch(s=>{r(s)})})}verifyEmailCode(n){return new Promise((i,r)=>{this.phoneService.verifyEmailCode({verificationCode:n,referenceId:this._user.referenceId}).then(s=>{this.changePhoneService.updateFlowToken(s.flowToken),i()}).catch(s=>{r(s)})})}showContactSupportBelowResend(){return!!this._user.showContactSupportBelowResend}getLocalizationKeyForApiError(){return null}initListeners(){this.changePhoneService.eventsSub.subscribe(n=>{n===_t.ResetUserData&&(this._user=new an)})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(y.R),t.KVO(oe.u),t.KVO(Tt))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),ks=(()=>{var e;class a{constructor(){}isAllowedToChangeEmail(){return(0,v.A)(function*(){return!1})()}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),Os=(()=>{var e;class a{constructor(n){this.changePhoneService=n}getApiErrorItem(n){var i,r;return{errorCode:null===(i=n.error)||void 0===i?void 0:i.errorCode,errorMessage:null===(r=n.error)||void 0===r?void 0:r.errorMessage,errorLocalizationKey:void 0}}redirectToCustomerSupport(n){this.changePhoneService.redirectToCustomerSupport(n)}logInfo(n,i){this.changePhoneService.logInfo(n,i)}logError(n,i){this.changePhoneService.logError(n,i)}setDefaultLogProperties(n){this.changePhoneService.setDefaultLogProperties(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(Tt))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})(),ws=(()=>{var e;class a{constructor(){this.eventOnVerificationSuccess=new t.bkB,this.eventOnClose=new t.bkB,this.emailVerificationFlow=ie.j7.SettingsPageChangePhone,this.localizationKeys={screenEnterCodeTitle:"PhoneChangeEmailCode.title",screenEnterCodeSubtitle:"PhoneChangeEmailCode.description",screenEnterCodeSubmitButton:"PhoneChangeEmailCode.submit"}}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-change-phone-email-verification"]],outputs:{eventOnVerificationSuccess:"eventOnVerificationSuccess",eventOnClose:"eventOnClose"},features:[t.Jv_([{provide:xs.A,useClass:Ms},{provide:on.r,useClass:ks},{provide:Ps.S,useClass:Os}])],decls:1,vars:3,consts:[[3,"flow","otpScreenShowCloseButton","localizationKeys","eventOnVerificationSuccess","eventOnClose"]],template:function(n,i){1&n&&(t.j41(0,"et-generic-email-verification-main",0),t.bIt("eventOnVerificationSuccess",function(){return i.eventOnVerificationSuccess.emit()})("eventOnClose",function(){return i.eventOnClose.emit()}),t.k0s()),2&n&&t.Y8G("flow",i.emailVerificationFlow)("otpScreenShowCloseButton",!0)("localizationKeys",i.localizationKeys)},dependencies:[Ke.f],changeDetection:0}),a})();const Ss=["twoFactorComp"];function Ts(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-two-factor-suggestion-main",2,3),t.bIt("onClose",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.onClose.emit(i))}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("flow",o.flow)("changePhoneEligibility",o.changePhoneEligibility)("isAllowedToSnooze",!1)("isBackButtonVisible",!0)("isShowPhoneNote",!1)("showCloseButton",!0)("localizationKeys",o.localizationKeys)}}function Is(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-change-phone-email-verification",4),t.bIt("eventOnVerificationSuccess",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onEmailVerificationSuccess())})("eventOnClose",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onEmailVerificationClose())}),t.k0s()}}var It=function(e){return e.PhoneEdit="PhoneEdit",e.EmailVerification="EmailVerification",e}(It||{});let Rs=(()=>{var e;class a{constructor(n,i){this.changePhoneService=n,this.cdr=i,this.onClose=new t.bkB,this.flow=dt.KF.ChangePhone,this.localizationKeys={screenPhoneTitle:"PhoneChangeNewPhone.title",screenPhoneDescription:"PhoneChangeNewPhone.description",screenPhoneButtonContinue:"PhoneChangeNewPhone.submit",screenVerificationCodeTitle:"PhoneChangeNewPhoneVerification.title",screenVerificationCodeButtonContinue:"PhoneChangeNewPhoneVerification.submit"}}get changePhoneEligibility(){return this.changePhoneService.user.changePhoneEligibilityStatus}ngOnInit(){this.screenMode=this.changePhoneService.user.isPhoneVerified?It.EmailVerification:It.PhoneEdit}ngAfterViewInit(){this.screenMode===It.PhoneEdit&&this.renderPhoneComponent()}ngOnDestroy(){this.changePhoneService.resetUserData()}onEmailVerificationSuccess(){this.screenMode=It.PhoneEdit,this.cdr.detectChanges(),this.renderPhoneComponent()}onEmailVerificationClose(){this.onClose.emit(dt.EE.ClickedClose)}renderPhoneComponent(){var n,i;null===(n=(i=this.twoFactorSuggestionMainComponent).render)||void 0===n||n.call(i,dt.n9.PHONE)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Tt),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-change-phone-dialog"]],viewQuery:function(n,i){if(1&n&&t.GBs(Ss,5),2&n){let r;t.mGM(r=t.lsd())&&(i.twoFactorSuggestionMainComponent=r.first)}},outputs:{onClose:"onClose"},features:[t.Jv_([{provide:fs.p,useClass:bs}])],decls:2,vars:2,consts:[[3,"flow","changePhoneEligibility","isAllowedToSnooze","isBackButtonVisible","isShowPhoneNote","showCloseButton","localizationKeys","onClose",4,"ngIf"],[3,"eventOnVerificationSuccess","eventOnClose",4,"ngIf"],[3,"flow","changePhoneEligibility","isAllowedToSnooze","isBackButtonVisible","isShowPhoneNote","showCloseButton","localizationKeys","onClose"],["twoFactorComp",""],[3,"eventOnVerificationSuccess","eventOnClose"]],template:function(n,i){1&n&&(t.DNE(0,Ts,2,7,"et-two-factor-suggestion-main",0),t.DNE(1,Is,1,0,"et-change-phone-email-verification",1)),2&n&&(t.Y8G("ngIf","PhoneEdit"===i.screenMode),t.R7$(1),t.Y8G("ngIf","EmailVerification"===i.screenMode))},dependencies:[d.bT,ys.M,ws],styles:["[_nghost-%COMP%]{display:block;height:100%}"],changeDetection:0}),a})();var rn=c(42408),sn=c(89808),Rt=c(89880),cn=c(73145),As=c(59990),Fs=c(12876),Es=c(97965),Ds=c(65669),ae=c(9871),re=c(6130),Us=c(26895),$s=c(84205),se=c(21995),At=c(77919),ce=c(90503);let Gs=(()=>{var e;class a{constructor(n,i){this.$analytics=n,this.data=i,this.done=new t.bkB}ngOnInit(){this.$analytics.eventTrack(`Settings - account - ${Yt[this.data.docType]} - error`)}onDoneClick(){this.done.emit()}onTextClick(n){n.target.classList.contains("e-link")}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(k.c),t.rXU(R.Qs))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-generate-error"]],outputs:{done:"done"},decls:9,vars:11,consts:[[1,"documents-error-modal",3,"buttonDoneText","doneEvent"],[1,"modal-picture","modal-picture-error"],[1,"modal-text","modal-text-title"],[1,"modal-text","modal-text-description",3,"innerHTML","click"]],template:function(n,i){1&n&&(t.j41(0,"et-modal-layout",0),t.bIt("doneEvent",function(){return i.onDoneClick()}),t.nI1(1,"translate"),t.nrm(2,"div",1),t.j41(3,"p",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"p",3),t.bIt("click",function(s){return i.onTextClick(s)}),t.nI1(7,"safe"),t.nI1(8,"translate"),t.k0s()()),2&n&&(t.Y8G("buttonDoneText",t.bMT(1,3,"generateTaxReport.gotIt")||"ok"),t.R7$(4),t.JRh(t.bMT(5,5,"settings.documents.error.title")),t.R7$(2),t.Y8G("innerHTML",t.bMT(7,7,t.bMT(8,9,"settings.documents.error.description")),t.npT))},dependencies:[ce.z,Q.m,h.D],styles:[".cdk-overlay-very-dark-backdrop{background:rgba(var(--rgb-neutral-100),.85)}.documents-error-modal[_ngcontent-%COMP%]     .uidialog-pop-up{width:641px;border-radius:6px}.documents-error-modal[_ngcontent-%COMP%]     .pop-up-content{padding:0 75px}.documents-error-modal[_ngcontent-%COMP%]     .pop-up-footer{margin-bottom:97px}.modal-picture-error[_ngcontent-%COMP%]{margin-top:106px;height:59px;background-size:64px 59px;background-repeat:no-repeat;background-position:center;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img//account-statement/error-icon.svg)}.modal-text-title[_ngcontent-%COMP%]{margin-top:18px;font-size:22px;font-weight:700;letter-spacing:-.42px;color:var(--primary-neutral-text)}.modal-text-description[_ngcontent-%COMP%]{margin:15px 0 30px;font-size:16px;font-weight:300;letter-spacing:-.2px;color:var(--secondary-neutral-text)}.modal-text[_ngcontent-%COMP%]{text-align:center}@media (max-width: 767px){.documents-error-modal[_ngcontent-%COMP%]     .uidialog-pop-up{border-radius:unset}.documents-error-modal[_ngcontent-%COMP%]     .pop-up-content{padding:0 30px}}"],changeDetection:0}),a})();var js=c(78707);function Bs(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-modal-layout",1),t.bIt("closeEvent",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onCloseClick())})("doneEvent",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onDoneClick())}),t.nI1(1,"translate"),t.nrm(2,"div",2)(3,"p",3),t.nI1(4,"safe"),t.nI1(5,"translate"),t.k0s()}2&e&&(t.Y8G("buttonDoneText",t.bMT(1,2,"generateTaxReport.gotIt")||"ok"),t.R7$(3),t.Y8G("innerHTML",t.bMT(4,4,t.bMT(5,6,"generateTaxReport.preparing")),t.npT))}const Vs=function(e){return{club_page:e}};function Ns(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-modal-layout",1),t.bIt("closeEvent",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onCloseClick())})("doneEvent",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onDoneClick())}),t.nI1(1,"translate"),t.nrm(2,"div",4),t.j41(3,"p",5),t.bIt("click",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.onTextClick(i))}),t.nI1(4,"safe"),t.nI1(5,"translateInterpolated"),t.k0s()()}if(2&e){const o=t.XpG();t.Y8G("buttonDoneText",t.bMT(1,2,"generateTaxReport.gotIt")||"ok"),t.R7$(3),t.Y8G("innerHTML",t.bMT(4,4,t.i5U(5,6,"generateTaxReport.bronze",t.eq3(9,Vs,o.clubLink))||o.clubLink),t.npT)}}let ln=(()=>{var e;class a{constructor(n,i,r,s,l,g){this.analyticsService=n,this.loggerService=i,this.config=r,this.localizeService=s,this.translatePipe=l,this.data=g,this.close=new t.bkB,this.done=new t.bkB}ngOnInit(){this.initModal()}onCloseClick(){this.close.emit()}onDoneClick(){this.done.emit(),this.trackEvent(this.isLowTier?"taxReport - processingPopup - click":"taxReport - BronzePopup - click")}onTextClick(n){n.target.classList.contains("e-link")&&this.trackEvent("taxReport - BronzePopup - clubPageClick")}initModal(){const i=`${this.config.statics.marketingDomain}${""!==this.localizeService.languageCode?this.localizeService.languageCode:"en"}/about/clubs`;this.isLowTier=this.data.isLowTier,this.clubLink=`<a class="e-link" href="${i}" target="_blank">${this.translatePipe.transform("generateTaxReport.club")||"eToro club"}</a>`,this.trackEvent(this.isLowTier?"taxReport - processingPopup - view":"taxReport - BronzePopup - view")}trackEvent(n,i){var r=this;return(0,v.A)(function*(){r.analyticsService.eventTrack(n,i),r.loggerService.info({categories:["Compliance","Taxreport"],message:n,request:{data:i},domain:st.SB.Experience})})()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(k.c),t.rXU(bt.g),t.rXU(js.w),t.rXU(x.X),t.rXU(h.D),t.rXU(R.Qs))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-generate-tax-report"]],outputs:{close:"close",done:"done"},decls:2,vars:2,consts:[["class","taxgenerate-modal",3,"buttonDoneText","closeEvent","doneEvent",4,"ngIf"],[1,"taxgenerate-modal",3,"buttonDoneText","closeEvent","doneEvent"],[1,"modal-picture","modal-picture-preparing"],[1,"modal-text",3,"innerHTML"],[1,"modal-picture","modal-picture-vip"],[1,"modal-text",3,"innerHTML","click"]],template:function(n,i){1&n&&(t.DNE(0,Bs,6,8,"et-modal-layout",0),t.DNE(1,Ns,6,11,"et-modal-layout",0)),2&n&&(t.Y8G("ngIf",!i.isLowTier),t.R7$(1),t.Y8G("ngIf",i.isLowTier))},dependencies:[d.bT,ce.z,Q.m,h.D,ut.G],styles:[".cdk-overlay-very-dark-backdrop{background:rgba(var(--rgb-neutral-100),.85)}.taxgenerate-modal[_ngcontent-%COMP%]     .pop-up-content{display:flex;flex-direction:column;justify-content:center;padding:40px 0}.modal-picture[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto;background-size:contain}.modal-picture.modal-picture-vip[_ngcontent-%COMP%]{background:url(https://etoro-cdn.etorostatic.com/web-client/img/tax-report/vip.svg) center center no-repeat}.modal-picture.modal-picture-preparing[_ngcontent-%COMP%]{background:url(https://etoro-cdn.etorostatic.com/web-client/img/tax-report/preparing.svg) center center no-repeat}.modal-text[_ngcontent-%COMP%]{margin:42px 100px;font-size:18px;font-weight:300;line-height:1.33;text-align:center;color:var(--primary-neutral-text)}@media (max-width: 1024px){.modal-text[_ngcontent-%COMP%]{margin:40px;font-size:16px}.taxgenerate-modal[_ngcontent-%COMP%]     .uidialog-pop-up{display:flex;flex-direction:column;justify-content:space-between;min-height:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%}.taxgenerate-modal[_ngcontent-%COMP%]     .pop-up-content{padding:0}.taxgenerate-modal[_ngcontent-%COMP%]     .button-standard{width:100%;max-width:calc(100% - 80px);margin:0 auto}}"],changeDetection:0}),a})();var Ft=function(e){return e[e.fifo=1]="fifo",e[e.lifo=2]="lifo",e[e.specificIdentification=3]="specificIdentification",e[e.weightedAverage=4]="weightedAverage",e}(Ft||{}),D=function(e){return e[e.Unknown=0]="Unknown",e[e.Requested=1]="Requested",e[e.PendingToGenerate=2]="PendingToGenerate",e[e.Generating=3]="Generating",e[e.Generated=4]="Generated",e[e.PendingToUpload=8]="PendingToUpload",e[e.PendingToSend=5]="PendingToSend",e[e.Sent=6]="Sent",e[e.Failed=7]="Failed",e}(D||{});const Ls=[0,1];var dn=c(75275),Ys=c(80951);function gn(e,a,o){return e.set(pn(e,a),o),o}function pn(e,a,o){if("function"==typeof e?e===a:e.has(a))return arguments.length<3?a:o;throw new TypeError("Private element is not present on this object")}let Et=(()=>{var e,a=new WeakMap;class o{constructor(i,r,s,l,g,p,u,_,b,O){(0,Rt.A)(this,a,void 0),this.authService=i,this.config=r,this.countriesService=s,this.dialogService=l,this.fileDownloadService=g,this.http=p,this.localizeService=u,this.$location=_,this.$rootScope=b,this.loader=O,this.prefixApiUrl="/sapi/kyc/api",this.taxReportApiUrl=`${this.prefixApiUrl}/v1/taxreport/users`,this.apexAccountApiUrl=`${this.prefixApiUrl}/v1/apexAccount/users`,gn(a,this,!1),this._taxReportList=new $s.B,this._accountDocumentList=new M.t([]),this.accountDocumentList$=this._accountDocumentList.asObservable(),this._groupedAccountDocumentList=new M.t([]),this.groupedAccountDocumentList$=this._groupedAccountDocumentList.asObservable(),gn(a,this,(0,F.A)(this.config,["dynamics","taxReport","isCostBasisEnabled"],!1)),this._taxReportList.subscribe(A=>{this.accountDocumentList=A.map(I=>this.convertTaxReportToAccountDocument(I))}),this.accountDocumentList$.subscribe({next:A=>{this.groupedAccountDocumentList=(0,As.A)((0,Fs.A)(A,"groupName")).map(I=>{const B=(0,Es.A)(I,{isPrimaryCompensationMethod:!0});let $t=this.getDocumentTypeTextByAccountDocument;return B.length<I.length&&this.isCostBasisEnabled&&($t=this.appendDocumentCompensationMethod.bind(this)),B.length>1&&($t=this.appendDocumentAbbreviation.bind(this)),I.map(Jt=>({...Jt,documentTypeText:$t(Jt)}))})}})}get isCostBasisEnabled(){return function Hs(e,a){return e.get(pn(e,a))}(a,this)}set taxReportList(i){this._taxReportList.next(i)}get accountDocumentList(){return this._accountDocumentList.getValue()}set accountDocumentList(i){this._accountDocumentList.next(i)}get groupedAccountDocumentList(){return this._groupedAccountDocumentList.getValue()}set groupedAccountDocumentList(i){this._groupedAccountDocumentList.next(i)}get isEligibleUsersPlayerLevel(){const i=(0,F.A)(this.authService,["user","playerLevelId"],0);return!(0,Ds.A)(Ls,i)}getLangById(i){return(0,ae.A)(cn.H,{id:i})}getLanguageIsoCodeById(i){return(0,F.A)(this.getLangById(i),["isoCode"],"").toUpperCase()}getDocumentTypeTextByAccountDocument(i){return i.documentTypeText}appendDocumentAbbreviation(i){const r=this.getLanguageIsoCodeById(i.reportLanguageID);return`${i.documentTypeText} (${r})`}getTranslatedCostBasis(i){return(0,re.A)(this.localizeService.getResource(`settings.costBasis.method.${i}`),i)}appendDocumentCompensationMethod(i){const r=this.getTranslatedCostBasis(Ft[i.compensationMethod]);return`${i.documentTypeText} (${r})`}initTaxReportList(){this.getTaxReportsList().subscribe(i=>{this.taxReportList=i})}getButtonStatus(i){switch(i){case D.Requested:case D.PendingToGenerate:case D.Generating:case D.Generated:case D.PendingToUpload:case D.Failed:return ft.InProgress;case D.PendingToSend:case D.Sent:return ft.View;default:return ft.Generate}}openTaxGenerate(i){this.loader.show(),this.userCanGenerateTaxReport()?this.requestReportGeneration(i).subscribe({next:()=>{this.loader.applyHide(),this.openGenerateModal(!1)}}):(this.loader.applyHide(),this.openGenerateModal(!0))}openTaxReportDocuments(){this.userCanGenerateTaxReport()?this.openDocuments(G.TaxReport):this.openGenerateModal(!0)}openDocuments(i){this.$rootScope.$applyAsync(()=>{this.$location.url(`/documents/${i}`)})}getUsStockDocumentsList(i){return this.http.get(`${this.apexAccountApiUrl}/${this.authService.user.gcid}/documents/${i}`).pipe((0,se.L)(3),(0,tt.T)(l=>{const g=l||[];return g.sort((p,u)=>u.documentDate-p.documentDate),g}),(0,K.W)(l=>(this.loader.applyHide(),this.openErrorModal(i),(0,At.$)(l))))}downloadDocument(i,r){this.loader.applyShow(),this.fileDownloadService.downloadFile(i,r,".pdf","application/pdf").pipe((0,K.W)(s=>(this.loader.applyHide(),this.openErrorModal(r),(0,At.$)(s)))).subscribe(()=>{this.loader.applyHide()})}downloadTaxReport(i,r="pdf"){this.loader.show(),this.fileDownloadService.downloadFile(`/sapi/kyc/api/v1/taxreport/users/${this.authService.user.gcid}/documents/${i}`,"taxReport",r,"application/pdf").pipe((0,K.W)(g=>(this.loader.applyHide(),(0,At.$)(g)))).subscribe(()=>{this.loader.applyHide()})}getTaxReportsList(){const i=this.authService.user.gcid;return this.http.get(this.isCostBasisEnabled?`${this.prefixApiUrl}/v2/taxreport/users/${i}/documents`:`${this.taxReportApiUrl}/${i}/documents`).pipe((0,se.L)(3),(0,tt.T)(s=>this.reorder(s||[])),(0,K.W)(s=>(this.openErrorModal(G.TaxReport),(0,At.$)(s))))}mapTaxReports(i){return i.map(r=>{let s=null;return r.status===D.Sent&&r.documents&&r.documents.length&&(r.documents.length>1?s=r.documents.map(l=>(l.extension=l.documentFormat.documentExtension,l)):r.documentId=r.documents[0].documentId),{...r,country:this.countriesService.getById(r.countryId),documentType:G.TaxReport,formats:s}})}reorder(i){return(0,Us.A)(i,[r=>new Date(r.fromDttmUtc).getTime(),"countryId","isPrimaryLanguage","isPrimaryCompensationMethod"],["desc","asc","desc","desc"])}convertTaxReportToAccountDocument(i){let r=null;const s=i.status===D.Sent,l=(0,F.A)(i,["documents","length"],0);s&&l&&(l>1?r=i.documents.map(B=>(B.extension=B.documentFormat.documentExtension,B)):i.documentId=i.documents[0].documentId);const g=this.countriesService.getById(i.countryId),p=G.TaxReport,u=this.getDocumentTypeText(i,g),_=(0,d.Yq)(i.fromDttmUtc,"yyyy",this.localizeService.registeredLocale),b=this.getButtonStatus(i.status),O=(0,F.A)(i,"form","non-form"),A=`${i.countryId}.${_}.${O}.${i.reportLanguageID}`,I=`${i.countryId}.${_}.${O}`;return{...i,key:A,country:g,documentType:p,groupName:I,formats:r,documentTypeText:u,dateText:_,buttonStatus:b}}getDocumentTypeText(i,r){const s=(0,F.A)(r,["abbreviation"],"ZZ"),l=this.localizeService.getResource(`countries.${s}`);let g=this.localizeService.getResourceInterpolated("settings.documents.taxReport.country",{country:l},!1,!0);return i.form&&(g+=` - ${i.form}`),g}userCanGenerateTaxReport(){var i,r;const s=null===(i=this.config.dynamics.settings)||void 0===i?void 0:i.allowTaxReportsForBronseUsersCountries;return(null==s?void 0:s.includes(null===(r=this.authService.user)||void 0===r?void 0:r.countryId))||this.isEligibleUsersPlayerLevel}requestReportGeneration(i){return i.status&&i.status!==D.Failed?(0,ct.of)(!0):this.requestTaxReportGeneration(i.fromDttmUtc,i.tillDttmUtc,i.configurationId,i.compensationMethod).pipe((0,K.W)(r=>(this.openErrorModal(G.TaxReport),(0,At.$)(r))))}openGenerateModal(i){const r=this.dialogService.open(ln,{backdropClass:"cdk-overlay-dark-backdrop",data:{isLowTier:i}});r.componentInstance.done.subscribe(()=>{r.close()})}openErrorModal(i){this.loader.applyHide();const r=this.dialogService.open(Gs,{backdropClass:"cdk-overlay-dark-backdrop",id:"DocumentsErrorComponent",data:{docType:i}});r.componentInstance.done.subscribe(()=>{r.close(),this.$rootScope.$applyAsync(()=>{this.$location.url("/settings/account")})})}requestTaxReportGeneration(i,r,s,l){let p=`${this.taxReportApiUrl}/${this.authService.user.gcid}/configurations/${s}?from=${i}&till=${r}`;return this.isCostBasisEnabled&&(p+=`&compensationMethod=${l}`),this.http.post(p,null).pipe((0,se.L)(3),(0,tt.T)(u=>{const _=(0,re.A)(u,[]);return this.addCountryToDocument(_)}))}addCountryToDocument(i){return i.map(r=>(r.country=this.countriesService.getById(r.countryId),r))}}return(e=o).\u0275fac=function(i){return new(i||e)(t.KVO(U.u),t.KVO(y.R),t.KVO(dn.C),t.KVO(R.o3),t.KVO(Ys.yz),t.KVO(Z.Qq),t.KVO(x.X),t.KVO("$location"),t.KVO("$rootScope"),t.KVO("infrastruct.services.loader"))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),o})(),un=(()=>{var e;class a{constructor(n,i){this.notifications=n,this.localizeService=i}userSettingsRevokeSuccess(n){this.notifications.notifySuccess(this.tc("permissionRevokeSuccess",!1,n))}userSettingsRevokeFail(){this.notifications.notifyFail(this.t("permissionRevokeFail",!0))}userSettingsEmailChangeSuccess(){this.notifications.notifyWin(this.t("userEmailChangeSuccess",!0))}userSettingsPhoneChangeSuccess(){this.notifications.notifyWin(this.t("userPhoneChangeSuccess",!0))}tc(n,i=!1,r){return this.localizeService.getResourceInterpolated(`toastNotification.${n}`,{data:r},i,!0)}tns(n,i,r=!1,s=!1){return this.localizeService.getResource(`${n}.${i}`,r,s)}t(n,i=!1,r=!1){return this.tns("toastNotification",n,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(Zt.I2),t.KVO(x.X))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var z=c(98482),mn=c(96433),zs=c(49605),zt=c(75900),Ks=c(87233),Js=c(89777),Ws=c(35609),qs=c(93608);function Qs(e,a){1&e&&(t.j41(0,"div",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"settingsAccount.biometricLogin.userRestricted"),"\n"))}let Zs=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_){this.biometricLoginService=n,this.secureStorage=i,this.localStorage=r,this.authService=s,this.pubSubService=l,this.cd=g,this.userSettingsService=p,this.biometricLoginAnalytics=u,this.$route=_,this.userRestrictedBiometric=!1}ngOnInit(){var n=this;return(0,v.A)(function*(){n.biometricLoginService.initUserPhoneData(),n.bioType=yield n.secureStorage.getBioType(),n.biometricLoginAnalytics.setActivationAnalyticsMetaData("Settings Activation",n.biometricLoginService.userPhoneData,n.bioType);const i=n.authService.user&&n.authService.user.gcid,r=n.localStorage.get("bioData")||{};n.isBioLoginActive=r[i]&&r[i].hasBio&&!n.secureStorage.isVaultEmpty,n.cd.markForCheck(),n._activateListener=n.pubSubService.subscribe("biometricLogin:activated:finish",l=>{n.isBioLoginActive=l.isSuccess,n.inProcess=!1,l.isSuccess&&(n.userSettingsService.clear(),n.$route.reload()),n.cd.markForCheck()})})()}ngOnDestroy(){this._activateListener&&this._activateListener.unsubscribe()}toggleBioLogin(){this.inProcess||(this.inProcess=!0,this.isBioLoginActive?this.deactivate():this.activate())}activate(){var n=this;return(0,v.A)(function*(){n.isBioLoginActive=!0;let i="";try{yield n.biometricLoginService.startActivationFlow(),n.userRestrictedBiometric=!1}catch(r){i="Biometrics Not Recognized",n.userRestrictedBiometric=n.secureStorage.isBioRestrictedError(r),n.isBioLoginActive=!1}n.biometricLoginAnalytics.eventTrack("Settings - Item Clicked",{"Element Name":"Biometric Authentication Toggle","Element Type":n.bioType,"Button Type":"Activate","Funnel Step":1,"Element Status":i?"Fail":"Success","Element Status Reason":i})})()}deactivate(){this.isBioLoginActive=!1;let n="";this.biometricLoginService.deactivateBioLogin().catch(()=>{this.isBioLoginActive=!0,n="Biometrics Not Recognized",this.cd.markForCheck()}).finally(()=>{this.biometricLoginAnalytics.eventTrack("Settings - Item Clicked",{"Element Name":"Biometric Authentication Toggle","Element Type":this.bioType,"Button Type":"Deactivate","Funnel Step":1,"Element Status":n?"Fail":"Success","Element Status Reason":n}),this.inProcess=!1})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(mn.x),t.rXU(Ws.O),t.rXU(rt.sj),t.rXU(U.u),t.rXU(gt.R),t.rXU(t.gRc),t.rXU(lt.A),t.rXU(qs.Ln),t.rXU("$route"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-toggle-biometric-login"]],decls:10,vars:8,consts:[[1,"bio-toggle-full-wrapper"],[1,"bio-toggle-text-wrapper"],[1,"bio-toggle-title"],[1,"bio-toggle-info"],[3,"checked","change"],["class","ets-negative-word ets-tiny-text",4,"ngIf"],[1,"ets-negative-word","ets-tiny-text"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",3),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"et-toggle-button",4),t.bIt("change",function(){return i.toggleBioLogin()}),t.k0s()(),t.DNE(9,Qs,3,3,"div",5)),2&n&&(t.R7$(3),t.JRh(t.bMT(4,4,"settingsAccount.biometricLogin."+i.bioType+".title")),t.R7$(3),t.JRh(t.bMT(7,6,"settingsAccount.biometricLogin."+i.bioType+".subtitle")),t.R7$(2),t.Y8G("checked",i.isBioLoginActive),t.R7$(1),t.Y8G("ngIf",i.userRestrictedBiometric))},dependencies:[d.bT,nt.o,h.D],styles:['.bio-toggle-full-wrapper[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:row}.bio-toggle-full-wrapper[_ngcontent-%COMP%]:after{display:block;content:"";width:50px;order:1;flex:none}.bio-toggle-text-wrapper[_ngcontent-%COMP%]{order:0;flex:1}.bio-toggle-title[_ngcontent-%COMP%]{font-size:14px;font-weight:300;color:var(--primary-neutral-text)}et-toggle-button[_ngcontent-%COMP%]{margin-top:5px;order:2;flex:none}.bio-toggle-info[_ngcontent-%COMP%]{font-size:10px;font-weight:300;color:var(--primary-neutral-text)}'],changeDetection:0}),a})();function tc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div")(1,"span",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",15),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.showHideToggle())}),t.EFF(5),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,"settingsAccount.acountSecurity.shortDescription")),t.R7$(3),t.JRh(o.t("twoFactor.on.readMore"))}}function ec(e,a){if(1&e){const o=t.RV6();t.j41(0,"div")(1,"span",16),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",17),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.showHideToggle())}),t.EFF(5),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"settingsAccount.acountSecurity.longDescription"),""),t.R7$(3),t.SpI(" ",o.t("twoFactor.on.readLess"),"")}}function nc(e,a){1&e&&t.nrm(0,"et-toggle-biometric-login")}function ic(e,a){1&e&&t.nrm(0,"div",18)}function oc(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const o=t.XpG(3);t.R7$(1),t.JRh(o.tc("twoFactor.phoneNumber",!1,!1,o.codeDataObjForTc))}}function ac(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const o=t.XpG(3);t.R7$(1),t.JRh(o.phoneCallMessage)}}function rc(e,a){if(1&e){const o=t.RV6();t.j41(0,"span",29),t.bIt("onTimerEnd",function(){t.eBV(o);const i=t.XpG(3);return t.Njj(i.resendTimerIsVisible=!1)}),t.k0s()}if(2&e){const o=t.XpG(3);t.Y8G("html",o.resendMsgTimer)("seconds",o.resendTimerSeconds)}}function sc(e,a){if(1&e&&t.nrm(0,"span",28),2&e){const o=t.XpG(3);t.Y8G("innerHTML",o.resendMsgButton,t.npT)}}function cc(e,a){if(1&e&&t.nrm(0,"span",28),2&e){const o=t.XpG(3);t.Y8G("innerHTML",o.phoneCallButtonHtml,t.npT)}}function lc(e,a){if(1&e&&(t.j41(0,"et-form-field-error",30),t.EFF(1),t.k0s()),2&e){const o=t.XpG(3);t.R7$(1),t.SpI(" ",o.t("twoFactor.wrongCode")," ")}}function dc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",19)(1,"div",20),t.DNE(2,oc,2,1,"span",4),t.DNE(3,ac,2,1,"span",4),t.j41(4,"div"),t.DNE(5,rc,1,2,"span",21),t.DNE(6,sc,1,1,"span",22),t.DNE(7,cc,1,1,"span",22),t.k0s()(),t.j41(8,"et-n-input",23)(9,"label"),t.EFF(10),t.k0s(),t.j41(11,"input",24),t.bIt("ngModelChange",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.otpVerificationCode=i)})("keyup.enter",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.submitCode())})("focus",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.onInputFocus())})("blur",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.onInputBlur())}),t.k0s(),t.DNE(12,lc,2,1,"et-form-field-error",25),t.k0s(),t.j41(13,"button",26),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.submitCode())}),t.EFF(14),t.k0s(),t.j41(15,"div",27),t.nrm(16,"div",28),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!o.phoneCallInProgress),t.R7$(1),t.Y8G("ngIf",o.phoneCallInProgress),t.R7$(2),t.Y8G("ngIf",o.resendTimerIsVisible),t.R7$(1),t.Y8G("ngIf",!o.resendTimerIsVisible),t.R7$(1),t.Y8G("ngIf",o.isPhoneCallEnabled),t.R7$(3),t.JRh(o.t("twoFactor.enterCode")),t.R7$(1),t.Y8G("ngModel",o.otpVerificationCode),t.R7$(1),t.Y8G("ngIf",o.isInvalidCode),t.R7$(2),t.SpI("",o.t("twoFactor.apply")," "),t.R7$(2),t.Y8G("innerHTML",o.formBottom,t.npT)}}function gc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div"),t.nrm(1,"div",31),t.j41(2,"div",32)(3,"button",33),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.verifyPhone())}),t.EFF(4),t.k0s()()()}if(2&e){const o=t.XpG(2);t.R7$(4),t.SpI("",o.t("twoFactor.verifyPhone")," ")}}function pc(e,a){1&e&&t.nrm(0,"div",34)}const uc=function(e){return{"et-color-primary":e}};function mc(e,a){if(1&e&&(t.j41(0,"div")(1,"div"),t.nrm(2,"div"),t.k0s(),t.nrm(3,"div",35),t.k0s()),2&e){const o=t.XpG(2);t.ZvI("",o.state," et-flex-center et-direction-start"),t.AVh("fade-out","success"===o.state),t.R7$(2),t.ZvI("",o.state,"-image"),t.R7$(1),t.ZvI("",o.state,"-text et-margin-start-m"),t.Y8G("ngClass",t.eq3(13,uc,"success"===o.state))("innerHTML",o.stateMsg,t.npT)}}const hc=function(e){return{"et-margin-bottom-l":e}};function fc(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",1),t.bIt("click",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.clickHandler(i))}),t.j41(1,"et-card-title"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content",2)(5,"div",3),t.DNE(6,tc,6,4,"div",4),t.DNE(7,ec,6,4,"div",4),t.k0s(),t.DNE(8,nc,1,0,"et-toggle-biometric-login",4),t.j41(9,"div",5)(10,"div",6)(11,"div",7),t.EFF(12),t.k0s(),t.j41(13,"div",8),t.EFF(14),t.k0s()(),t.j41(15,"et-toggle-button",9),t.bIt("change",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.toggle2Fa(i))}),t.k0s()(),t.DNE(16,ic,1,0,"div",10),t.DNE(17,dc,17,10,"div",11),t.k0s(),t.j41(18,"et-card-footer"),t.DNE(19,gc,5,1,"div",4),t.DNE(20,pc,1,0,"div",12),t.DNE(21,mc,4,15,"div",13),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,14,"settingsAccount.acountSecurity.title")),t.R7$(2),t.Y8G("ngClass",t.eq3(16,hc,!o.inProcess&&"edit"!==o.state&&"enterCode"!==o.state)),t.R7$(2),t.Y8G("ngIf",!o.isReadMore),t.R7$(1),t.Y8G("ngIf",o.isReadMore),t.R7$(1),t.Y8G("ngIf",o.shouldShowToggleBioLogin),t.R7$(4),t.JRh(o.t("twoFactor.title")),t.R7$(2),t.JRh(o.t("twoFactor.subtitle")),t.R7$(1),t.Y8G("disabled","notEditable"===o.state||"error"===o.state)("checked",1===o.twoFactorView||3===o.twoFactorView),t.R7$(1),t.Y8G("ngIf",o.inProcess),t.R7$(1),t.Y8G("ngIf",!o.inProcess&&"enterCode"===o.state),t.R7$(2),t.Y8G("ngIf",!o.inProcess&&"edit"===o.state&&!o.twoFactor.isPhoneVerified),t.R7$(1),t.Y8G("ngIf","notEditable"===o.state),t.R7$(1),t.Y8G("ngIf","edit"!==o.state)}}let _c=(()=>{var e;class a{set isPhoneVerified(n){this.twoFactor&&(this.twoFactor.isPhoneVerified=n)}get stateMsg(){switch(!0){case"error"===this.state&&this.errorType===z.yQ.GeneralError:return this.errorMsgGeneral;case"error"===this.state&&this.errorType===z.yQ.SuspendedPhone:return this.errorMsgSuspended;case"notEditable"===this.state:return this.nonEditableMsg;case"success"===this.state:return this.t("twoFactor.success",!0);default:return""}}constructor(n,i,r,s,l,g,p){this.$analytics=n,this.localizeService=i,this.twoFactorService=r,this.config=s,this.renderer2=l,this.biometricLoginService=g,this.cd=p,this.onKycRequest=new t.bkB}ngOnInit(){this.isInit=!1,this.states=["edit","enterCode","success","error","notEditable"],this.initPromise=this.twoFactorService.get(),this.twoFactor={value:it.gM.OFF,isPhoneVerified:!0,editable:!0},this.twoFactorView=it.gM.OFF,this.state="edit",this.inProcess=!0,this.isReadMore=!1,this.nonEditableMsg=this.localizeService.getResource("settingsAccount.twoFactor.nonEditable.text",!0,!0),this.errorMsgGeneral=this.localizeService.getResource("settingsAccount.twoFactor.error",!0,!0),this.errorMsgSuspended=this.localizeService.getResource("settingsAccount.twoFactor.errorSuspended",!0,!0),this.resendMsgTimer=this.localizeService.getResource("settingsAccount.twoFactor.resendTimer",!0,!0),this.resendMsgButton=this.localizeService.getResource("settingsAccount.twoFactor.resendButton",!0,!0),this.formBottom=this.localizeService.getResource("settingsAccount.twoFactor.formBottom",!0,!0),this.phoneCallCallingMsgResourceValue=this.localizeService.getResource("settingsAccount.twoFactor.phoneCallCallingMessageResourceValue",!0,!0),this._replacePhoneCallResourcePlaceholder(this.localizeService.getResource("settingsAccount.twoFactor.phoneCallButtonMsg",!0,!0)),this.config.dynamics.whenReady().then(()=>{this.resendTimerSeconds=this.config.dynamics.authentication.twoFactor.resendTimerInSeconds,this.checkIfShowToggleBio()}),this.initPromise.then(n=>{Object.assign(this.twoFactor,n),this.twoFactorView=this.twoFactor.value,this.state=this.twoFactor.editable?"edit":"notEditable",this.isInit=!0,this.inProcess=!1}).catch(n=>{this.state="notEditable",this.isInit=!0,this.inProcess=!1})}get codeDataObjForTc(){return{$ctrl:{codeData:this.codeData}}}get phoneCallMessage(){var n;return this.phoneCallCallingMsgResourceValue.replace(/%PHONE%/gi,null===(n=this.codeData)||void 0===n?void 0:n.maskedPhone)}checkIfShowToggleBio(){var n=this;return(0,v.A)(function*(){const i=n.config.dynamics.isWrapper,r=n.config.dynamics.isBiometricLoginEnabled,s=yield n.biometricLoginService.checkBiometricIsSupported(),l=n.biometricLoginService.featureFlagUserCountryIncluded();n.shouldShowToggleBioLogin=i&&s&&r&&l,n.cd.markForCheck()})()}t(n,i=!0,r=!1){return this.localizeService.getResource(`settingsAccount.${n}`,i,r)}tc(n,i=!1,r=!1,s){return this.localizeService.getResourceInterpolated(`settingsAccount.${n}`,s,i,r)}onInputFocus(){this.renderer2.addClass(document.body,"keyboard-is-open")}onInputBlur(){this.renderer2.removeClass(document.body,"keyboard-is-open")}verifyPhone(n){n&&n.preventDefault&&n.preventDefault(),this.$analytics.eventTrack("Settings - Account Tab - Phone verification 2FA"),this.onKycRequest.emit({deepLink:"phoneverification",isEditable:!0})}toggle2Fa(n){let i;return"notEditable"===this.state||"error"===this.state?Promise.reject({}):this.twoFactor.isPhoneVerified?(i=this.twoFactorView===it.gM.ON||this.twoFactorView===it.gM.FORCEENABLE?it.gM.OFF:it.gM.ON,"enterCode"===this.state?(this.state="edit",this.twoFactorView=i,Promise.resolve()):(this.isPhoneCallEnabled=!1,this.isPhoneCallSent=!1,this.sendCodeRequest(i))):(this.verifyPhone(n),Promise.resolve())}sendCodeRequest(n,i){return this.resendTimerIsVisible=!i,this.inProcess||"notEditable"===this.state||"error"===this.state?Promise.reject({}):(this.inProcess=!0,this.isInvalidCode=!1,this.phoneCallInProgress=i,this.twoFactorService.sendCodeRequest(z.Ko.SetTwoFactor,i).then(r=>{this.twoFactorView=n,this.state="enterCode",this.codeData=r,this.isReadMore=!1,this.inProcess=!1,this.$analytics.eventTrack("Settings - Account Tab - 2FA send code",{Value:n}),i?(this.isPhoneCallSent=!0,this.isPhoneCallEnabled=!1):this.isPhoneCallSent||(this.isPhoneCallEnabled=!0)}).catch(r=>{this.state="error",this.errorType=z.Bn.getErrorReason(r),this.twoFactorView=this.twoFactor.value,this.inProcess=!1}))}submitCode(){var n,i;return this.inProcess||!this.otpVerificationCode?Promise.reject({}):(this.isInvalidCode=!1,this.inProcess=!0,this.$analytics.eventTrack("Settings - Account Tab - Click Apply Code"),this.twoFactorService.set2Fa(this.twoFactorView,null===(n=this.codeData)||void 0===n?void 0:n.otpTypeId,null===(i=this.codeData)||void 0===i?void 0:i.userOtpId,this.otpVerificationCode).then(r=>this._submitCodeSuccessHandler(r)).catch(r=>this._submitCodeErrorHandler(r)))}showHideToggle(){this.isReadMore=!this.isReadMore}_submitCodeSuccessHandler(n){this.otpVerificationCode="",n?(Object.assign(this.twoFactor,n),this.twoFactorView=this.twoFactor.value,this.state="success",setTimeout(()=>{this.state="success"===this.state?"edit":this.state},3500),this.$analytics.eventTrack("Settings - Account Tab - Set 2FA",{Status:1===this.twoFactor.value?"Yes":"No"})):(this.twoFactorView=this.twoFactor.value,this.state="error",this.errorType=z.yQ.GeneralError),this.inProcess=!1}_submitCodeErrorHandler(n){const i=z.Bn.getErrorReason(n);switch(this.errorType=i,i){case z.yQ.GeneralError:case z.yQ.SuspendedPhone:this.twoFactorView=this.twoFactor.value,this.state="error";break;case z.yQ.InvalidCode:this.isInvalidCode=!0,this.$analytics.eventTrack("Settings - Account Tab - Invalid Code");break;default:this.twoFactorView=this.twoFactor.value,this.state="error",this.$analytics.eventTrack("Settings - Account Tab - General Error")}this.inProcess=!1}_replacePhoneCallResourcePlaceholder(n){this.phoneCallButtonHtml=" "+n.replace(/<phoneCallButton>/gi,'<a class="link phone-call-btn" automation-id="settings-account-request-phone-call">').replace(/<\/phoneCallButton>/gi,"</a>")}clickHandler(n){if(n&&"A"===n.target.nodeName){const i=n.target.classList;!0===i.contains("resendCode")&&(n.preventDefault(),this.sendCodeRequest(this.twoFactorView,!1)),!0===i.contains("phone-call-btn")&&(n.preventDefault(),this.sendCodeRequest(this.twoFactorView,!0),this.$analytics.eventTrack("Settings - Activate/Deactivate 2FA - Voice Call - Click")),!0===i.contains("e-link")&&this.$analytics.eventTrack("Settings - Account Tab - Click Contact Us")}}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(k.c),t.rXU(x.X),t.rXU(sn.f),t.rXU(y.R),t.rXU(t.sFG),t.rXU(mn.x),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-two-factor"]],inputs:{isPhoneVerified:"isPhoneVerified",twoFactorView:"twoFactorView"},outputs:{onKycRequest:"onKycRequest"},decls:1,vars:1,consts:[["automation-id","settings-account-two-factor-wrapp",3,"click",4,"ngIf"],["automation-id","settings-account-two-factor-wrapp",3,"click"],[3,"ngClass"],[1,"et-font-xxs","et-margin-top-xl"],[4,"ngIf"],[1,"bio-toggle-full-wrapper"],[1,"bio-toggle-text-wrapper"],[1,"bio-toggle-title"],[1,"bio-toggle-info"],[3,"disabled","checked","change"],["class","et-preloader et-margin-top-xl",4,"ngIf"],["class","et-margin-top-xl",4,"ngIf"],["class","et-horizontal-divider et-margin-bottom-m",4,"ngIf"],[3,"class","fade-out",4,"ngIf"],["automation-id","settings-account-opt-out-text-less"],["automation-id","settings-account-opt-out-text-read-more",1,"link",3,"click"],["automation-id","settings-account-opt-out-text-more"],["automation-id","settings-account-opt-out-text-read-less",1,"link",3,"click"],[1,"et-preloader","et-margin-top-xl"],[1,"et-margin-top-xl"],["automation-id","settings-account-opt-out-code-sent",1,"et-margin-bottom-s"],["etCountdownTimer","",3,"html","seconds","onTimerEnd",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"et-width-100"],["etInputField","","automation-id","settings-account-opt-out-input","type","text",1,"code-field",3,"ngModel","ngModelChange","keyup.enter","focus","blur"],["automation-id","settings-account-opt-out-invalid-code",4,"ngIf"],["automation-id","settings-account-opt-out-apply-btn",1,"et-button","et-button-m","et-button-secondary","et-margin-vertical-l","et-width-100",3,"click"],[1,"et-flex-center","et-margin-top-s"],[3,"innerHTML"],["etCountdownTimer","",3,"html","seconds","onTimerEnd"],["automation-id","settings-account-opt-out-invalid-code"],[1,"et-horizontal-divider","et-margin-vertical-xl"],[1,"et-text-align-center"],["automation-id","settings-account-opt-out-phone-verification",1,"et-footer-link",3,"click"],[1,"et-horizontal-divider","et-margin-bottom-m"],[3,"ngClass","innerHTML"]],template:function(n,i){1&n&&t.DNE(0,fc,22,18,"et-card",0),2&n&&t.Y8G("ngIf",i.isInit)},dependencies:[d.YU,d.bT,C.me,C.BC,C.vS,nt.o,w.i,$.y,S.l,et.R,m.C,zs.x,zt.a,Ks.x,Js.k,Zs,h.D],styles:['et-card-title[_ngcontent-%COMP%]     .et-h2{text-transform:none}.code-field[_ngcontent-%COMP%]::placeholder{color:transparent}.et-preloader[_ngcontent-%COMP%]{width:inherit}.icon[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;background-repeat:no-repeat;background-position:center}.error[_ngcontent-%COMP%]{display:flex;padding:1.5rem;margin:0 -1.875rem -1.875rem;background-color:var(--tertiary-divider)}.error[_ngcontent-%COMP%]   .error-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;background-repeat:no-repeat;background-position:center}  :not(.dark-mode) .error .error-image{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/account/warning-icon-red-triangle.svg)}  .dark-mode .error .error-image{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/account/warning-icon-red-triangle-dark.svg)}.error[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;color:var(--secondary-neutral-text)}.notEditable[_ngcontent-%COMP%]   .notEditable-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;background-repeat:no-repeat;background-position:center}  :not(.dark-mode) .notEditable .notEditable-image{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/account/warning-icon-grey-circle.svg)}  .dark-mode .notEditable .notEditable-image{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/account/warning-icon-grey-circle-dark.svg)}.notEditable[_ngcontent-%COMP%]   .notEditable-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;color:var(--secondary-neutral-text)}.success[_ngcontent-%COMP%]{opacity:1;display:none}.success[_ngcontent-%COMP%]   .success-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;background-repeat:no-repeat;background-position:center}  :not(.dark-mode) .success .success-image{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/account/2fa-success-icon-new.svg)}  .dark-mode .success .success-image{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/account/2fa-success-icon-new-dark.svg)}.success[_ngcontent-%COMP%]   .success-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:400;color:var(--primary-neutral-text);color:var(--brand-hover-action-text);text-align:center}.success.fade-out[_ngcontent-%COMP%]{padding:1.5rem;margin:0 -1.875rem -1.875rem;background-color:#6aac0e12;display:flex;opacity:0;animation:_ngcontent-%COMP%_opac 3s;-webkit-animation:_ngcontent-%COMP%_opac 3s}@media (max-width: 767px){.success.fade-out[_ngcontent-%COMP%]{margin:0 -1.5rem -1.875rem}}@keyframes _ngcontent-%COMP%_opac{0%{opacity:1}80%{opacity:1}to{opacity:0}}.bio-toggle-full-wrapper[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:row}.bio-toggle-full-wrapper[_ngcontent-%COMP%]:after{display:block;content:"";width:50px;order:1;flex:none}.bio-toggle-text-wrapper[_ngcontent-%COMP%]{order:0;flex:1}.bio-toggle-title[_ngcontent-%COMP%]{font-size:14px;font-weight:300;color:var(--primary-neutral-text)}et-toggle-button[_ngcontent-%COMP%]{margin-top:5px;order:2;flex:none}.bio-toggle-info[_ngcontent-%COMP%]{font-size:10px;font-weight:300;color:var(--primary-neutral-text)}@media (max-width: 767px){  .keyboard-is-open{position:fixed;bottom:0;right:0;left:0}}']}),a})(),hn=(()=>{var e;class a{constructor(n,i,r){this.settingsNotifications=n,this.$rootScope=i,this.$http=r}getAllApps(){return this.$http({method:"get",url:"/api/sts/v2/oauth/applications"}).then(n=>(n.data&&n.data.authorizedApps||[]).map(r=>r.application)).catch(n=>[])}revoke(n){return this.$http({method:"DELETE",data:{app:n},url:"/api/sts/v2/oauth/applications/"+n.applicationId}).then(i=>204===i.status?(this.settingsNotifications.userSettingsRevokeSuccess({application:n}),this.$rootScope.$emit("user:settings:revoke:success",{application:n}),!0):(this.settingsNotifications.userSettingsRevokeFail(),!1)).catch(i=>(this.settingsNotifications.userSettingsRevokeFail(),!1))}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(un),t.KVO("$rootScope"),t.KVO("$http"))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();const Cc=function(e){return{"$ctrl.appToRevoke.applicationName":e}};let vc=(()=>{var e;class a{constructor(n,i){this.localizeService=n,this.analytics=i,this.onConfirm=new t.bkB,this.onReject=new t.bkB}ngOnInit(){}approve(){this.onConfirm.emit(),this.analytics.eventTrack("Settings - Privacy - Authorized Applications - Revoke Approved",{Application:this.appToRevoke.applicationName})}cancel(){this.onReject.emit(),this.analytics.eventTrack("Settings - Privacy - Authorized Applications - Revoke Canceled",{Application:this.appToRevoke.applicationName})}t(n,i=!1,r=!1){return this.localizeService.getResource(`appRevokeDialog.${n}`,i,r)}tc(n,i=!1,r=!1,s){return this.localizeService.getResourceInterpolated(`appRevokeDialog.${n}`,s,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X),t.rXU(k.c))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-connected-apps-revoke"]],inputs:{appToRevoke:"appToRevoke"},outputs:{onConfirm:"onConfirm",onReject:"onReject"},decls:13,vars:7,consts:[["automation-id","settings-dialog-apps-wrapper",1,"app-permissions-revoke"],[1,"app-logo-wrapper"],["automation-id","settings-dialog-apps-logo",1,"app-logo",3,"src"],[1,"app-permissions-revoke-content"],["automation-id","settings-dialog-apps-title"],["automation-id","settings-dialog-apps-text"],[1,"button-wrapper"],["automation-id","settings-dialog-apps-remove-btn",1,"button-standard","button-white",3,"click"],["automation-id","settings-dialog-apps-cancel-btn",1,"button-standard","button-blue",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"img",2),t.k0s(),t.j41(3,"div",3)(4,"h1",4),t.EFF(5),t.k0s(),t.j41(6,"p",5),t.EFF(7),t.k0s()(),t.j41(8,"div",6)(9,"button",7),t.bIt("click",function(){return i.approve()}),t.EFF(10),t.k0s(),t.j41(11,"button",8),t.bIt("click",function(){return i.cancel()}),t.EFF(12),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("src",i.appToRevoke.applicationIconUrl,t.B4B),t.R7$(3),t.JRh(i.tc("title",!0,!0,t.eq3(5,Cc,i.appToRevoke.applicationName))),t.R7$(2),t.JRh(i.t("MessageBody",!0,!0)),t.R7$(3),t.JRh(i.t("remove")),t.R7$(2),t.JRh(i.t("cancel")))},styles:[".basic-card-view[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg);border-top:1px solid var(--static-neutral-40);box-shadow:0 1px 1px 0 rgba(var(--rgb-neutral-100),.2)}.popup-text[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:14px;font-weight:400}.popup-title[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:700;font-size:16px}.popup-title-small[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:400}.basic-title-small[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:12px;text-transform:uppercase}.mobile-scrolling[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.app-permissions-revoke[_ngcontent-%COMP%]{padding:50px;text-align:center;max-width:640px;background-color:var(--neutral-secondary-bg)}.app-permissions-revoke[_ngcontent-%COMP%]   .app-logo-wrapper[_ngcontent-%COMP%]{height:50px;width:50px;margin:0 auto}.app-permissions-revoke[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{height:100%;width:100%}.app-permissions-revoke[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.app-permissions-revoke[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button.button-standard.button-white[_ngcontent-%COMP%]{margin-left:20px}.app-permissions-revoke[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button.button-standard[_ngcontent-%COMP%]{min-width:150px;height:50px;font-size:16px;font-weight:700;line-height:50px;letter-spacing:-.4px;border:none}.app-permissions-revoke[_ngcontent-%COMP%]   .app-permissions-revoke-content[_ngcontent-%COMP%]{min-height:180px}.app-permissions-revoke[_ngcontent-%COMP%]   .app-permissions-revoke-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:var(--primary-neutral-text);margin:20px auto}.app-permissions-revoke[_ngcontent-%COMP%]   .app-permissions-revoke-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;letter-spacing:-.2px;color:var(--secondary-neutral-text)}@media screen and (max-width: 740px){.app-permissions-revoke[_ngcontent-%COMP%]{padding:50px 20px;height:100vh;max-width:100vh}}"]}),a})();function bc(e,a){1&e&&t.nrm(0,"div",13)}function yc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6),t.nrm(3,"img",7),t.j41(4,"div",8)(5,"div",9),t.EFF(6),t.k0s(),t.j41(7,"div",10),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"button",11),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.revoke(r))}),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,bc,1,0,"div",12),t.k0s()}if(2&e){const o=a.$implicit,n=a.index,i=t.XpG(2);t.R7$(3),t.Y8G("src",o.applicationIconUrl,t.B4B),t.R7$(3),t.JRh(o.applicationName),t.R7$(2),t.JRh(t.bMT(9,5,"settingsAccount.connected")),t.R7$(3),t.JRh(t.bMT(12,7,"settingsAccount.Reovke")),t.R7$(2),t.Y8G("ngIf",n<i.connectedApps.length-1)}}function xc(e,a){if(1&e&&(t.j41(0,"et-card",1)(1,"et-card-title",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content"),t.DNE(5,yc,14,9,"div",3),t.k0s()()),2&e){const o=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"settingsAccount.connectedApps")," "),t.R7$(3),t.Y8G("ngForOf",o.connectedApps)}}let Pc=(()=>{var e;class a{constructor(n,i,r){this.analytics=n,this.dialogService=i,this.connectedAppsService=r,this.isConnectedApps=new t.bkB,this.connectedApps=[],this._getConnectedApps()}ngOnInit(){}revoke(n){const i=this.dialogService.open(vc);i.componentInstance.appToRevoke=n,i.componentInstance.onReject.subscribe(()=>i.close()),i.componentInstance.onConfirm.subscribe(()=>{this.activateRevoke(n),i.close()}),this.analytics.eventTrack("Settings - Privacy - Authorized Applications - Revoke Clicked",{Application:n.applicationName})}activateRevoke(n){this.connectedAppsService.revoke(n).then(i=>{if(i){const r=this.connectedApps.findIndex(s=>n.applicationId===s.applicationId);-1!==r&&this.connectedApps.splice(r,1),this.connectedApps.length<1&&this.isConnectedApps.emit(!1)}})}_getConnectedApps(){this.connectedAppsService.getAllApps().then(n=>{this.connectedApps=n,this.isConnectedApps.emit(this.connectedApps.length>0)})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(k.c),t.rXU(R.o3),t.rXU(hn))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-connected-apps"]],outputs:{isConnectedApps:"isConnectedApps"},features:[t.Jv_([hn])],decls:1,vars:1,consts:[["class","et-height-100","automation-id","connected-apps-wrapper",4,"ngIf"],["automation-id","connected-apps-wrapper",1,"et-height-100"],["automation-id","connected-apps-wrap-title"],["automation-id","connected-apps-item",4,"ngFor","ngForOf"],["automation-id","connected-apps-item"],[1,"et-flex-between"],[1,"et-flex"],["automation-id","connected-apps-app-logo",1,"et-avatar","et-avatar-m",3,"src"],[1,"et-flex-column","et-margin-start-s"],["automation-id","connected-apps-app-name",1,"app-name"],["automation-id","connected-apps-app-status",1,"et-font-xs","et-color-grey"],["automation-id","connected-apps-revoke-app",1,"et-button","et-button-s","et-button-variant-outline",3,"click"],["class","et-horizontal-divider et-margin-vertical-m",4,"ngIf"],[1,"et-horizontal-divider","et-margin-vertical-m"]],template:function(n,i){1&n&&t.DNE(0,xc,6,4,"et-card",0),2&n&&t.Y8G("ngIf",i.connectedApps.length>0)},dependencies:[d.Sq,d.bT,w.i,$.y,S.l,h.D],styles:['@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Light.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-weight:400;font-style:normal;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Regular.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Medium.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Bold.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:800;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-ExtraBold.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Light.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-weight:400;font-style:normal;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Regular.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Medium.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Bold.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Light.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Regular.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-SemiBold.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Bold.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:local("Open Sans Light"),local("OpenSans-Light"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:300;src:local("Open Sans Light Italic"),local("OpenSans-LightItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:400;src:local("Open Sans Regular"),local("OpenSans-Regular"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-regular.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-regular.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:400;src:local("Open Sans Italic"),local("OpenSans-Italic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:local("Open Sans SemiBold"),local("OpenSans-SemiBold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:600;src:local("Open Sans SemiBold Italic"),local("OpenSans-SemiBoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:700;src:local("Open Sans Bold Italic"),local("OpenSans-BoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:800;src:local("Open Sans ExtraBold"),local("OpenSans-ExtraBold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:800;src:local("Open Sans ExtraBold Italic"),local("OpenSans-ExtraBoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:short-number;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:dinot-prefered;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:dinot-prefered;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:dinot-prefered;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Regular.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:general-font;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Medium.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:general-font;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Bold.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Regular.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Medium.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Bold.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}.et-base-font[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal}.et-dinot-prefered[_ngcontent-%COMP%]{font-family:dinot-prefered,general-font,Open Sans,Arial,sans-serif;font-style:normal}.et-h1[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.25rem;letter-spacing:-.35px;font-weight:300;color:var(--primary-neutral-text)}.et-h2[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text)}.et-h3[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text)}.et-h4[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:700;color:var(--secondary-neutral-text);text-transform:uppercase}.et-p[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:400;color:var(--primary-neutral-text)}.et-grey-footer-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:400;color:var(--secondary-neutral-text);line-height:.9375rem;letter-spacing:-.25px}.et-font-3xs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.625rem;letter-spacing:-.15px}.et-font-xxs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px}.et-font-xs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px}.et-font-s[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px}.et-font-m[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.125rem;letter-spacing:-.35px}.et-font-l[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.25rem;letter-spacing:-.35px}.et-font-xl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px}.et-font-xxl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.75rem;letter-spacing:-.45px}.et-font-3xl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:2.125rem;letter-spacing:-.45px}.et-big-num[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:3.125rem;letter-spacing:-1.25px}.et-text-font[_ngcontent-%COMP%]{font-family:general-font,Arial}.et-bold-font[_ngcontent-%COMP%]{font-weight:700}.et-semi-bold-font[_ngcontent-%COMP%]{font-weight:600}.et-font-weight-normal[_ngcontent-%COMP%]{font-weight:400}.et-short-number[_ngcontent-%COMP%]{font-family:short-number,general-font,Arial}.et-light-font[_ngcontent-%COMP%]{font-weight:300}.et-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}et-card-title[_ngcontent-%COMP%]     .et-h2{text-transform:none}.app-name[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:700;height:1rem;position:relative;bottom:3px}']}),a})();const Mc=function(e){return{width:e}};function kc(e,a){if(1&e&&(t.j41(0,"div",13)(1,"div",14),t.nrm(2,"div",15),t.k0s()()),2&e){const o=t.XpG().$implicit,n=t.XpG(2);t.R7$(2),t.Y8G("ngStyle",t.eq3(1,Mc,n.progressPercentageToNextClub(o)+"%"))}}const Oc=function(e){return{selected:e}};function wc(e,a){if(1&e&&(t.j41(0,"div",7),t.nrm(1,"div",11),t.DNE(2,kc,3,3,"div",12),t.k0s()),2&e){const o=a.$implicit,n=a.index,i=t.XpG(2);t.R7$(1),t.HbH("club-circle user-club-"+o.playerLevelId),t.Y8G("ngClass",t.eq3(5,Oc,i.userClub.playerLevelId===o.playerLevelId)),t.R7$(1),t.Y8G("ngIf",n<i.clubsList.length-1)}}function Sc(e,a){if(1&e&&(t.j41(0,"et-card",1)(1,"et-card-content"),t.nrm(2,"div",2)(3,"div",3),t.j41(4,"div",4)(5,"div",5)(6,"div",6),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div"),t.EFF(10),t.nI1(11,"translate"),t.k0s()()(),t.j41(12,"div",7),t.DNE(13,wc,3,7,"div",8),t.k0s(),t.j41(14,"div"),t.nrm(15,"div",9),t.j41(16,"a",10),t.EFF(17),t.nI1(18,"translate"),t.k0s()()()()),2&e){const o=t.XpG();t.R7$(7),t.JRh(t.bMT(8,7,"clubDashboard.progressBar.clubNameTitle")),t.R7$(2),t.HbH("club-name user-club-"+o.userClub.playerLevelId),t.R7$(1),t.SpI(" ",t.bMT(11,9,"clubDashboard.progressBar.clubName"+o.userClub.playerLevelId)," "),t.R7$(3),t.Y8G("ngForOf",o.clubsList),t.R7$(4),t.JRh(t.i5U(18,11,"viewDashboard","settingsAccount"))}}let Tc=(()=>{var e;class a{constructor(n,i){this.clubService=n,this.ref=i,this.isLoading=!0,this.isError=!1}ngOnInit(){this.clubService.getClubsList().then(n=>{this.clubsList=n}).catch(()=>{this.isError=!0}).finally(()=>{this.isLoading=!1,this.ref.markForCheck()})}progressPercentageToNextClub(n){return Math.round(this.clubService.progressPercentageToNextClub(n))}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(rn.XR),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-club-tier"]],inputs:{userClub:"userClub"},decls:1,vars:1,consts:[["class","et-text-align-center et-direction-start progress-bar-section",4,"ngIf"],[1,"et-text-align-center","et-direction-start","progress-bar-section"],[1,"decoration1"],[1,"decoration2"],[1,"status-container","et-margin-m"],[1,"club-name-container","club-name-container-settings-page"],[1,"club-name-title"],[1,"progress-bar-container"],["class","progress-bar-container",4,"ngFor","ngForOf"],[1,"et-horizontal-divider","et-margin-vertical-xl"],["href","/dashboard/club",1,"et-footer-link"],[3,"ngClass"],["class","progress-line",4,"ngIf"],[1,"progress-line"],[1,"full-container"],[1,"full",3,"ngStyle"]],template:function(n,i){1&n&&t.DNE(0,Sc,19,14,"et-card",0),2&n&&t.Y8G("ngIf",!i.isLoading&&!i.isError)},dependencies:[d.YU,d.Sq,d.bT,d.B3,w.i,S.l,h.D],styles:['.progress-bar-section[_ngcontent-%COMP%]{overflow:hidden}.user-club-2[_ngcontent-%COMP%]{color:#ac9d9d}.user-club-2.club-circle.selected[_ngcontent-%COMP%]:after{background-color:#ac9d9d}.user-club-3[_ngcontent-%COMP%]{color:#f1c03e}.user-club-3.club-circle.selected[_ngcontent-%COMP%]:after{background-color:#f1c03e}.user-club-5[_ngcontent-%COMP%]{color:#bebebe}.user-club-5.club-circle.selected[_ngcontent-%COMP%]:after{background-color:#bebebe}.user-club-6[_ngcontent-%COMP%]{color:#9d9494}.user-club-6.club-circle.selected[_ngcontent-%COMP%]:after{background-color:#9d9494}.user-club-7[_ngcontent-%COMP%]{color:#4e64eb}.user-club-7.club-circle.selected[_ngcontent-%COMP%]:after{background-color:#4e64eb}.club-circle[_ngcontent-%COMP%]{width:13px;height:13px;border-style:solid;border-width:2px;border-radius:100%;margin-right:2px;margin-left:2px}.club-circle.selected[_ngcontent-%COMP%]{width:23px;height:23px}.club-circle.selected[_ngcontent-%COMP%]:after{content:"";width:15px;height:15px;margin:2px;border-radius:100%;display:block}.progress-line[_ngcontent-%COMP%]{width:2.6875rem;height:2px;background-color:var(--secondary-divider);border-radius:1px}.progress-line[_ngcontent-%COMP%]   .full-container[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{width:100%;height:2px;background-color:var(--secondary-neutral-text);border-radius:1px;display:block}.progress-bar-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.status-container[_ngcontent-%COMP%]   .club-name-container[_ngcontent-%COMP%]   .club-name[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:500;text-transform:uppercase;font-family:BigCaslon,sans-serif;margin-top:.375rem}.status-container[_ngcontent-%COMP%]   .club-name-container[_ngcontent-%COMP%]   .club-name-title[_ngcontent-%COMP%]{margin-top:-.75rem}.decoration1[_ngcontent-%COMP%]{position:absolute;margin:-80px 0 0 -70px;width:190px;height:190px;background-repeat:no-repeat}  :not(.dark-mode) .decoration1{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/club-dashboard/progress-bar/decoration1.svg)}  .dark-mode .decoration1{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/club-dashboard/progress-bar/decoration1-dark.svg)}@media (max-width: 767px){.decoration1[_ngcontent-%COMP%]{margin:-95px 0 0 -60px}}.decoration2[_ngcontent-%COMP%]{position:absolute;right:-35px;bottom:-25px;width:190px;height:190px;background-repeat:no-repeat}  :not(.dark-mode) .decoration2{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/club-dashboard/progress-bar/decoration2.svg)}  .dark-mode .decoration2{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/club-dashboard/progress-bar/decoration2-dark.svg)}@media (max-width: 767px){.decoration2[_ngcontent-%COMP%]{right:-50px}}@media (max-width: 767px){.status-container[_ngcontent-%COMP%]   .club-name-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.status-container[_ngcontent-%COMP%]   .club-name-container[_ngcontent-%COMP%]   .club-name-title[_ngcontent-%COMP%]{margin-top:-.375rem}.progress-line[_ngcontent-%COMP%]{width:43px}}'],changeDetection:0}),a})();var Ic=c(2447);let Rc=(()=>{var e;class a{constructor(n,i){this.$http=n,this.authService=i}isApexAccountStatusCompeted(){return this.$http({url:`/sapi/kyc/api/v1/apexAccount/users/${this.authService.user.gcid}/status`}).then(i=>i.data&&"Complete"===i.data.apexAccountStatus)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO("$http"),t.KVO(U.u))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();var Ac=c(54697);function Fc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"p",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"a",9),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.openAccountStatement())}),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,2,"settings.documents.accountStatement")," "),t.R7$(3),t.SpI(" ",t.bMT(7,4,"settings.documents.taxReport.view")," "))}function Ec(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"p",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"a",10),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.openStocksLending())}),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,2,"settings.documents.stockslending")," "),t.R7$(3),t.SpI(" ",t.bMT(7,4,"settings.documents.taxReport.view")," "))}function Dc(e,a){1&e&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"settings.documents.title.optionsaccount")," "))}function Uc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div"),t.DNE(1,Dc,3,3,"div",11),t.j41(2,"div",12)(3,"div",7)(4,"p",13),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"a",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onOptionsAccountStatementsViewClick())}),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",12)(11,"div",7)(12,"p",13),t.EFF(13),t.nI1(14,"translate"),t.k0s()(),t.j41(15,"a",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onOptionTradeConfirmationsViewClick())}),t.EFF(16),t.nI1(17,"translate"),t.k0s()(),t.j41(18,"div",12)(19,"div",7)(20,"p",13),t.EFF(21),t.nI1(22,"translate"),t.k0s()(),t.j41(23,"a",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onOptionsTaxDocumentsViewClick())}),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",!o.isUserUnderFINRARegulation),t.R7$(4),t.SpI(" ",t.bMT(6,7,"settings.documents.optionsStatement")," "),t.R7$(3),t.SpI(" ",t.bMT(9,9,"settings.documents.taxReport.view")," "),t.R7$(5),t.SpI(" ",t.bMT(14,11,"settings.documents.optionsConfirmations")," "),t.R7$(3),t.SpI(" ",t.bMT(17,13,"settings.documents.taxReport.view")," "),t.R7$(5),t.SpI(" ",t.bMT(22,15,"settings.documents.optionsTax")," "),t.R7$(3),t.SpI(" ",t.bMT(25,17,"settings.documents.taxReport.view")," ")}}function $c(e,a){1&e&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"settings.documents.title.cryptoaccount")," "))}function Gc(e,a){if(1&e){const o=t.RV6();t.qex(0),t.DNE(1,$c,3,3,"div",16),t.j41(2,"div",6)(3,"div",7)(4,"p",13),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"a",17),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onTaxReportViewClick())}),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.bVm()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",o.showHeaders),t.R7$(4),t.SpI(" ",t.bMT(6,3,"settings.documents.taxReport")," "),t.R7$(3),t.SpI(" ",t.bMT(9,5,"settings.documents.taxReport.view")," ")}}function jc(e,a){1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"settings.documents.title.stocksaccount")," "))}function Bc(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",20)(1,"div",7)(2,"p",21),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"a",22),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.onApexDocumentViewClick(r.documentType))}),t.EFF(6),t.nI1(7,"translate"),t.k0s()()}if(2&e){const o=a.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,5,o.textKey)," "),t.R7$(2),t.ZvI("et-button et-button-s et-button-secondary-outline settings-account-",o.documentType,"-link"),t.R7$(1),t.SpI(" ",t.bMT(7,7,o.buttonKey)," ")}}let Vc=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_,b,O){this.postRedirect=n,this.$rootScope=i,this.$location=r,this.config=s,this.$analytics=l,this.loader=g,this.accountPageService=p,this.authService=u,this.abTest=_,this.accountDocumentsService=b,this.optionsService=O,this.isNewAccountStatementEnabled=!1,this.isTaxReportsEnabled=!1,this.shouldShowOptionsAccountDocuments$=(0,ne.z)([this.optionsService.doesUserHaveOptionsAccount({stockOnly:this.optionsService.isUserUnderFINRARegulation()}),this.optionsService.isOptionsEnabled()]).pipe((0,tt.T)(([A,I])=>A&&I))}get isUserUnderFINRARegulation(){return this.optionsService.isUserUnderFINRARegulation()}get shouldshowStocksLendingButton(){return this.config.dynamics.userSettings.showStocksLendingButton&&!this.isUserUnderFINRARegulation}get shouldShowOptionsAccountStatement(){return this.config.dynamics.userSettings.shouldShowOptionsAccountStatement}ngOnInit(){this.initTaxReportsDocuments(),this.initStocksAccountItems(),this.sendPageAnalytics()}sendPageAnalytics(){this.$analytics.eventTrack("Settings Account - Page View",{Source:"settings screen"})}initStocksAccountItems(){const n=[];this.isFINRAFinCENRegulation()&&this.config.dynamics.accountDocumentsApexEnabled&&this.accountDocumentsService.isApexAccountStatusCompeted().then(i=>{i&&(this.showHeaders=!0,n.push({documentType:G.TradeConfirmations,textKey:`settings.documents.${G.TradeConfirmations}`,buttonKey:"settings.documents.button.view"}),n.push({documentType:G.MonthlyStatements,textKey:`settings.documents.${G.MonthlyStatements}`,buttonKey:"settings.documents.button.view"}),n.push({documentType:G.TaxDocuments,textKey:`settings.documents.${G.TaxDocuments}`,buttonKey:"settings.documents.button.view"}),this.stocksAccountDocs=n)})}onTaxReportViewClick(){this.loader.isLoading||(this.$analytics.eventTrack("Settings - Documents - Click",{VerificationLevel:this.authService.user.verificationLevel}),this.accountPageService.openTaxReportDocuments())}onApexDocumentViewClick(n){this.$analytics.eventTrack(`Settings - account - ${Yt[n]} - clicked`),this.accountPageService.openDocuments(n)}openAccountStatement(){this.isNewAccountStatementEnabled?this.$rootScope.$applyAsync(()=>{this.$location.url("/documents/accountstatement")}):this.openOldAccountStatement()}openStocksLending(){this.$analytics.eventTrack("Settings Account - Item Clicked"),this.$rootScope.$applyAsync(()=>{this.$location.url("/documents/stockslending")})}openOldAccountStatement(){const n=this.$rootScope.session,i=(0,F.A)(this.config,["dynamics","urls","accountStatementUrl"],"");this.postRedirect("Account Statement",i,{Authorization:n.token,csrfToken:n.csrfToken,AccountType:"Real",ApplicationIdentifier:(0,F.A)(this.config,["statics","ApplicationIdentifier"],""),ApplicationVersion:(0,F.A)(this.config,["statics","ApplicationVersion"],"")})}initTaxReportsDocuments(){(0,F.A)(this.config,["dynamics","accountstatement","newAccountstatement"],!1)?this.abTest.get("newAccountStatement").subscribe(i=>this.isNewAccountStatementEnabled="true"===i):this.isNewAccountStatementEnabled=!1,this.abTest.get("taxReportsEnabled").subscribe(i=>this.isTaxReportsEnabled="true"===i)}isFINRAFinCENRegulation(){return 8===this.authService.user.designatedRegulationId}onOptionsAccountStatementsViewClick(){this.sendOptionsDocumentsAnalytics(),this.$location.url("documents/options-account-statement")}onOptionsTaxDocumentsViewClick(){this.sendOptionsDocumentsAnalytics(),this.$location.url("documents/options-tax-documents")}onOptionTradeConfirmationsViewClick(){this.sendOptionsDocumentsAnalytics(),this.$location.url("documents/options-trade-confirmations")}sendOptionsDocumentsAnalytics(){this.$analytics.eventTrack("Settings Account - Item Clicked",{"Element Name":"Documents","Element Sub-Name":"View","Element Item":"Account Statement/ Options Account Statement"})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU("infrastruct.services.postRedirect"),t.rXU("$rootScope"),t.rXU("$location"),t.rXU(y.R),t.rXU(k.c),t.rXU(ht.Z),t.rXU(Et),t.rXU(U.u),t.rXU(Ic.P),t.rXU(Rc),t.rXU(Ac.w))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-account-documents"]],decls:12,vars:11,consts:[["automation-id","settings-account-documents-wrapp"],["automation-id","settings-account-documents-heading"],["class","et-flex-between-align-center et-padding-bottom-xl",4,"ngIf"],[4,"ngIf"],["class","account-documents-title stocks-account et-h1",4,"ngIf"],["class","et-flex-between-align-center et-padding-bottom-xl","automation-id","settings-account-documents",4,"ngFor","ngForOf"],[1,"et-flex-between-align-center","et-padding-bottom-xl"],[1,"et-flex-column","email-container"],["automation-id","settings-account-accountstatement",1,"et-h1"],["automation-id","settings-account-accountstatement-link",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],["automation-id","settings-account-stockslending-link",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],["class","account-documents-title oprions-account et-h1",4,"ngIf"],[1,"et-flex-between-align-center","et-padding-bottom-xl","options-document"],["automation-id","settings-account-documents",1,"et-h1"],["role","button","automation-id","settings-account-documents-btn",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],[1,"account-documents-title","oprions-account","et-h1"],["class","account-documents-title crypto-account et-h1",4,"ngIf"],["automation-id","settings-account-documents-btn",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],[1,"account-documents-title","crypto-account","et-h1"],[1,"account-documents-title","stocks-account","et-h1"],["automation-id","settings-account-documents",1,"et-flex-between-align-center","et-padding-bottom-xl"],["automation-id","settings-account-documents-document",1,"et-h1"],["automation-id","settings-account-documents-document-link",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"et-card",0)(1,"et-card-title",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content"),t.DNE(5,Fc,8,6,"div",2),t.DNE(6,Ec,8,6,"div",2),t.DNE(7,Uc,26,19,"div",3),t.nI1(8,"async"),t.DNE(9,Gc,10,7,"ng-container",3),t.DNE(10,jc,3,3,"div",4),t.DNE(11,Bc,8,9,"div",5),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,7,"settings.tabsDocuments")," "),t.R7$(3),t.Y8G("ngIf",!i.isUserUnderFINRARegulation),t.R7$(1),t.Y8G("ngIf",i.shouldshowStocksLendingButton),t.R7$(1),t.Y8G("ngIf",i.shouldShowOptionsAccountStatement&&t.bMT(8,9,i.shouldShowOptionsAccountDocuments$)),t.R7$(2),t.Y8G("ngIf",i.isTaxReportsEnabled&&!i.isUserUnderFINRARegulation),t.R7$(1),t.Y8G("ngIf",i.showHeaders),t.R7$(1),t.Y8G("ngForOf",i.stocksAccountDocs))},dependencies:[d.Sq,d.bT,w.i,$.y,S.l,d.Jj,h.D],styles:["et-card-title[_ngcontent-%COMP%]     .et-h2{text-transform:none}.et-h1[_ngcontent-%COMP%]{font-size:16px}.account-documents-title[_ngcontent-%COMP%]{font-weight:600}.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--secondary-100)}"]}),a})();function Nc(e,a){if(1&e&&t.nrm(0,"et-settings-club-tier",36),2&e){const o=t.XpG(2);t.Y8G("userClub",o.userClub)}}function Xc(e,a){1&e&&(t.j41(0,"span",37),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("(",t.bMT(2,1,"settingsAccount.verified"),")"))}function Lc(e,a){1&e&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("(",t.bMT(2,1,"settingsAccount.unverified"),")"))}function Yc(e,a){1&e&&(t.j41(0,"p",39),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"emailNudges.label")))}function Hc(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",40),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.changeEmailClicked())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("disabled",!o.isAllowedToChangeEmail),t.R7$(1),t.JRh(t.bMT(2,2,"settingsAccount.edit"))}}function zc(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.verifyEmail())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"settingsAccount.emailUnverified.verifyButton")))}const Kc=function(e){return{customerSupportLinkStart:e,customerSupportLinkEnd:"</a>"}};function Jc(e,a){if(1&e&&(t.nrm(0,"div",42),t.nI1(1,"safe"),t.nI1(2,"translateInterpolated")),2&e){const o=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,t.i5U(2,3,"settingsAccount.changeEmailNotAllowed",t.eq3(6,Kc,o.htmlLinkContactSupport))),t.npT)}}function Wc(e,a){1&e&&(t.j41(0,"span",43),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("(",t.bMT(2,1,"settingsAccount.verified"),")"))}function qc(e,a){1&e&&(t.j41(0,"span",44),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI("(",t.bMT(2,1,"settingsAccount.unverified"),")"))}function Qc(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"settingsAccount.add")," "))}function Zc(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"settingsAccount.edit")))}function tl(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,"settingsAccount.verify")))}function el(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",45),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.changePhone())}),t.DNE(1,Qc,3,3,"span",46),t.DNE(2,Zc,3,3,"span",46),t.DNE(3,tl,3,3,"span",46),t.k0s()}if(2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!o.isPhoneExist()),t.R7$(1),t.Y8G("ngIf",o.isPhoneExist()&&o.isPhoneVerified()),t.R7$(1),t.Y8G("ngIf",o.isPhoneExist()&&!o.isPhoneVerified())}}function nl(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",50),t.bIt("click",function(){t.eBV(o);const i=t.XpG(3);return t.Njj(i.redirectToCustomerSupport())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&e){const o=t.XpG(3);t.R7$(1),t.JRh(t.bMT(2,1,o.phoneErrorItem.resourceContactSupportLinkKey))}}function il(e,a){if(1&e&&(t.j41(0,"div",47)(1,"span",48),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,nl,3,3,"a",49),t.k0s()),2&e){const o=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,2,o.phoneErrorItem.resourceErrorKey)),t.R7$(2),t.Y8G("ngIf",o.phoneErrorItem.showContactSupportLink)}}function ol(e,a){1&e&&(t.j41(0,"div",18)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"a",51),t.nI1(5,"translate"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,3,"settingsAccount.setTrustedContactV2")),t.R7$(2),t.Y8G("href",t.bMT(5,5,"settingsAccount.trustedContactLink"),t.B4B),t.R7$(2),t.JRh(t.bMT(7,7,"settingsAccount.set")))}function al(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-two-factor",52),t.bIt("onKycRequest",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.openKyc())}),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("isPhoneVerified",o.isPhoneVerified())("twoFactorView",o.twoFactorStatus)}}const rl=function(e){return{"layout-no-connected-apps":e}},sl=function(e,a){return{"et-padding-bottom-xl":e,"et-padding-bottom-s":a}},cl=function(e,a){return{"hide-connected-apps":e,"et-grid-area4":a}};function ll(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",1),t.DNE(1,Nc,1,1,"et-settings-club-tier",2),t.j41(2,"et-card",3)(3,"et-card-title",4),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"et-card-content")(7,"div",5)(8,"p",6),t.EFF(9),t.k0s(),t.j41(10,"p",7),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",8)(14,"div",9)(15,"p",10),t.EFF(16),t.k0s(),t.j41(17,"p",11),t.EFF(18),t.nI1(19,"translate"),t.DNE(20,Xc,3,3,"span",12),t.DNE(21,Lc,3,3,"span",13),t.k0s(),t.DNE(22,Yc,3,3,"p",14),t.nI1(23,"async"),t.k0s(),t.DNE(24,Hc,3,4,"button",15),t.DNE(25,zc,3,3,"a",16),t.k0s(),t.DNE(26,Jc,3,8,"div",17),t.j41(27,"div",18)(28,"div",19)(29,"p",20),t.EFF(30,"***********"),t.k0s(),t.j41(31,"p",21),t.EFF(32),t.nI1(33,"translate"),t.k0s()(),t.j41(34,"a",22),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.changePassword())}),t.EFF(35),t.nI1(36,"translate"),t.k0s()(),t.j41(37,"div",18)(38,"div",23)(39,"div",24),t.EFF(40),t.k0s(),t.j41(41,"div",25),t.EFF(42),t.nI1(43,"translate"),t.DNE(44,Wc,3,3,"span",26),t.DNE(45,qc,3,3,"span",27),t.k0s()(),t.j41(46,"div"),t.DNE(47,el,4,3,"a",28),t.k0s()(),t.DNE(48,il,5,4,"div",29),t.DNE(49,ol,8,9,"div",30),t.k0s()(),t.DNE(50,al,1,2,"et-two-factor",31),t.j41(51,"et-settings-connected-apps",32),t.bIt("isConnectedApps",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.checkIsConnectedApps(i))}),t.k0s(),t.nrm(52,"et-account-documents",33),t.j41(53,"div",34)(54,"a",35),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.closeAccount())}),t.nI1(55,"translate"),t.k0s()()()}if(2&e){const o=t.XpG();t.Y8G("ngClass",t.eq3(42,rl,!o.isConnectedApps)),t.R7$(1),t.Y8G("ngIf",o.hasAccessClubComp),t.R7$(3),t.SpI("",t.bMT(5,26,"settingsAccount.credentials")," "),t.R7$(5),t.JRh(null==o.user?null:o.user.username),t.R7$(2),t.JRh(t.bMT(12,28,"settingsAccount.username")),t.R7$(2),t.Y8G("ngClass",t.l_i(44,sl,o.isAllowedToChangeEmail,!o.isAllowedToChangeEmail)),t.R7$(3),t.JRh(o.usersSettings.contactInfo.email),t.R7$(2),t.SpI("",t.bMT(19,30,"settingsAccount.email")," "),t.R7$(2),t.Y8G("ngIf",o.isEmailVerified),t.R7$(1),t.Y8G("ngIf",!o.isEmailVerified),t.R7$(1),t.Y8G("ngIf",o.isMobileWide&&t.bMT(23,32,o.showEmailNudgesSub)),t.R7$(2),t.Y8G("ngIf",o.isEmailVerified),t.R7$(1),t.Y8G("ngIf",!o.isEmailVerified),t.R7$(1),t.Y8G("ngIf",!o.isAllowedToChangeEmail),t.R7$(6),t.JRh(t.bMT(33,34,"settingsAccount.password")),t.R7$(3),t.JRh(t.bMT(36,36,"settingsAccount.edit")),t.R7$(5),t.SpI(" ",o.usersSettings.contactInfo.phone," "),t.R7$(2),t.SpI(" ",t.bMT(43,38,"settingsAccount.phone")," "),t.R7$(2),t.Y8G("ngIf",o.isPhoneVerified()),t.R7$(1),t.Y8G("ngIf",o.isPhoneExist()&&!o.isPhoneVerified()),t.R7$(2),t.Y8G("ngIf",o.showChangePhoneButton),t.R7$(1),t.Y8G("ngIf",o.phoneErrorItem),t.R7$(1),t.Y8G("ngIf",o.showTrustedContactLink),t.R7$(1),t.Y8G("ngIf",o.twoFactorIsEnabled),t.R7$(1),t.Y8G("ngClass",t.l_i(47,cl,!o.isConnectedApps,o.isConnectedApps)),t.R7$(3),t.Y8G("innerHTML",t.bMT(55,40,"settingsAccount.closeAccountButtonV2"),t.npT)}}let dl=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_,b,O,A,I,B,ot,$t,Jt,uu,mu,hu,fu,_u,Cu){this.kycProvider=n,this.$route=i,this.$location=r,this.config=s,this.ref=l,this.userSettingsService=g,this.$analytics=p,this.dialogService=u,this.uiBreakpointsService=_,this.clubsService=b,this.loader=O,this.changePhoneService=A,this.authService=I,this.userSessionService=B,this.accountPageService=ot,this.domService=$t,this.pubSubService=Jt,this.twoFactorService=uu,this.userSettingsAggregatedService=mu,this.settingsNotificationsService=hu,this.infraNotificationsService=fu,this.changeEmailHandlerProviderService=_u,this.verifyEmailNudgeService=Cu,this.CUSTOMER_SERVICE_DEEPLINK="/customer-service/?deepLink=type/account/account_subtype/details_change/details_change_subtype2/phone",this.isConnectedApps=!1,this.isAllowedToChangeEmail=!0,this.subscription=[],s.query.action&&"change-password"===s.query.action&&(this.changePassword(),delete s.query.action),this.initListeners()}ngOnInit(){this.user=this.authService.user,this.loader.show(),this.isLoading=this.loader.isLoading;const n=this.config.dynamics,i=this.config.query;n.whenReady().then(()=>{this.twoFactorIsEnabled=n.userSettings.twoFactorAdjustmentEnabled,this.showTrustedContactLink=n.userSettings.showTrustedContactLinkOnAccountSettings&&this.userSessionService.isUsUser(),this.showChangePhoneButton=n.changePhone.showChangePhoneButton}),this.clubsService.getClubDashboardData().then(r=>{this.userClub=this.clubsService.userClub,this.hasAccessClubComp=r.hasAccess}).finally(()=>{if(this.loader.hide(),this.isLoading=this.loader.isLoading,i.action){let r=!0;"taxreport"===i.action?this.accountPageService.openDocuments(G.TaxReport):"closeaccount"===i.action?this.closeAccount(i.deeplink,i.category):"account-documents-section"===i.action?this.scrollToDocsSection():r=!1,r&&(delete i.category,delete i.action,delete i.deeplink)}})}get isMobile(){return this.uiBreakpointsService.isMobile}get isMobileWide(){return this.uiBreakpointsService.isMobileWide}get showEmailNudgesSub(){return this.verifyEmailNudgeService.showEmailNudges}get isEmailVerified(){var n;return null===(n=this.authService.user)||void 0===n?void 0:n.isEmailVerified}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}get htmlLinkContactSupport(){return'<a href="/customer-service" target="_blank" class="ets-link ets-link-primary">'}isPhoneVerified(){return this.usersSettings.isPhoneVerified}isPhoneExist(){return this.usersSettings.isPhoneExist}checkIsConnectedApps(n){this.isConnectedApps=n}openKyc(n="",i=!0){!1!==i&&(this.kycProvider.loadVolunteerModal({deepLink:n||void 0}).finally(()=>{this.userSettingsService.clear(),this.$route.reload()}),this.$analytics.eventTrack(`Settings - Account - ${{economicprofile:"Update Experience",uploadutilitybill:"Upload Utility Bill",uploadid:"Upload ID",phoneverification:"Phone verification",personaldetails:"Update Personal Details"}[n]||"Complete Profile"}`))}changePassword(){const n=this.dialogService.open(_e);n.componentInstance.onClose.subscribe(()=>n.close())}changeEmailClicked(){var n=this;return(0,v.A)(function*(){n.loader.show(),n.isAllowedToChangeEmail=yield n.changeEmailHandlerProviderService.isAllowedToChangeEmail(),n.loader.hide(),n.isAllowedToChangeEmail&&n.openEmailDialog(!1),n.ref.detectChanges()})()}closeAccount(n,i){const r=this.dialogService.open(hs);r.componentInstance.category=i,r.componentInstance.deeplink=n,r.componentInstance.onClose.subscribe(()=>r.close()),this.$analytics.eventTrack("Settings - Account Tab  -  Close Account - Click")}changePhone(){var n=this;return(0,v.A)(function*(){n.phoneErrorItem=null;const r="Phone Change - "+(n.isPhoneExist()?"Change Phone Number":"Add Phone Number")+" - Click";if(!n.isProcessing){if(!n.isPhoneExist())return void n.openKyc();n.eventTrackChangePhone(r),n.isProcessing=!0,n.loader.show(),n.changePhoneService.startChangePhoneProcess(n.isPhoneVerified()).then(s=>{s.shouldOpenKyc?n.openKyc():n.openPhoneDialog()}).catch(s=>{n.phoneErrorItem=s}).finally(()=>{n.isProcessing=!1})}})()}verifyEmail(){this.openEmailDialog(!0),this.$analytics.eventTrack("Settings - Email Verification - Verify - Click")}redirectToCustomerSupport(){this.changePhoneService.redirectToCustomerSupport(this.CUSTOMER_SERVICE_DEEPLINK),this.eventTrackChangePhone("Phone Change - Error - General - Customer Service Link - Click")}scrollToDocsSection(){setTimeout(()=>this.domService.scrollIntoView("#docs-section",{behavior:"smooth",block:"start",inline:"start"}),500)}openEmailDialog(n){const i=this.dialogService.open(Ke.f),r=i.componentInstance;r.flow=n?ie.j7.SettingsPageVerifyEmail:ie.j7.SettingsPageChangeEmail,r.otpScreenShowCloseButton=!0,r.changeEmailScreenShowBackButton=n,r.changeEmailScreenShowCloseButton=!0,n||(r.localizationKeys={screenChangeEmailTitle:"settingsNewUserEmail.title",screenChangeEmailSubtitle:"settingsNewUserEmail.description",screenChangeEmailSubmitButton:"settingsNewUserEmail.submit"});let s=!1;r.eventOnPhoneDetailsUpdate.subscribe(()=>{s=!0}),r.eventOnClose.subscribe(()=>l()),r.eventOnVerificationSuccess.subscribe(()=>{this.authService.user.isEmailVerified=!0,this.verifyEmailNudgeService.showEmailNudges.next(!1),l(),this.infraNotificationsService.emailverificationVerifiedSuccess()}),r.eventChangeEmailSuccess.subscribe(g=>{this.usersSettings.contactInfo.email=g,this.authService.user.isEmailVerified=!1,this.verifyEmailNudgeService.showEmailNudges.next(!0),this.ref.detectChanges(),n||this.settingsNotificationsService.userSettingsEmailChangeSuccess()});const l=()=>{i.close(),s&&this.handlePhoneChangeSuccess(!1)}}handlePhoneChangeSuccess(n){Promise.all([this.userSettingsAggregatedService.getUserSettings(!0),this.twoFactorService.getSettingsData()]).then(([i,r])=>{var s;this.usersSettings.riskUserInfo.phoneVerificationStatus=i.riskUserInfo.phoneVerificationStatus,this.usersSettings.contactInfo.phone=i.contactUserInfo.phone,this.twoFactorStatus=null==r||null===(s=r.settings)||void 0===s||null===(s=s.find(l=>(null==l?void 0:l.resourceName)===it.a$.TwoFactor))||void 0===s?void 0:s.value,this.pubSubService.publishEvent("phoneVerification:changePhone"),this.ref.detectChanges()}).catch(()=>{}),n&&this.settingsNotificationsService.userSettingsPhoneChangeSuccess()}openPhoneDialog(){const n=this.dialogService.open(Rs);n.componentInstance.onClose.subscribe(r=>{r===dt.EE.TwoFactorSuccessfullyActivated?this.handlePhoneChangeSuccess(!0):this.authService.isLoggedIn||this.$location.url("/login"),n.close()})}eventTrackChangePhone(n,i={}){var r;const s={VerificationLevel:null===(r=this.authService.user)||void 0===r?void 0:r.verificationLevel};this.$analytics.eventTrack(n,{...s,...i})}initListeners(){this.subscription.push(this.changePhoneService.eventsSub.subscribe(n=>{n===_t.EligibilityCheckReady&&this.loader.hide()}))}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(xt.Ei),t.rXU("$route"),t.rXU("$location"),t.rXU(y.R),t.rXU(t.gRc),t.rXU(lt.A),t.rXU(k.c),t.rXU(R.o3),t.rXU(E.M),t.rXU(rn.XR),t.rXU(ht.Z),t.rXU(Tt),t.rXU(U.u),t.rXU($e.h),t.rXU(Et),t.rXU(Nt.w),t.rXU(gt.R),t.rXU(sn.f),t.rXU(tn.l),t.rXU(un),t.rXU(Ie.y),t.rXU(on.r),t.rXU(Bt.g))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-account"]],inputs:{usersSettings:"usersSettings"},decls:1,vars:1,consts:[["class","et-layout two-columns-layout et-direction-start",3,"ngClass",4,"ngIf"],[1,"et-layout","two-columns-layout","et-direction-start",3,"ngClass"],["class","et-grid-area1",3,"userClub",4,"ngIf"],["automation-id","settings-account-profile-wrapp",1,"et-grid-area2"],["automation-id","settings-account-profile-heading"],[1,"et-flex-column","et-padding-bottom-xl"],["automation-id","settings-account-name-credentials",1,"et-h1"],["automation-id","settings-account-name-credentials-lable",1,"credentials-label"],[1,"et-flex-between","et-flex-align-start",3,"ngClass"],[1,"et-flex-column","email-container"],["automation-id","settings-account-email",1,"email-item","et-h1"],["automation-id","settings-account-email-lable",1,"credentials-label"],["automation-id","settings-account-email-verify-label",4,"ngIf"],["class","label-unverified","automation-id","settings-account-email-unverified-label",4,"ngIf"],["class","email-nudge-label ets-info",4,"ngIf"],["automation-id","settings-account-email-change-btn","class","et-button et-button-s et-button-secondary-outline",3,"disabled","click",4,"ngIf"],["automation-id","settings-account-email-verify-btn","class","et-button et-button-s et-button-secondary-outline",3,"click",4,"ngIf"],["class","ets-info ets-negative-word et-padding-bottom-xl","automation-id","settings-account-email-change-error",3,"innerHTML",4,"ngIf"],[1,"et-flex-between-align-center","et-padding-bottom-xl"],[1,"et-flex-column","et-width-70"],["automation-id","settings-account-password-credentials",1,"et-h1"],["automation-id","settings-account-password-credentials-lable",1,"credentials-label"],["automation-id","settings-account-password-change-btn",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],["automation-id","settings-account-phone-item",1,"et-flex-column"],["automation-id","settings-account-phone-address",1,"et-h1"],["automation-id","settings-account-phone-item-title",1,"credentials-label"],["automation-id","settings-account-verified-tag",4,"ngIf"],["class","label-unverified","automation-id","settings-account-verified-tag",4,"ngIf"],["automation-id","settings-account-change-phone-button","class","et-button et-button-s et-button-secondary-outline",3,"click",4,"ngIf"],["class","et-padding-bottom-xl change-phone-error","automation-id","settings-account-change-phone-error",4,"ngIf"],["class","et-flex-between-align-center et-padding-bottom-xl",4,"ngIf"],["class","et-grid-area3",3,"isPhoneVerified","twoFactorView","onKycRequest",4,"ngIf"],[3,"ngClass","isConnectedApps"],[1,"et-grid-area6"],[1,"close-account","et-grid-area5"],["automation-id","settings-account-click-here-close-account",1,"et-footer-link",3,"innerHTML","click"],[1,"et-grid-area1",3,"userClub"],["automation-id","settings-account-email-verify-label"],["automation-id","settings-account-email-unverified-label",1,"label-unverified"],[1,"email-nudge-label","ets-info"],["automation-id","settings-account-email-change-btn",1,"et-button","et-button-s","et-button-secondary-outline",3,"disabled","click"],["automation-id","settings-account-email-verify-btn",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],["automation-id","settings-account-email-change-error",1,"ets-info","ets-negative-word","et-padding-bottom-xl",3,"innerHTML"],["automation-id","settings-account-verified-tag"],["automation-id","settings-account-verified-tag",1,"label-unverified"],["automation-id","settings-account-change-phone-button",1,"et-button","et-button-s","et-button-secondary-outline",3,"click"],[4,"ngIf"],["automation-id","settings-account-change-phone-error",1,"et-padding-bottom-xl","change-phone-error"],[1,"error"],["class","link",3,"click",4,"ngIf"],[1,"link",3,"click"],["target","_blank",1,"et-button","et-button-s","et-button-secondary-outline",3,"href"],[1,"et-grid-area3",3,"isPhoneVerified","twoFactorView","onKycRequest"]],template:function(n,i){1&n&&t.DNE(0,ll,56,50,"div",0),2&n&&t.Y8G("ngIf",i.user&&!i.isLoading)},dependencies:[d.YU,d.bT,w.i,$.y,S.l,_c,Pc,Tc,Vc,d.Jj,Q.m,h.D,ut.G],styles:['.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1 area1" "area2 area3" "area2 area4" "area6 area7" "area5 area8"}@media (max-width: 767px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1" "area2" "area3" "area4" "area6" "area5"}}.et-layout.two-columns-layout.layout-no-connected-apps[_ngcontent-%COMP%]{grid-template-areas:"area1 area1" "area2 area3" "area2 area3" "area6 area7" "area5 area8"}@media (max-width: 767px){.et-layout.two-columns-layout.layout-no-connected-apps[_ngcontent-%COMP%]{grid-template-areas:"area1" "area2" "area6" "area3" "area5"}}.label-unverified[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:700;color:var(--secondary-neutral-text);text-transform:uppercase;font-weight:400;color:var(--risk-9)}et-card-title[_ngcontent-%COMP%]     .et-h2{text-transform:none}.et-button-secondary-outline[_ngcontent-%COMP%]{padding:0 10px;flex-shrink:0}.credentials-label[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text);font-weight:400}.email-container[_ngcontent-%COMP%]{overflow:hidden}.email-item[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow-x:hidden}.close-account[_ngcontent-%COMP%]{text-align:center;background-color:var(--neutral-secondary-bg);padding:1.875rem 0;border-radius:0 0 4px 4px}.close-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg)}@media (max-width: 767px){.close-account[_ngcontent-%COMP%]{margin:0;border-radius:0}}.et-grid-area3[_ngcontent-%COMP%]{min-height:240px;background-color:var(--neutral-secondary-bg);border-radius:6px}@media (max-width: 767px){.et-grid-area3[_ngcontent-%COMP%]{min-height:214px}}.hide-connected-apps[_ngcontent-%COMP%]{display:none}.change-phone-error[_ngcontent-%COMP%]{margin-top:-1.5rem}.change-phone-error[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{padding-left:3px}.rtl-direction[_nghost-%COMP%]   .change-phone-error[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .change-phone-error[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{padding-right:3px;padding-left:0}.dark-mode[_nghost-%COMP%]   a[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:var(--secondary-100)}.et-grid-area6[_ngcontent-%COMP%]{grid-area:area6}.email-nudge-label[_ngcontent-%COMP%]{color:var(--primary-neutral-text)}']}),a})();function gl(e,a){if(1&e&&t.nrm(0,"div",8),2&e){const o=t.XpG();t.Y8G("innerHTML",o.t("restrictionReason",!0),t.npT)}}function pl(e,a){if(1&e&&t.nrm(0,"div",8),2&e){const o=t.XpG();t.Y8G("innerHTML",o.t("copyRestrictionReason",!0),t.npT)}}function ul(e,a){if(1&e&&t.nrm(0,"div",8),2&e){const o=t.XpG();t.Y8G("innerHTML",o.t("fundRestrictionReason",!0),t.npT)}}let ml=(()=>{var e;class a{constructor(n,i){this.localizeService=n,this.data=i,this.type=this.data&&this.data.type,this.onClose=new t.bkB}ngOnInit(){}t(n,i=!1,r=!1){return this.localizeService.getResource(`restrictTrading.${n}`,i,r)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X),t.rXU(R.Qs,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-restrict-trading"]],inputs:{type:"type"},outputs:{onClose:"onClose"},decls:10,vars:4,consts:[[1,"restrict-trading-popup"],[1,"w-confirmation-modal-title","restrict-trading-popup-title"],[1,"w-share-header-nav-button-x","sprite","restrict-trading",3,"click"],[1,"restrict-trading-popup-body"],[1,"restrict-trading-popup-image"],[3,"ngSwitch"],["class","restrict-trading-popup-message",3,"innerHTML",4,"ngSwitchCase"],[1,"restrict-trading-popup-dammy-column"],[1,"restrict-trading-popup-message",3,"innerHTML"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.j41(2,"a",2),t.bIt("click",function(){return i.onClose.emit()}),t.k0s(),t.j41(3,"div",3),t.nrm(4,"div",4),t.j41(5,"div",5),t.DNE(6,gl,1,1,"div",6),t.DNE(7,pl,1,1,"div",6),t.DNE(8,ul,1,1,"div",6),t.k0s()(),t.nrm(9,"div",7),t.k0s()),2&n&&(t.R7$(5),t.Y8G("ngSwitch",i.type),t.R7$(1),t.Y8G("ngSwitchCase","instrument"),t.R7$(1),t.Y8G("ngSwitchCase","copy"),t.R7$(1),t.Y8G("ngSwitchCase","fund"))},dependencies:[d.ux,d.e1],styles:[".rtl-direction[_nghost-%COMP%]   .restrict-trading-popup-message[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .restrict-trading-popup-message[_ngcontent-%COMP%]{direction:rtl}"],changeDetection:0}),a})();var hl=c(87356),fl=c(92652),_l=c(35498),Kt=c(22628),Cl=c(57226),vl=c(80624),bl=c(6531),fn=c(42065),le=c(17432),yl=c(49452),xl=c(37192),Pl=c(3247),Ml=c(50667),kl=c(15123);const Ol=function(e,a){return{negative:e,positive:a}};function wl(e,a){if(1&e&&(t.j41(0,"div",64)(1,"span",65),t.EFF(2),t.nI1(3,"oldFormatRate"),t.k0s(),t.j41(4,"span",66)(5,"span",67),t.EFF(6),t.nI1(7,"toFixed"),t.k0s(),t.j41(8,"span",68),t.EFF(9),t.nI1(10,"percentageParser"),t.k0s()()()),2&e){const o=a.ngIf,n=t.XpG().ngIf,i=t.XpG();t.R7$(2),t.SpI("",t.i5U(3,4,n.AskRounded(i.isReal()),n)," "),t.R7$(2),t.Y8G("ngClass",t.l_i(12,Ol,o.Change.askNumber("Daily")<0,o.Change.askNumber("Daily")>0)),t.R7$(2),t.SpI(" ",t.i5U(7,7,null==o.Change?null:o.Change.askNumber("Daily"),n.Precision)," "),t.R7$(3),t.SpI(" (",t.bMT(10,10,null==o.Change?null:o.Change.askPercent("Daily")),") ")}}function Sl(e,a){1&e&&t.eu8(0)}function Tl(e,a){1&e&&t.eu8(0)}function Il(e,a){if(1&e&&(t.j41(0,"span",69),t.EFF(1),t.nI1(2,"lowerThanMinimum"),t.nI1(3,"number"),t.nI1(4,"toFixedNoZero"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.SpI(" ",t.bMT(2,1,t.bMT(3,3,t.i5U(4,5,o.approx,2)))," ")}}function Rl(e,a){if(1&e&&(t.j41(0,"span",70),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.SpI(" $",t.i5U(2,1,o.approx,"1.0-2")," ")}}function Al(e,a){if(1&e&&t.eu8(0,71),2&e){t.XpG();const o=t.sdS(93);t.Y8G("ngTemplateOutlet",o)}}function Fl(e,a){if(1&e&&t.eu8(0,71),2&e){t.XpG();const o=t.sdS(97);t.Y8G("ngTemplateOutlet",o)}}function El(e,a){if(1&e&&t.eu8(0,71),2&e){t.XpG();const o=t.sdS(95);t.Y8G("ngTemplateOutlet",o)}}function Dl(e,a){if(1&e&&t.eu8(0,71),2&e){t.XpG();const o=t.sdS(91);t.Y8G("ngTemplateOutlet",o)}}function Ul(e,a){1&e&&(t.j41(0,"div",72)(1,"div",73),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"oneClickTradingEdit.oneClikcTradingTradeActions")," "))}function $l(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",77)(1,"div",78)(2,"input",79),t.bIt("change",function(i){t.eBV(o);const r=t.XpG(3);return t.Njj(r.setTSL(i))}),t.k0s(),t.j41(3,"label",80),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"div",81),t.nrm(7,"div",82),t.nI1(8,"translate"),t.k0s()()()}if(2&e){const o=t.XpG(3);t.R7$(2),t.Y8G("checked",o.isTSLEnabled),t.R7$(2),t.SpI("",t.bMT(5,3,"oneClickTradingEdit.trailingStopLoss")," "),t.R7$(3),t.Y8G("innerHTML",t.bMT(8,5,"portfolioOpenPosition.tslToolTip"),t.npT)}}const Dt=function(e){return{active:e}};function Gl(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",74)(1,"a",75),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.setSL("DEFAULT"))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"a",75),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.setSL("MAX"))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.DNE(7,$l,9,7,"div",76)}if(2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(9,Dt,"DEFAULT"===o.stopLoss)),t.R7$(1),t.SpI(" ",t.bMT(3,5,"oneClickTradingEdit.DEFAULT")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(11,Dt,"MAX"===o.stopLoss)),t.R7$(1),t.SpI(" ",t.bMT(6,7,"oneClickTradingEdit.MAX")," "),t.R7$(2),t.Y8G("ngIf",o.isTSLFeatureEnabled)}}function jl(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",75),t.bIt("click",function(){const r=t.eBV(o).index,s=t.XpG(3);return t.Njj(s.selectLeverage(r))}),t.EFF(1),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG(3);t.Y8G("ngClass",t.eq3(2,Dt,n.selectedLeverage===o)),t.R7$(1),t.SpI(" x",o," ")}}function Bl(e,a){1&e&&(t.j41(0,"span",88),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"oneClickTradingEdit.tabRiskMessage")," "))}function Vl(e,a){if(1&e&&(t.j41(0,"span",88),t.EFF(1),t.k0s()),2&e){const o=t.XpG(3);t.R7$(1),t.SpI(" ",o.leverageRegulationErrorMessage," ")}}function Nl(e,a){if(1&e&&(t.j41(0,"div",83),t.DNE(1,jl,2,4,"a",84),t.k0s(),t.j41(2,"div",85)(3,"div",86),t.DNE(4,Bl,3,3,"span",87),t.DNE(5,Vl,2,1,"span",87),t.k0s()()),2&e){const o=t.XpG(2);t.ZvI("group-buttons x",null==o.leverages?null:o.leverages.length,""),t.R7$(1),t.Y8G("ngForOf",o.leverages),t.R7$(3),t.Y8G("ngIf",!o.leverageRegulationErrorMessage),t.R7$(1),t.Y8G("ngIf",o.leverageRegulationErrorMessage)}}function Xl(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",89)(1,"a",75),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.setTP("DEFAULT"))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"a",75),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.setTP("MAX"))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(8,Dt,"DEFAULT"===o.takeProfit)),t.R7$(1),t.SpI(" ",t.bMT(3,4,"oneClickTradingEdit.DEFAULT")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(10,Dt,"MAX"===o.takeProfit)),t.R7$(1),t.SpI(" ",t.bMT(6,6,"oneClickTradingEdit.MAX")," ")}}const Ll=function(e,a){return{"clock-open":e,"clock-close":a}},Yl=function(e,a){return{active:e,separator:a}},_n=function(e,a){return{active:e,"non-separator":a}};function Hl(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",2)(1,"div",3),t.nrm(2,"div",4),t.j41(3,"div",5)(4,"a",6),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.closePopup())}),t.k0s()()(),t.j41(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10),t.nrm(9,"img",11),t.k0s(),t.j41(10,"div",12)(11,"span",13),t.EFF(12),t.k0s(),t.DNE(13,wl,11,15,"div",14),t.nI1(14,"async"),t.j41(15,"div",15)(16,"span",16),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"span",17),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.nrm(22,"i",18),t.j41(23,"span",19)(24,"a",20),t.EFF(25),t.nI1(26,"translate"),t.k0s()()()()(),t.j41(27,"div",21)(28,"div",22)(29,"div",23)(30,"div",24)(31,"div",25),t.EFF(32),t.nI1(33,"translate"),t.k0s()(),t.DNE(34,Sl,1,0,"ng-container",26),t.j41(35,"div",27)(36,"div",28)(37,"a",29),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.toggleMode())}),t.nrm(38,"span",30),t.j41(39,"span",31),t.EFF(40),t.nI1(41,"translate"),t.k0s()()()()(),t.DNE(42,Tl,1,0,"ng-container",26),t.j41(43,"div",32)(44,"div",33)(45,"span",34)(46,"span",35),t.EFF(47),t.nI1(48,"translate"),t.k0s(),t.DNE(49,Il,5,8,"span",36),t.DNE(50,Rl,3,4,"span",37),t.j41(51,"span",35),t.EFF(52),t.nI1(53,"translate"),t.k0s()(),t.j41(54,"span",38)(55,"span",39),t.EFF(56),t.nI1(57,"translate"),t.k0s(),t.j41(58,"span",40),t.EFF(59),t.nI1(60,"currencyParser"),t.k0s()()()(),t.j41(61,"div",41)(62,"section",42)(63,"div",43)(64,"span",44),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.selectTab(i.EDIT_OCT_TABS.SL))}),t.j41(65,"div",45),t.EFF(66),t.nI1(67,"translate"),t.k0s(),t.j41(68,"div",46),t.EFF(69),t.nI1(70,"translate"),t.k0s()(),t.j41(71,"span",47),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.selectTab(i.EDIT_OCT_TABS.LEVERAGE))}),t.j41(72,"div",48),t.EFF(73),t.k0s(),t.j41(74,"div",49),t.EFF(75),t.nI1(76,"translate"),t.k0s()(),t.j41(77,"span",50),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.selectTab(i.EDIT_OCT_TABS.TP))}),t.j41(78,"div",51),t.EFF(79),t.nI1(80,"translate"),t.k0s(),t.j41(81,"div",52),t.EFF(82),t.nI1(83,"translate"),t.k0s()()(),t.j41(84,"div",53),t.qex(85,54),t.DNE(86,Al,1,1,"ng-container",55),t.DNE(87,Fl,1,1,"ng-container",55),t.DNE(88,El,1,1,"ng-container",55),t.DNE(89,Dl,1,1,"ng-container",56),t.bVm(),t.k0s(),t.DNE(90,Ul,4,3,"ng-template",null,57,t.C5r),t.DNE(92,Gl,8,13,"ng-template",null,58,t.C5r),t.DNE(94,Nl,6,6,"ng-template",null,59,t.C5r),t.DNE(96,Xl,7,12,"ng-template",null,60,t.C5r),t.k0s(),t.j41(98,"div",61)(99,"div",62)(100,"button",63),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.submit())}),t.EFF(101),t.nI1(102,"translate"),t.k0s()()()()()()()()()}if(2&e){const o=a.ngIf,n=t.XpG(),i=t.sdS(2);t.R7$(9),t.Y8G("src",null==o||null==o.Avatars?null:o.Avatars.default,t.B4B)("alt",o.name),t.R7$(3),t.SpI("",o.Name," "),t.R7$(1),t.Y8G("ngIf",t.bMT(14,34,n.rate$)),t.R7$(4),t.SpI(" ",t.bMT(18,36,"market.disclaimer."+o.ProviderPriceSource)," "),t.R7$(3),t.SpI(" ",t.bMT(21,38,"market.disclaimer.Currency"+o.SellCurrencyID)," | "),t.R7$(2),t.Y8G("ngClass",t.l_i(68,Ll,o.IsActive,!o.IsActive)),t.R7$(3),t.JRh(t.i5U(26,40,o.IsActive?"marketOpen":"marketClosed","market.disclaimer.marketState")),t.R7$(7),t.SpI(" ",t.bMT(33,43,n.inUnitsMode?"oneClickTradingEdit.setUnits":"oneClickTradingEdit.setAmount")," "),t.R7$(2),t.Y8G("ngIf",!n.isMobile)("ngIfThen",i),t.R7$(6),t.SpI(" ",t.bMT(41,45,n.inUnitsMode?"oneClickTradingEdit.amountToggleButton":"oneClickTradingEdit.unitsToggleButton")," "),t.R7$(2),t.Y8G("ngIf",n.isMobile)("ngIfThen",i),t.R7$(5),t.SpI(" ",t.bMT(48,47,"oneClickTradingEdit.approx")," "),t.R7$(2),t.Y8G("ngIf",!n.inUnitsMode),t.R7$(1),t.Y8G("ngIf",n.inUnitsMode),t.R7$(2),t.SpI(" ",t.bMT(53,49,n.inUnitsMode?"oneClickTradingEdit.amount":"oneClickTradingEdit.amountUnits")," "),t.R7$(4),t.SpI(" ",t.bMT(57,51,"oneClickTradingEdit.exposure")," "),t.R7$(3),t.SpI(" ",t.i5U(60,53,n.exposure,2)," "),t.R7$(5),t.Y8G("ngClass",t.l_i(71,Yl,n.selectedTab===n.EDIT_OCT_TABS.SL,o.isNoneLeveragedOnly)),t.R7$(2),t.SpI(" ",t.bMT(67,56,"oneClickTradingEdit."+n.stopLoss)," "),t.R7$(3),t.SpI(" ",t.bMT(70,58,"oneClickTradingEdit.tabStopLoss")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(74,_n,n.selectedTab===n.EDIT_OCT_TABS.LEVERAGE,o.isNoneLeveragedOnly)),t.R7$(2),t.SpI(" X",n.selectedLeverage," "),t.R7$(2),t.SpI(" ",t.bMT(76,60,"oneClickTradingEdit.tabRisk")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(77,_n,n.selectedTab===n.EDIT_OCT_TABS.TP,o.isNoneLeveragedOnly)),t.R7$(2),t.SpI(" ",t.bMT(80,62,"oneClickTradingEdit."+n.takeProfit)," "),t.R7$(3),t.SpI(" ",t.bMT(83,64,"oneClickTradingEdit.tabTakeProfit")," "),t.R7$(3),t.Y8G("ngSwitch",n.selectedTab),t.R7$(1),t.Y8G("ngSwitchCase",n.EDIT_OCT_TABS.SL),t.R7$(1),t.Y8G("ngSwitchCase",n.EDIT_OCT_TABS.TP),t.R7$(1),t.Y8G("ngSwitchCase",n.EDIT_OCT_TABS.LEVERAGE),t.R7$(13),t.SpI(" ",t.bMT(102,66,"oneClickTradingEdit.update")," ")}}function zl(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-plus-minus-input",90),t.bIt("amountChangePlus",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.inputValueChange("+"))})("amountChangeMinus",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.inputValueChange("-"))})("amountChange",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.inputValueChange(null,i))}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("amount",o.inUnitsMode?o.units:o.amount)("parser",o.parserTransformCustom())("parserParam",o.inUnitsMode?null:o.parserParam)}}var de=function(e){return e[e.NONE=0]="NONE",e[e.SL=1]="SL",e[e.LEVERAGE=2]="LEVERAGE",e[e.TP=3]="TP",e}(de||{});let Kl=(()=>{var e;class a{constructor(){this.data=(0,t.WQX)(R.Qs),this.ratesService=(0,t.WQX)(vl.f),this.dialogRef=(0,t.WQX)(_l.c),this.breakpoints=(0,t.WQX)(E.M),this.oneClickTradingService=(0,t.WQX)(fn.R),this.currencyParserPipe=(0,t.WQX)(Kt.J),this.authService=(0,t.WQX)(U.u),this.complianceTradingFlowsService=(0,t.WQX)(fl.pz),this.localizeFactory=(0,t.WQX)(x.X),this.cd=(0,t.WQX)(t.gRc),this.rate$=this.ratesService.getById$(this.data.instrument.InstrumentID).pipe((0,yt.M)(n=>{this.setMaxUnits(n),this.units&&(this.calculateExposure(),this.calculateApprox(),this.unitMarginBid=this.data.instrument.getUnitMargin(!1,!1))})),this.isMobile=this.breakpoints.isMobile,this.leverages=[],this.EDIT_OCT_TABS=de,this.selectedTab=de.NONE,this.AMOUNT_STEPS=[{step:0,min:Number.MIN_SAFE_INTEGER,max:0},{step:1,min:0,max:10},{step:10,min:10,max:100},{step:50,min:100,max:250},{step:100,min:250,max:1e3},{step:250,min:1e3,max:2500},{step:500,min:2500,max:1e4},{step:1e3,min:1e4,max:Number.MAX_SAFE_INTEGER}],this.parserTransformCustom=()=>this.inUnitsMode?n=>this.isMobile?+n.toFixed(2):new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n):this.currencyParserPipe.transform,this.parserParam=[2,!1,"$",!0]}ngOnInit(){var n;const i=null===(n=this.oneClickTradingService.getInstrumentSettings(this.data.instrument.InstrumentID))||void 0===n?void 0:n.octSettings;this.inUnitsMode=!(null==i||!i.inUnitsMode),this.unitMarginBid=this.data.instrument.getUnitMargin(!1,!1),this.leverages=[...this.data.instrument.mergedLeveragesList||this.data.instrument.Leverages||[]];const r=this.leverages.indexOf(null==i?void 0:i.leverage);this.inUnitsMode?(this.amount=this.calculateAmount(null==i?void 0:i.units,this.unitMarginBid,null==i?void 0:i.leverage),this.units=i.units):(this.amount=i.amount,this.units=this.calculateUnits(this.unitMarginBid,null==i?void 0:i.amount,null==i?void 0:i.leverage)),this.selectLeverage(r>-1?r:0,!0),this.minAmount=this.calculateMinAmount(),this.minUnits=this.calculateUnits(this.unitMarginBid,this.minAmount,this.selectedLeverage),this.stopLoss=null==i?void 0:i.stopLoss,this.takeProfit=null==i?void 0:i.takeProfit,this.isTSLFeatureEnabled=this.data.instrument.AllowTrailingStopLoss,this.isTSLEnabled=null==i?void 0:i.isTslEnabled,this.calculateExposure(),this.calculateApprox(),this.subscribeToRate().then()}setSL(n){this.stopLoss=n}setTSL(n){var i;this.isTSLEnabled=null==n||null===(i=n.target)||void 0===i?void 0:i.checked}setTP(n){this.takeProfit=n}closePopup(){this.dialogRef.close()}inputValueChange(n=null,i){this.minAmount=this.calculateMinAmount(),n?this.onDirectionClick(n):this.onInput(i)}toggleMode(){this.inUnitsMode=!this.inUnitsMode,this.inputValueChange(null,{newVal:this.approx,oldVal:this.approx})}selectTab(n){this.selectedTab=n}selectLeverage(n,i=!1){const r=this.leverages[n];!this.inUnitsMode&&r>this.selectedLeverage&&this.amount*r>this.calculateMaxAmount()*r||this.validateLeverageRegulation(r,i).pipe((0,Pt.s)(1),(0,yt.M)(s=>{if(s){this.selectedLeverage=r;const l=this.inUnitsMode?this.units:this.amount;this.inputValueChange(null,{newVal:l,oldVal:l})}})).subscribe()}submit(){setTimeout(()=>{const n=this.inUnitsMode?this.units:this.calculateUnits(this.unitMarginBid,+this.amount.toFixed(this.data.instrument.Precision),this.selectedLeverage),i=this.inUnitsMode?this.approx:+this.amount.toFixed(this.data.instrument.Precision);this.oneClickTradingService.addOrUpdateInstrument(this.data.instrument,{instrumentId:this.data.instrument.InstrumentID,amount:i,leverage:this.selectedLeverage,stopLoss:this.stopLoss,takeProfit:this.takeProfit,isTslEnabled:this.isTSLEnabled,units:n,inUnitsMode:this.inUnitsMode}),this.dialogRef.close()},0)}subscribeToRate(){var n=this;return(0,v.A)(function*(){yield n.ratesService.getPromiseById(n.data.instrument),n.ratesService.subscribe(n.data.instrument)})()}validateLeverageRegulation(n,i){var r;if(this.leverageRegulationErrorMessage="",null===(r=this.data)||void 0===r||null===(r=r.instrument)||void 0===r||null===(r=r.PotentialDisplayLeverages)||void 0===r?void 0:r.includes(n)){var g;const p=(null===(g=this.authService)||void 0===g||null===(g=g.user)||void 0===g?void 0:g.tradingRiskStatusId)||3;if(1===p)return(0,Pe.H)(this.complianceTradingFlowsService.getPotentialLeverageFlowDialog(null)).pipe((0,tt.T)(u=>{if(null!=u&&u.tradingRiskStatusId){const O=this.handleTradingRiskStatus(u.tradingRiskStatusId);return this.leverageRegulationErrorMessage=i?"":O,!O}const b=this.handleTradingRiskStatus(3);return this.leverageRegulationErrorMessage=i?"":b,!b}),(0,K.W)(()=>{const u=this.handleTradingRiskStatus(p);return this.leverageRegulationErrorMessage=i?"":u,(0,ct.of)(!u)}));{const u=this.handleTradingRiskStatus(p);return this.leverageRegulationErrorMessage=i?"":u,(0,ct.of)(!u)}}return(0,ct.of)(!0)}handleTradingRiskStatus(n){if(2===n)return this.localizeFactory.getLocale("portfolioOpenPosition.statusPending");if(4===n)return this.leverages=this.data.instrument.mergedLeveragesList||this.leverages||[],null;const i=this.data.instrument.Leverages||this.leverages||[];if(i.length>0){const s=i[i.length-1];var r;if(s)return this.selectedLeverage=s,this.calculateExposure(),this.calculateApprox(),this.cd.markForCheck(),null===(r=this.localizeFactory)||void 0===r?void 0:r.getResourceInterpolated("portfolioOpenPosition.statusLow",{leverage:s},!0,!0)}return null}onDirectionClick(n){const i=this.getStepJump(this.inUnitsMode?this.units:this.amount);if(this.inUnitsMode){const r="+"===n?this.units+i:this.units-i;"-"===n&&(this.units=r<this.minUnits?this.minUnits:r),"+"===n&&(this.units=r>this.maxUnits?this.maxUnits:r),this.amount=this.calculateAmount(this.units,this.unitMarginBid,this.selectedLeverage)}else{const r="+"===n?this.amount+i:this.amount-i;this.amount=r<this.minAmount?this.minAmount:r,r>this.calculateMaxAmount()&&(this.amount=this.calculateMaxAmount()),this.units=this.calculateUnits(this.unitMarginBid,this.amount,this.selectedLeverage)}this.calculateExposure(),this.calculateApprox()}onInput(n){if(this.inUnitsMode){if(this.units=n.newVal<this.minUnits?this.minUnits:n.newVal,this.units===this.minUnits)return this.calculateExposure(),void this.calculateApprox();this.units=n.newVal>this.maxUnits?this.maxUnits:n.newVal,this.amount=this.calculateAmount(this.units,this.unitMarginBid,this.selectedLeverage)}else this.amount=n.newVal<this.minAmount?this.minAmount:n.newVal,n.newVal>this.calculateMaxAmount()&&(this.amount=this.calculateMaxAmount()),this.units=this.calculateUnits(this.unitMarginBid,this.amount,this.selectedLeverage);this.calculateExposure(),this.calculateApprox()}getStepJump(n){const i=this.AMOUNT_STEPS.find(({min:r,max:s})=>n>r&&n<=s);return i?i.step:1}calculateAmount(n,i,r){return n*i}calculateUnits(n,i,r){return i*r/n}isReal(){return this.data.instrument.RealTradeBuyMaxLeverage>=this.selectedLeverage}calculateMinAmount(){return this.isReal()?this.data.instrument.MinPositionAmountAbsoluteDiscounted:Math.max(this.data.instrument.MinPositionAmount/this.selectedLeverage,this.data.instrument.MinPositionAmountAbsolute)}calculateMaxAmount(){return this.data.instrument.MaxPositionUnits*this.unitMarginBid/this.selectedLeverage}setMaxUnits(n){this.maxUnits=this.calculateUnits(this.unitMarginBid,this.calculateMaxAmount(),this.selectedLeverage)}calculateExposure(){this.exposure=this.inUnitsMode?this.calculateAmountForUnitsMode():this.amount*this.selectedLeverage}calculateApprox(){this.approx=this.inUnitsMode?this.calculateAmountForUnitsMode()/this.selectedLeverage:this.calculateUnits(this.unitMarginBid,this.amount,this.selectedLeverage)}calculateAmountForUnitsMode(){return this.calculateAmount(this.units,this.unitMarginBid,this.selectedLeverage)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-edit-one-click-trading-dialog"]],standalone:!0,features:[t.aNF],decls:3,vars:1,consts:[["data-etoro-automation-id","update-position-dialog","class","execution edit",4,"ngIf"],["stepper",""],["data-etoro-automation-id","update-position-dialog",1,"execution","edit"],["data-etoro-automation-id","update-position-header-container",1,"execution-head"],["data-etoro-automation-id","update-position-header-title",1,"execution-head-title"],["data-etoro-automation-id","update-position-header-close-button",1,"head-buttons-ph"],["automation-id","close-dialog-btn",1,"head-button","sprite","close","pointer",3,"click"],[1,"execution-main"],[1,"execution-wrap"],["data-etoro-automation-id","one-click-trading-top-info-container",1,"execution-main-head"],[1,"execution-avatar-ph"],["data-etoro-automation-id","one-click-trading-top-info-image",1,"avatar",3,"src","alt"],[1,"user-info","stock-sell-buy"],["data-etoro-automation-id","one-click-trading-top-info-instrument-name",1,"execution-head-title-top"],["class","execution-main-head-title-price",4,"ngIf"],["data-etoro-automation-id","one-click-trading-top-info-disclaimer-container",1,"disclaimer"],["data-etoro-automation-id","one-click-trading-top-info-disclaimer-price-by"],["data-etoro-automation-id","one-click-trading-top-info-disclaimer-currency"],[1,"clock-icon",3,"ngClass"],["data-etoro-automation-id","one-click-trading-top-info-disclaimer-market-state",1,"market-status-span"],["href","https://www.etoro.com/trading/market-hours-and-events/","target","_blank"],["data-etoro-automation-id","one-click-trading-settings-steppers-container",1,"execution-main-steppers"],["data-etoro-automation-id","one-click-trading-stepper-amount-container"],[1,"stepper-ph","et-flex-around"],[1,"stepper-label-wrapper"],["data-etoro-automation-id","one-click-trading-stepper-amount-left-label","data-area","title",1,"mode-label","et-flex-column","et-flex-center"],[4,"ngIf","ngIfThen"],["data-area","side"],[1,"stepper-switch"],["data-etoro-automation-id","one-click-trading-stepper-amount-right-switch-button",1,"button-standard",3,"click"],[1,"switcher","sprite"],["data-etoro-automation-id","one-click-trading-stepper-amount-right-switch-button-label"],["data-area","bottom",1,"stepper-info"],["data-etoro-automation-id","execution-amount-section-error-messages","data-execution-messages","amount","data-model","editCtrl.errors.amount"],[1,"stepper-info-border","inner-info"],["data-etoro-automation-id","one-click-trading-stepper-amount-units-label"],["data-etoro-automation-id","one-click-trading-stepper-amount-units-value",4,"ngIf"],["data-etoro-automation-id","one-click-trading-stepper-units-amount-value",4,"ngIf"],[1,"inner-info"],["data-etoro-automation-id","one-click-trading-stepper-amount-exposure-label"],["data-etoro-automation-id","one-click-trading-stepper-amount-exposure-value"],["data-etoro-automation-id","edit-position-tabs-container",1,"tab-box-wrapper"],[1,"tabs-container"],[1,"et-flex"],["automation-id","sl-tab",1,"box-tab",3,"ngClass","click"],["data-etoro-automation-id","edit-position-tab-title-stop-loss-amount-value",1,"box-tab-value"],["data-etoro-automation-id","edit-position-tab-title-stop-loss-label",1,"box-tab-label"],["automation-id","leverage-tab",1,"box-tab","center-tab",3,"ngClass","click"],["data-etoro-automation-id","edit-position-tab-title-leverage-value",1,"box-tab-value"],["data-etoro-automation-id","edit-position-tab-title-leverage-label",1,"box-tab-label"],["automation-id","tp-tab",1,"box-tab",3,"ngClass","click"],["data-etoro-automation-id","edit-position-tab-title-take-profit-value",1,"box-tab-value"],["data-etoro-automation-id","edit-position-tab-title-take-profit-label",1,"box-tab-label"],[1,"tab-content"],[3,"ngSwitch"],[3,"ngTemplateOutlet",4,"ngSwitchCase"],[3,"ngTemplateOutlet",4,"ngSwitchDefault"],["tabNotSelectedTemplate",""],["slTabTemplate",""],["leverageTabTemplate",""],["tpTabTemplate",""],[1,"execution-button-wrapper"],[1,"execution-action-button","full-execution-button"],["data-etoro-automation-id","one-click-trading-settings-save-settings-button",1,"execution-button","button-standard","button-blue","pointer",3,"click"],[1,"execution-main-head-title-price"],["data-etoro-automation-id","one-click-trading-top-info-ask-rate-value",1,"execution-main-head-price-value"],["data-etoro-automation-id","one-click-trading-top-info-ask-rate-daily-container",3,"ngClass"],["data-etoro-automation-id","one-click-trading-top-info-ask-rate-daily-value"],["data-etoro-automation-id","one-click-trading-top-info-ask-rate-daily-percent-value"],["data-etoro-automation-id","one-click-trading-stepper-amount-units-value"],["data-etoro-automation-id","one-click-trading-stepper-units-amount-value"],[3,"ngTemplateOutlet"],[1,"tab-box-execution-content","start","active"],["data-etoro-automation-id","edit-position-leverage-default-text",1,"execution-start-info"],["data-etoro-automation-id","one-click-trading-stop-loss-section-selections-container",1,"group-buttons","x2"],[1,"risk-itemlevel","link",3,"ngClass","click"],["class","stop-loss-execution-cheackbox",4,"ngIf"],[1,"stop-loss-execution-cheackbox"],[1,"cheackbox-ph"],["data-etoro-automation-id","one-click-trading-stop-loss-section-tsl-check-box","type","checkbox","id","CB",1,"cheackbox-input","ng-pristine","ng-untouched","ng-valid",3,"checked","change"],["data-etoro-automation-id","one-click-trading-stop-loss-section-tsl-title","for","CB",1,"cheackbox-label"],["data-etoro-automation-id","one-click-trading-stop-loss-section-tsl-info-icon",1,"info-sigh","sprite"],["data-etoro-automation-id","one-click-trading-tab-section-tsl-tool-tip",1,"tooltip-stoploss",3,"innerHTML"],["data-etoro-automation-id","one-click-trading-leverages-section-selection-list-buttons"],["class","risk-itemlevel link",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"execution-sub-label"],["data-etoro-automation-id","execution-leverage-section-error-messages"],["data-etoro-automation-id","one-click-trading-leverages-section-bottom-label",4,"ngIf"],["data-etoro-automation-id","one-click-trading-leverages-section-bottom-label"],["data-etoro-automation-id","one-click-trading-take-profit-section-selections-container",1,"group-buttons","x2"],[3,"amount","parser","parserParam","amountChangePlus","amountChangeMinus","amountChange"]],template:function(n,i){1&n&&(t.DNE(0,Hl,103,80,"div",0),t.DNE(1,zl,1,3,"ng-template",null,1,t.C5r)),2&n&&t.Y8G("ngIf",null==i.data?null:i.data.instrument)},dependencies:[d.bT,fe.W,le.D,yl.G,xl.X,vt.Yc,h.D,Kt.J,Pl.Q,d.Jj,d.YU,Cl.z,Ml.u,d.QX,bl.b,kl.r,d.ux,d.e1,d.fG,d.T3,d.Sq],styles:[".stepper-label-wrapper[_ngcontent-%COMP%]{height:45px;display:flex}.tab-box-wrapper[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 767px){.stepper-label-wrapper[_ngcontent-%COMP%]{padding:0;width:100%;margin-left:5px}}.execution-main-head[_ngcontent-%COMP%]   .execution-avatar-ph[_ngcontent-%COMP%]{margin-right:14px}.cheackbox-ph[_ngcontent-%COMP%]   .cheackbox-label[_ngcontent-%COMP%], .cheackbox-ph[_ngcontent-%COMP%]   .info-sigh[_ngcontent-%COMP%]{margin-left:4px}.market-status-span[_ngcontent-%COMP%]{margin-left:3px}.mode-label[_ngcontent-%COMP%]{font-weight:700;overflow:hidden;text-transform:uppercase;width:118px;vertical-align:middle;text-overflow:ellipsis}"],changeDetection:0}),a})();var Jl=c(99157);let Cn=(()=>{var e;class a{constructor(n){this.onEdit=new t.bkB,this.onDelete=new t.bkB,this.localizationKey="settingsTrade"}editOneClickItem(n,i){this.onEdit.emit(i)}removeItem(n){this.onDelete.emit(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.zZn))},e.\u0275dir=t.FsC({type:e,inputs:{items:"items"},outputs:{onEdit:"onEdit",onDelete:"onDelete"}}),a})(),vn=(()=>{var e;class a{constructor(){this.onEdit=new t.bkB,this.onDelete=new t.bkB}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-one-click-trading-dropdown"]],outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:15,vars:10,consts:[["automation-id","one-click-added-item-dots-menu",3,"withoutArrow"],[1,"icon-drop-menu-dots"],[3,"title"],["automation-id","settings-trading-button-edit-one-click",3,"click"],[1,"et-flex"],[1,"icon-pencil-edit"],["automation-id","settings-trading-button-delete-one-click",3,"click"],[1,"icon-trash-remove"]],template:function(n,i){1&n&&(t.j41(0,"et-select")(1,"et-select-header",0),t.nrm(2,"i",1),t.k0s(),t.j41(3,"et-select-body",2),t.nI1(4,"translate"),t.j41(5,"et-select-body-option",3),t.bIt("click",function(){return i.onEdit.emit()}),t.j41(6,"div",4),t.nrm(7,"i",5),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"et-select-body-option",6),t.bIt("click",function(){return i.onDelete.emit()}),t.j41(11,"div",4),t.nrm(12,"i",7),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("withoutArrow",!0),t.R7$(2),t.Y8G("title",t.bMT(4,4,"oneClickTradingEdit.title")),t.R7$(5),t.SpI(" ",t.bMT(9,6,"oneClickTradingEdit.editButton")," "),t.R7$(5),t.SpI(" ",t.bMT(14,8,"oneClickTradingEdit.removeButton")," "))},dependencies:[m.wB,m.ms,m.Bj,m.XM,h.D],styles:["i[_ngcontent-%COMP%]{margin-right:18px}@media (min-width: 768px){.ets-select-body[_ngcontent-%COMP%]{transform:translate(-300px)}.rtl-direction[_nghost-%COMP%]   .ets-select-body[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .ets-select-body[_ngcontent-%COMP%]{transform:translate(300px)}.rtl-direction[_nghost-%COMP%]   .ets-select-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .ets-select-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:18px}}"],changeDetection:0}),a})();function Wl(e,a){if(1&e&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"currencyParser"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(1),t.JRh(t.bMT(2,1,o.octSettings.amount))}}function ql(e,a){if(1&e&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"lowerThanMinimum"),t.nI1(3,"number"),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(1),t.JRh(t.bMT(2,1,t.i5U(3,3,o.octSettings.units,"1.0-2")))}}const Ql=function(e){return{"dashed-border-cell":e}};function Zl(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",6)(1,"button",7),t.bIt("click",function(i){const s=t.eBV(o).$implicit,l=t.XpG(2);return t.Njj(l.editOneClickItem(i,s.instrument))}),t.nrm(2,"img",8),t.j41(3,"div",9)(4,"div",10),t.EFF(5),t.k0s(),t.j41(6,"div",11),t.EFF(7),t.k0s()()(),t.DNE(8,Wl,3,3,"div",12),t.DNE(9,ql,4,6,"div",13),t.j41(10,"div",14),t.EFF(11),t.k0s(),t.j41(12,"div",15),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",16),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"div",3)(19,"et-one-click-trading-dropdown",17),t.bIt("onEdit",function(i){const s=t.eBV(o).$implicit,l=t.XpG(2);return t.Njj(l.editOneClickItem(i,s.instrument))})("onDelete",function(){const r=t.eBV(o).$implicit,s=t.XpG(2);return t.Njj(s.removeItem(r))}),t.k0s()()()}if(2&e){const o=a.$implicit,n=t.XpG(2);t.R7$(2),t.Y8G("src",o.instrument.Avatars.default,t.B4B),t.R7$(3),t.SpI("",o.instrument.Name," "),t.R7$(2),t.JRh(o.instrument.DisplayName),t.R7$(1),t.Y8G("ngIf",!o.octSettings.inUnitsMode),t.R7$(1),t.Y8G("ngIf",o.octSettings.inUnitsMode),t.R7$(2),t.SpI(" X",o.octSettings.leverage,""),t.R7$(1),t.Y8G("ngClass",t.eq3(15,Ql,o.octSettings.isTslEnabled)),t.R7$(1),t.SpI(" ",t.i5U(14,9,o.octSettings.stopLoss,n.localizationKey),""),t.R7$(3),t.SpI(" ",t.i5U(17,12,o.octSettings.takeProfit,n.localizationKey),"")}}function td(e,a){if(1&e&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",3),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div",3),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",3),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"div",3),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.nrm(17,"div",3),t.k0s(),t.j41(18,"div",4),t.DNE(19,Zl,20,17,"div",5),t.k0s()()),2&e){const o=t.XpG();t.R7$(3),t.JRh(t.i5U(4,6,"oneClickTradingInstrument",o.localizationKey)),t.R7$(3),t.JRh(t.i5U(7,9,"oneClickTradingAmountV2",o.localizationKey)),t.R7$(3),t.JRh(t.i5U(10,12,"oneClickTradingLeverage",o.localizationKey)),t.R7$(3),t.JRh(t.i5U(13,15,"oneClickTradingStopLoss",o.localizationKey)),t.R7$(3),t.JRh(t.i5U(16,18,"oneClickTradingTakeProfit",o.localizationKey)),t.R7$(4),t.Y8G("ngForOf",o.items)}}let ed=(()=>{var e;class a extends Cn{constructor(n){super(n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.zZn))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-one-click-trading-items"]],features:[t.Vt3],decls:1,vars:1,consts:[["automation-id","settings-trading-wrapp-table-one-click",4,"ngIf"],["automation-id","settings-trading-wrapp-table-one-click"],[1,"et-n-table-head","table-columns-widths"],[1,"et-n-table-cell"],[1,"et-n-table-body"],["automation-id","settings-trading-row-one-click","class","et-n-table-row table-columns-widths",4,"ngFor","ngForOf"],["automation-id","settings-trading-row-one-click",1,"et-n-table-row","table-columns-widths"],["automation-id","settings-trading-button-edit-one-click",1,"et-n-table-cell","instrument-avatar",3,"click"],["automation-id","settings-trading-avatar-one-click",1,"et-avatar","et-avatar-m","et-margin-end-s",3,"src"],[1,"instrument-info"],["automation-id","settings-trading-name-one-click",1,"instrument-short-name","ets-info"],["automation-id","settings-trading-fullname-one-click",1,"instrument-fullname"],["automation-id","settings-trading-cell-amount-one-click","class","et-n-table-cell bold",4,"ngIf"],["automation-id","settings-trading--one-click","class","et-n-table-cell bold",4,"ngIf"],["automation-id","settings-trading-cell-leverage-one-click",1,"et-n-table-cell","bold"],["automation-id","settings-trading-cell-SL-one-click",1,"et-n-table-cell",3,"ngClass"],["automation-id","settings-trading-cell-TP-one-click",1,"et-n-table-cell"],[3,"onEdit","onDelete"],["automation-id","settings-trading-cell-amount-one-click",1,"et-n-table-cell","bold"],["automation-id","settings-trading--one-click",1,"et-n-table-cell","bold"]],template:function(n,i){1&n&&t.DNE(0,td,20,21,"div",0),2&n&&t.Y8G("ngIf",i.items.length>0)},dependencies:[d.YU,d.Sq,d.bT,vn,d.QX,le.D,h.D,Kt.J],styles:[".table-columns-widths[_ngcontent-%COMP%]{grid-template-columns:30% 16.3% 16.3% 16.3% 16.3% 4.8%;align-items:center}.et-n-table-head[_ngcontent-%COMP%]{background-color:var(--tertiary-divider);padding:.7rem 1rem;border:none;border-radius:2px;font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px}.et-n-table-body[_ngcontent-%COMP%]{font-weight:400}.et-n-table-row[_ngcontent-%COMP%]{padding:.7rem 1rem;border-bottom:none}.et-n-table-row[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:600}.instrument-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-self:self-start;cursor:pointer;background:none;max-width:100%}.instrument-info[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.instrument-short-name[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1}.instrument-fullname[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px;color:var(--secondary-neutral-text);font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dots-menu-btn[_ngcontent-%COMP%]{background-color:transparent;outline:none}.icon-drop-menu-dots[_ngcontent-%COMP%]{color:var(--tertiary-neutral-text);font-size:1rem;font-weight:400}.icon-drop-menu-dots[_ngcontent-%COMP%]:hover{color:var(--secondary-neutral-text);cursor:pointer}.dashed-border-cell[_ngcontent-%COMP%]{border:1px dashed var(--neutral-80);border-radius:6px;justify-self:center;padding:3px 16px}.rtl-direction[_nghost-%COMP%]   .et-n-table-cell[_ngcontent-%COMP%]:first-child, .rtl-direction   [_nghost-%COMP%]   .et-n-table-cell[_ngcontent-%COMP%]:first-child{text-align:right}button[_ngcontent-%COMP%]:focus{border:0;outline:0}"],changeDetection:0}),a})();const nd=function(e){return{"dashed-border-cell":e}};function id(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",2)(1,"header",3)(2,"a",4),t.bIt("click",function(i){const s=t.eBV(o).$implicit,l=t.XpG();return t.Njj(l.editOneClickItem(i,s.instrument))}),t.nrm(3,"img",5),t.j41(4,"div",6)(5,"div",7),t.EFF(6),t.k0s(),t.j41(7,"div",8),t.EFF(8),t.k0s()()(),t.j41(9,"div",9)(10,"div",10),t.EFF(11),t.nI1(12,"lowerThanMinimum"),t.nI1(13,"number"),t.nI1(14,"currencyParser"),t.k0s(),t.j41(15,"button",11)(16,"et-one-click-trading-dropdown",12),t.bIt("onEdit",function(i){const s=t.eBV(o).$implicit,l=t.XpG();return t.Njj(l.editOneClickItem(i,s.instrument))})("onDelete",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.removeItem(r))}),t.k0s()()()(),t.j41(17,"div",13)(18,"div",14),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"div",15),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.j41(24,"div",16),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.j41(27,"div",17),t.EFF(28),t.k0s(),t.j41(29,"div",18),t.EFF(30),t.nI1(31,"translate"),t.k0s(),t.j41(32,"div",19),t.EFF(33),t.nI1(34,"translate"),t.k0s()()()}if(2&e){const o=a.$implicit,n=t.XpG();t.R7$(3),t.Y8G("src",o.instrument.Avatars.default,t.B4B),t.R7$(3),t.SpI(" ",o.instrument.Name,""),t.R7$(2),t.SpI(" ",o.instrument.DisplayName,""),t.R7$(3),t.SpI(" ",o.octSettings.inUnitsMode?t.bMT(12,11,t.i5U(13,13,o.octSettings.units,"1.0-2")):t.bMT(14,16,o.octSettings.amount)," "),t.R7$(8),t.JRh(t.i5U(20,18,"oneClickTradingStopLoss",n.localizationKey)),t.R7$(2),t.Y8G("ngClass",t.eq3(33,nd,o.octSettings.isTslEnabled)),t.R7$(1),t.SpI(" ",t.i5U(23,21,o.octSettings.stopLoss,n.localizationKey)," "),t.R7$(3),t.JRh(t.i5U(26,24,"oneClickTradingLeverage",n.localizationKey)),t.R7$(3),t.SpI(" X",o.octSettings.leverage,""),t.R7$(2),t.JRh(t.i5U(31,27,"oneClickTradingTakeProfit",n.localizationKey)),t.R7$(3),t.SpI(" ",t.i5U(34,30,o.octSettings.takeProfit,n.localizationKey),"")}}let od=(()=>{var e;class a extends Cn{constructor(n){super(n)}editOneClickItem(n,i){n&&(n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.preventDefault&&n.preventDefault()),this.onEdit.emit(i)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.zZn))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-one-click-trading-items-mobile"]],features:[t.Vt3],decls:2,vars:1,consts:[["automation-id","settings-trading-wrapp-table-one-click",1,"cards-container"],["class","item-card et-margin-bottom-s","automation-id","settings-trading-row-one-click",4,"ngFor","ngForOf"],["automation-id","settings-trading-row-one-click",1,"item-card","et-margin-bottom-s"],[1,"header","et-padding-bottom-m"],[1,"avatar",3,"click"],["automation-id","settings-trading-avatar-one-click",1,"et-avatar","et-avatar-m","et-margin-end-s",3,"src"],[1,"names"],["automation-id","settings-trading-name-one-click",1,"item-name","ets-info"],["automation-id","settings-trading-fullname-one-click",1,"item-full-name"],[1,"header-right-side"],["automation-id","settings-trading-cell-amount-one-click",1,"item-amount"],[1,"dots-menu-btn","et-margin-start-s"],[3,"onEdit","onDelete"],[1,"item-settings"],[1,"sl-title","setting-title"],["automation-id","settings-trading-cell-SL-one-click",1,"sl-value","setting-value",3,"ngClass"],[1,"leverage-title","setting-title"],["automation-id","settings-trading-cell-leverage-one-click",1,"leverage-value"],[1,"tp-title","setting-title"],["automation-id","settings-trading-cell-TP-one-click",1,"tp-value","setting-value"]],template:function(n,i){1&n&&(t.j41(0,"section",0),t.DNE(1,id,35,35,"div",1),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngForOf",i.items))},dependencies:[d.YU,d.Sq,vn,d.QX,le.D,h.D,Kt.J],styles:['@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Light.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-weight:400;font-style:normal;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Regular.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Medium.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-Bold.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:800;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/tajawal/Tajawal-ExtraBold.ttf) format("truetype");unicode-range:U+0600 -U 6FF}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Light.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-weight:400;font-style:normal;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Regular.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Medium.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/noto-sans/NotoSansSC-Bold.otf) format("opentype");unicode-range:U+4E00 -U 9FFF}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Light.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Regular.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-SemiBold.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/fonts/bai-jamjuree/BaiJamjuree-Bold.ttf) format("truetype");unicode-range:U+0E00 -U 0E 7F}@font-face{font-family:general-font;font-style:normal;font-weight:300;src:local("Open Sans Light"),local("OpenSans-Light"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:300;src:local("Open Sans Light Italic"),local("OpenSans-LightItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-300italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:400;src:local("Open Sans Regular"),local("OpenSans-Regular"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-regular.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-regular.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:400;src:local("Open Sans Italic"),local("OpenSans-Italic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:600;src:local("Open Sans SemiBold"),local("OpenSans-SemiBold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:600;src:local("Open Sans SemiBold Italic"),local("OpenSans-SemiBoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-600italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:700;src:local("Open Sans Bold Italic"),local("OpenSans-BoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-700italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:normal;font-weight:800;src:local("Open Sans ExtraBold"),local("OpenSans-ExtraBold"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-style:italic;font-weight:800;src:local("Open Sans ExtraBold Italic"),local("OpenSans-ExtraBoldItalic"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800italic.woff2) format("woff2"),url(https://etoro-cdn.etorostatic.com/web-client/fonts/opensans/open-sans-v15-cyrillic-ext_cyrillic_greek_greek-ext_latin_latin-ext_vietnamese-800italic.woff) format("woff");unicode-range:U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:general-font;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F}@font-face{font-family:short-number;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:short-number;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+002E,U+002C,U+0030-0039,U+002F,U+004B,U+004D,U+0042,U+0054}@font-face{font-family:dinot-prefered;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:dinot-prefered;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Medium.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:dinot-prefered;font-weight:700;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/dinot/DINOT-Bold.otf) format("truetype");unicode-range:U+0030-0039,U+002F,U+0041-007A,U+005F-FFFF}@font-face{font-family:general-font;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Regular.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:general-font;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Medium.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:general-font;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Bold.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:300;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Regular.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:400;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Medium.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}@font-face{font-family:short-number;font-weight:600;src:url(https://etoro-cdn.etorostatic.com/web-client/et/fonts/roboto/Roboto-Bold.ttf);unicode-range:U+0021,U+0040,U+0023-026,U+005E,U+0024,U+00A2,U+00A3,U+00A4,U+00A5,U+20A3,U+20A4,U+20A6,U+20A7,U+20A8,U+20A9,U+20AA,U+20AB,U+20AC,U+20B1,U+20B9,U+20BA,U+20BC,U+20BD}.et-base-font[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal}.et-dinot-prefered[_ngcontent-%COMP%]{font-family:dinot-prefered,general-font,Open Sans,Arial,sans-serif;font-style:normal}.et-h1[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.25rem;letter-spacing:-.35px;font-weight:300;color:var(--primary-neutral-text)}.et-h2[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text)}.et-h3[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:600;text-transform:uppercase;color:var(--secondary-neutral-text)}.et-h4[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:700;color:var(--secondary-neutral-text);text-transform:uppercase}.et-p[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:400;color:var(--primary-neutral-text)}.et-grey-footer-text[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:400;color:var(--secondary-neutral-text);line-height:.9375rem;letter-spacing:-.25px}.et-font-3xs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.625rem;letter-spacing:-.15px}.et-font-xxs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px}.et-font-xs[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px}.et-font-s[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px}.et-font-m[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.125rem;letter-spacing:-.35px}.et-font-l[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.25rem;letter-spacing:-.35px}.et-font-xl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px}.et-font-xxl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.75rem;letter-spacing:-.45px}.et-font-3xl[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:2.125rem;letter-spacing:-.45px}.et-big-num[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:3.125rem;letter-spacing:-1.25px}.et-text-font[_ngcontent-%COMP%]{font-family:general-font,Arial}.et-bold-font[_ngcontent-%COMP%]{font-weight:700}.et-semi-bold-font[_ngcontent-%COMP%]{font-weight:600}.et-font-weight-normal[_ngcontent-%COMP%]{font-weight:400}.et-short-number[_ngcontent-%COMP%]{font-family:short-number,general-font,Arial}.et-light-font[_ngcontent-%COMP%]{font-weight:300}.et-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.cards-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;margin-top:1.25rem}.item-settings[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto;grid-template-columns:1fr 1fr 1fr;justify-items:center;align-items:center;grid-template-areas:"sl-value lv-value tp-value" "sl-title lv-title tp-title"}.item-settings[_ngcontent-%COMP%]   .sl-title[_ngcontent-%COMP%]{grid-area:sl-title}.item-settings[_ngcontent-%COMP%]   .sl-value[_ngcontent-%COMP%]{grid-area:sl-value}.item-settings[_ngcontent-%COMP%]   .leverage-title[_ngcontent-%COMP%]{grid-area:lv-title}.item-settings[_ngcontent-%COMP%]   .leverage-value[_ngcontent-%COMP%]{grid-area:lv-value;font-weight:700}.item-settings[_ngcontent-%COMP%]   .tp-title[_ngcontent-%COMP%]{grid-area:tp-title}.item-settings[_ngcontent-%COMP%]   .tp-value[_ngcontent-%COMP%]{grid-area:tp-value}.item-settings[_ngcontent-%COMP%]   .setting-title[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;color:var(--secondary-neutral-text);font-weight:400}.item-settings[_ngcontent-%COMP%]   .setting-value[_ngcontent-%COMP%]{font-weight:600}.item-card[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;padding:20px;border-radius:6px;box-shadow:0 1px 8px 2px rgba(var(--rgb-neutral-100),.1)}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.25rem;border-bottom:1px solid rgba(var(--rgb-neutral-100),.149)}.dashed-border-cell[_ngcontent-%COMP%]{border:1px dashed var(--neutral-80);border-radius:6px;justify-self:center;padding:3px 8px;margin-bottom:3px}.header-right-side[_ngcontent-%COMP%]{display:flex;align-self:center}.avatar[_ngcontent-%COMP%]{display:flex;background-color:transparent;text-align:left;width:unset}.avatar[_ngcontent-%COMP%]   .names[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:baseline}.dots-menu-btn[_ngcontent-%COMP%]{background-color:transparent;height:30px;width:30px}.names[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-name[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1;color:var(--primary-neutral-text)}.item-amount[_ngcontent-%COMP%]{font-weight:700}.item-full-name[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px;color:var(--secondary-neutral-text);font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:6.875rem}.icon-drop-menu-dots[_ngcontent-%COMP%]{color:var(--tertiary-neutral-text);font-size:1rem;font-weight:400}.row-title[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-weight:400}.row-content[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:400}.row-content-bold[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:700}button[_ngcontent-%COMP%]{outline:0}'],changeDetection:0}),a})();var j=c(74879),ad=c(18537),rd=c(52575),sd=c(91817),cd=c(51567),ld=c(98729),dd=c(88158),gd=c(50049);const pd=["search"],ud=["emptyState"];function md(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.selectParentCategory())}),t.nrm(1,"i",13),t.k0s()}}function hd(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.focusOnSearch())}),t.nrm(1,"i",15),t.k0s()}}function fd(e,a){if(1&e&&(t.j41(0,"span",16),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.JRh(t.i5U(2,1,"oneClickSearch",o.localizationKey))}}function _d(e,a){if(1&e){const o=t.RV6();t.j41(0,"input",17,18),t.bIt("blur",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.hideSearchBoxTimeout())}),t.nI1(2,"translate"),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("formControl",o.query)("placeholder",t.i5U(2,2,"oneClickSearch",o.localizationKey))}}function Cd(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.clearSearch())}),t.j41(1,"button",20),t.nrm(2,"i",21),t.k0s()()}}const bn=function(e,a){return{$implicit:e,index:a}};function vd(e,a){if(1&e&&t.eu8(0,25),2&e){const o=a.$implicit,n=a.index;t.XpG(3);const i=t.sdS(2);t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.l_i(2,bn,o,n))}}const ge=function(e){return{"open-up":e}};function bd(e,a){if(1&e&&(t.j41(0,"div",22)(1,"div",23),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,vd,1,5,"ng-container",24),t.k0s()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(5,ge,o.isResultsOpenUp)),t.R7$(2),t.SpI(" ",t.bMT(3,3,"searchAutocomplete.markets")," "),t.R7$(2),t.Y8G("ngForOf",o.markets)}}function yd(e,a){if(1&e&&(t.j41(0,"div",26)(1,"div",27),t.nrm(2,"div",28),t.j41(3,"div",29),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()),2&e){const o=t.XpG(2);t.Y8G("ngClass",t.eq3(4,ge,o.isNoResultsOpenUp)),t.R7$(4),t.SpI(" ",t.bMT(5,2,"searchAutocomplete.noResults")," ")}}function xd(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",34),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(4);return t.Njj(s.selectCategory(r))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()}if(2&e){const o=a.$implicit;t.R7$(2),t.SpI(" ",t.i5U(3,1,o.textKey,"watchlistAddToMarkets")," ")}}function Pd(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",34),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(5);return t.Njj(s.selectWatchlist(r))}),t.EFF(1),t.k0s()}if(2&e){const o=a.$implicit;t.R7$(1),t.SpI(" ",o.Name," ")}}function Md(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",35),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"section"),t.DNE(5,Pd,2,1,"div",36),t.k0s(),t.bVm()),2&e){const o=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,2,"sideMenu.watchList")),t.R7$(3),t.Y8G("ngForOf",o.watchlists)}}function kd(e,a){if(1&e&&(t.qex(0),t.j41(1,"section"),t.DNE(2,xd,4,4,"ng-container",33),t.k0s(),t.DNE(3,Md,6,4,"ng-container",32),t.bVm()),2&e){const o=t.XpG(3);t.R7$(2),t.Y8G("ngForOf",null==o.selectedCategory?null:o.selectedCategory.children),t.R7$(1),t.Y8G("ngIf",!o.isNotStartScreen&&o.watchlists)}}function Od(e,a){if(1&e&&t.eu8(0,25),2&e){const o=a.$implicit,n=a.index;t.XpG(4);const i=t.sdS(2);t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.l_i(2,bn,o,n))}}function wd(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",22),t.DNE(2,Od,1,5,"ng-container",24),t.k0s(),t.bVm()),2&e){const o=t.XpG(3);t.R7$(1),t.Y8G("ngClass",t.eq3(2,ge,o.isResultsOpenUp)),t.R7$(1),t.Y8G("ngForOf",o.selectedWatchlist?o.selectedWatchlist.Instruments:o.selectedCategoryInstruments)}}function Sd(e,a){if(1&e&&(t.j41(0,"div",30,31),t.DNE(2,kd,4,2,"ng-container",32),t.DNE(3,wd,3,4,"ng-container",32),t.k0s()),2&e){const o=t.XpG(2);t.R7$(2),t.Y8G("ngIf",o.selectedCategory.children.length>0&&!o.selectedWatchlist),t.R7$(1),t.Y8G("ngIf",o.selectedCategory&&0===(null==o.selectedCategory?null:o.selectedCategory.children.length)||o.selectedWatchlist)}}function Td(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",2)(1,"div",3),t.bIt("click",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.viewSearchBox(i))}),t.DNE(2,md,2,0,"button",4),t.DNE(3,hd,2,0,"button",5),t.DNE(4,fd,3,4,"span",6),t.DNE(5,_d,3,5,"input",7),t.DNE(6,Cd,3,0,"div",8),t.k0s(),t.DNE(7,bd,5,7,"div",9),t.DNE(8,yd,6,6,"div",10),t.DNE(9,Sd,4,2,"div",11),t.k0s()}if(2&e){const o=t.XpG();t.AVh("popup",o.isDialog),t.R7$(2),t.Y8G("ngIf",o.isDialog),t.R7$(1),t.Y8G("ngIf",!o.isDialog),t.R7$(1),t.Y8G("ngIf",!o.isDialog),t.R7$(1),t.Y8G("ngIf",o.isDialog||!o.isMobile),t.R7$(1),t.Y8G("ngIf",o.isSearchBoxVisible&&o.isDialog),t.R7$(1),t.Y8G("ngIf",o.isSearchBoxVisible&&o.markets&&o.markets.length),t.R7$(1),t.Y8G("ngIf",o.isSearchBoxVisible&&o.isNoResults),t.R7$(1),t.Y8G("ngIf",o.isDialog&&(!o.markets||!o.markets.length)&&!o.isNoResults)}}function Id(e,a){1&e&&t.nrm(0,"i",46)}function Rd(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",37),t.bIt("mouseenter",function(){const r=t.eBV(o).index,s=t.XpG();return t.Njj(s.highlightInstrument(r))})("click",function(){const i=t.eBV(o),r=i.index,s=i.$implicit,l=t.XpG();return l.highlightInstrument(r),t.Njj(l.selectInstrument(s))}),t.j41(1,"div",38)(2,"div",39),t.nrm(3,"img",40),t.k0s(),t.j41(4,"div",41)(5,"div",42),t.EFF(6),t.k0s(),t.j41(7,"div",43),t.EFF(8),t.k0s()()(),t.j41(9,"div",44),t.DNE(10,Id,1,0,"i",45),t.k0s()()}if(2&e){const o=a.$implicit,n=a.index,i=t.XpG();t.AVh("active",i.selectedIndex===n),t.R7$(3),t.Y8G("src",o.Avatars.default,t.B4B)("alt",o.Name),t.R7$(3),t.SpI(" ",o.Name," "),t.R7$(2),t.JRh(o.fullName),t.R7$(2),t.Y8G("ngIf",i.isInstrumentSelected(o))}}let Ad=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u){this.searchService=n,this.watchlistService=i,this.cd=r,this.config=s,this.uiBreakPoints=l,this.dialogService=g,this.data=p,this.instrumentsGroupsFactory=u,this.instrumentSelected=new t.bkB,this.addMarketsClosed=new t.bkB,this.selectedIndex=0,this.isSearchBoxVisible=!1,this.isDialog=!1,this.isMobile=!1,this.isDialogOpen=!1,this.isNoResults=!1,this.query=new C.hs(""),this.subscriptions=[],this.localizationKey="settingsTrade",this.selectedCategoryInstruments=[],this.instrumentsGroupsFactory.init().then(_=>{this.categories=_,this.selectedCategory=_,this.cd.markForCheck(),this.selectedCategory.children.sort((b,O)=>b.textKey.toUpperCase()<O.textKey.toUpperCase()?-1:1)}),this.config.dynamics.apisMaintenance.watchlist||this.watchlistService.init().then(_=>{this.watchlists=_.filter(b=>b.Instruments.length>0)}).catch(()=>{}),this.isMobile=this.uiBreakPoints.isMobile}ngOnInit(){const n=this.query.valueChanges.pipe((0,rd.B)(300),(0,sd.F)()).subscribe(r=>this.search(r));this.isDialog=this.data&&this.data.isDialog,this.data&&this.data.selectedMarkets&&(this.selectedMarkets=this.data.selectedMarkets);const i=(0,ad.R)(window,"keydown").pipe((0,cd.p)(r=>[j.wn,j.Fm,j._f,j.i7,j.LE,j.n6].includes(r.keyCode))).subscribe(r=>this.handleKeyDown(r));this.subscriptions.push(n,i)}ngOnChanges(n){this.dialogRef&&(this.dialogRef.componentInstance.selectedMarkets=n.selectedMarkets.currentValue,this.dialogRef.componentInstance.cd.markForCheck())}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}handleKeyDown(n){if(!this.markets||!this.markets.length)return;const i=this.selectedIndex;switch(n.keyCode){case j.Fm:case j.wn:case j.LE:n.preventDefault(),this.selectInstrument(this.markets[i]);break;case j._f:this.hideSearchBox();break;case j.n6:n.preventDefault(),this.selectedIndex=(i+1)%this.markets.length;break;case j.i7:n.preventDefault(),this.selectedIndex=(i-1+this.markets.length)%this.markets.length}this.cd.markForCheck()}search(n){if(this.isSearchBoxVisible=!0,!n.trim())return this.isSearchBoxVisible=!1,this.markets=[],this.isNoResults=!1,void this.cd.markForCheck();this.searchService.query(n,5,5).subscribe({next:({instruments:i})=>{this.selectedWatchlist=null,this.selectedCategory=this.categories,n===this.query.value&&(this.markets=i,this.isNoResults=0===i.length,this.cd.markForCheck())},error:()=>{},complete:()=>{}})}focusOnSearch(){setTimeout(()=>{this.searchElement&&this.searchElement.nativeElement.focus()},0)}selectInstrument(n){this.instrumentSelected.emit(n),this.query.setValue("")}isInstrumentSelected(n){return this.selectedMarkets.some(i=>+i.instrumentId===n.InstrumentID)}viewSearchBox(n){this.uiBreakPoints.isMobile&&!this.isDialog&&!this.isDialogOpen&&this.showDialog(n),this.uiBreakPoints.isMobile||(this.isSearchBoxVisible=!0)}showDialog(n){n.stopPropagation&&n.stopPropagation(),this.dialogRef=this.dialogService.open(a,{data:{isDialog:!0,selectedMarkets:this.selectedMarkets}}),this.isDialogOpen=!0;const i=this.dialogRef.componentInstance.instrumentSelected.subscribe(r=>{r&&this.instrumentSelected.emit(r),this.dialogRef.close(),i.unsubscribe(),this.isDialogOpen=!1,this.dialogRef=null})}hideSearchBox(){this.uiBreakPoints.isMobile||(this.isSearchBoxVisible=!1,this.cd.markForCheck())}hideSearchBoxTimeout(){this.isDialog||setTimeout(()=>this.hideSearchBox(),150)}highlightInstrument(n){this.isDialog||(this.selectedIndex=n,this.cd.detectChanges())}clearSearch(){this.query.setValue(""),this.focusOnSearch(),this.isSearchBoxVisible=!1}selectCategory(n){var i=this;return(0,v.A)(function*(){if(i.selectedCategoryInstruments=[],i.selectedWatchlist=null,i.selectedCategory=n,i.selectedCategory.children.sort((r,s)=>r.textKey.toUpperCase()<s.textKey.toUpperCase()?-1:1),!i.selectedCategory.children.length){const r=yield i.instrumentsGroupsFactory.getCategoryInstruments(n);null!=r&&r.length?i.selectedCategoryInstruments=r:i.isNoResults=!0}i._scrollToTop()})()}selectWatchlist(n){this.selectedWatchlist=n,this._scrollToTop()}selectParentCategory(){if(this.isNotStartScreen)return this.isSearchBoxVisible?(this.selectedCategory=this.categories,this.isSearchBoxVisible=!1,this.query.setValue(""),void this._scrollToTop()):(this.selectedCategory&&this.selectedCategory.parent&&(this.selectedCategory=this.selectedCategory.parent,this.selectedCategory.children.sort((n,i)=>n.textKey.toUpperCase()<i.textKey.toUpperCase()?-1:1)),this._scrollToTop(),void(this.selectedWatchlist=null));this.instrumentSelected.emit()}_scrollToTop(){setTimeout(()=>{this.categoriesWrapperElement&&(this.categoriesWrapperElement.nativeElement.scrollTop=0)},0)}_isSearchToBottomSmaller(n){const i=this.searchElement&&this.searchElement.nativeElement.getBoundingClientRect().bottom||0;return window.innerHeight-i<n}get isNotStartScreen(){return this.isSearchBoxVisible||!!this.selectedCategory&&!!this.selectedCategory.parent||!!this.selectedWatchlist}get isResultsOpenUp(){return!(!this.markets||!this.searchElement)&&this._isSearchToBottomSmaller(38+69*this.markets.length)}get isNoResultsOpenUp(){return this._isSearchToBottomSmaller(300)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(ld.S),t.rXU(gd.PW),t.rXU(t.gRc),t.rXU(y.R),t.rXU(E.M),t.rXU(R.o3),t.rXU(R.Qs,8),t.rXU(dd.U))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-market-autocomplete"]],viewQuery:function(n,i){if(1&n&&(t.GBs(pd,5),t.GBs(ud,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.searchElement=r.first),t.mGM(r=t.lsd())&&(i.categoriesWrapperElement=r.first)}},inputs:{selectedMarkets:"selectedMarkets"},outputs:{instrumentSelected:"instrumentSelected",addMarketsClosed:"addMarketsClosed"},features:[t.OA$],decls:3,vars:1,consts:[["class","market-autocomplete-wrapper",3,"popup",4,"ngIf"],["instrumentTemplate",""],[1,"market-autocomplete-wrapper"],[1,"dialog-header",3,"click"],["class","back-btn",3,"click",4,"ngIf"],["class","search-btn","automation-id","settings-trading-icon-one-click",3,"click",4,"ngIf"],["class","search-input-text",4,"ngIf"],["automation-id","settings-trading-input-one-click","type","text",3,"formControl","placeholder","blur",4,"ngIf"],["class","clear-btn-wrapper et-margin-end-s",3,"click",4,"ngIf"],["class","search-results",3,"ngClass",4,"ngIf"],["class","search-results no-border",3,"ngClass",4,"ngIf"],["class","empty-state-autocomplete",4,"ngIf"],[1,"back-btn",3,"click"],[1,"icon-arrow-left"],["automation-id","settings-trading-icon-one-click",1,"search-btn",3,"click"],[1,"et-search-icon"],[1,"search-input-text"],["automation-id","settings-trading-input-one-click","type","text",3,"formControl","placeholder","blur"],["search",""],[1,"clear-btn-wrapper","et-margin-end-s",3,"click"],[1,"clear-btn"],["automation-id","close-dialog-btn",1,"icon-add-item"],[1,"search-results",3,"ngClass"],[1,"search-results-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"search-results","no-border",3,"ngClass"],[1,"search-result-empty"],[1,"no-results-icon"],[1,"no-results-text"],[1,"empty-state-autocomplete"],["emptyState",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-container","category",3,"click"],[1,"et-h2","watchlists-title"],["class","item-container category",3,"click",4,"ngFor","ngForOf"],["automation-id","autocomplete-dropdown-line",1,"item-container",3,"mouseenter","click"],[1,"instrument-info"],[1,"search-result-avatar-container"],[1,"et-avatar","et-avatar-m",3,"src","alt"],[1,"search-result-name","et-margin-start-s"],["automation-id","autocomplete-dropdown-line",1,"search-result-name-symbol"],[1,"search-result-name-full"],[1,"search-result-button-container"],["class","icon-add-item-success",4,"ngIf"],[1,"icon-add-item-success"]],template:function(n,i){1&n&&(t.DNE(0,Td,10,10,"div",0),t.DNE(1,Rd,11,7,"ng-template",null,1,t.C5r)),2&n&&t.Y8G("ngIf",i.categories||!i.isDialog)},dependencies:[d.YU,d.Sq,d.bT,d.T3,C.me,C.BC,C.l_,h.D],styles:['.dialog-header[_ngcontent-%COMP%]{height:50px;width:100%;display:flex;justify-content:flex-start;align-items:center;border-bottom:1px solid rgba(151,151,151,.251);position:relative}input[_ngcontent-%COMP%]{background-color:transparent;font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.125rem;letter-spacing:-.35px;font-weight:400;color:var(--primary-neutral-text);width:100%;border:none;flex:1}input[_ngcontent-%COMP%]::placeholder, .search-input-text[_ngcontent-%COMP%]{font-weight:300;color:var(--tertiary-neutral-text);letter-spacing:-.23px}@media (min-width: 768px){.search-input-text[_ngcontent-%COMP%]{display:none}}.market-autocomplete-wrapper[_ngcontent-%COMP%]{position:relative}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]{display:block;width:100vw;height:100%;background-color:var(--neutral-secondary-bg)}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px;overflow-x:hidden;text-overflow:ellipsis;position:relative;width:unset;height:100%}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px;opacity:.5}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .empty-state-autocomplete[_ngcontent-%COMP%]{height:calc(100% - 60px);width:100%;display:flex;flex-direction:column;overflow-y:auto;background-color:var(--neutral-secondary-bg)}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{position:static;border-bottom:1px solid var(--secondary-divider)}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .search-results.no-border[_ngcontent-%COMP%]{border:none}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .search-results-header[_ngcontent-%COMP%]{display:none}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{box-shadow:0 0 3px 1px rgba(var(--rgb-neutral-100),.1);border-bottom:none;height:60px}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{padding:15px 25px;margin:0}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .item-container.category[_ngcontent-%COMP%]{padding:20px 0;margin:0 20px;font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px;line-height:normal;letter-spacing:-.55px;font-weight:300;text-transform:capitalize}@media (max-width: 767px){.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .item-container[_ngcontent-%COMP%]{height:71px}}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%], .market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%], .market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);display:flex}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{font-size:1.225rem;color:var(--tertiary-neutral-text)}.market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{padding-top:6px}.item-container[_ngcontent-%COMP%]{padding:10px 20px;display:flex;justify-content:space-between;align-items:center;cursor:pointer}@media (min-width: 1025px){.item-container[_ngcontent-%COMP%]:hover{background-color:var(--tertiary-divider)}}@media (max-width: 767px){.item-container[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--secondary-divider)}}.item-container[_ngcontent-%COMP%]   .search-result-name-symbol[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1rem;letter-spacing:-.3px;font-weight:700;line-height:1.25rem}.item-container[_ngcontent-%COMP%]   .search-result-name-full[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.875rem;letter-spacing:-.25px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:170px;font-weight:300;color:var(--secondary-neutral-text)}@media (max-width: 767px){.item-container[_ngcontent-%COMP%]   .search-result-name-full[_ngcontent-%COMP%]{max-width:10rem}}.watchlists-title[_ngcontent-%COMP%]{margin:25px 0 10px 20px}.icon-add-item[_ngcontent-%COMP%]{transform:rotate(45deg)}.back-btn[_ngcontent-%COMP%], .search-btn[_ngcontent-%COMP%], .clear-btn[_ngcontent-%COMP%], .clear-btn-wrapper[_ngcontent-%COMP%]{outline:none;display:flex;justify-content:center;align-items:center;background-color:transparent;height:60px;width:55px;font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.125rem;letter-spacing:-.35px;z-index:99}.back-btn[_ngcontent-%COMP%], .clear-btn[_ngcontent-%COMP%]{display:none}.search-btn[_ngcontent-%COMP%]{color:var(--tertiary-neutral-text);padding-top:6px}.clear-btn[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;height:30px;width:30px}.search-result-button-container[_ngcontent-%COMP%]{font-size:1.9rem}.icon-add-item-success[_ngcontent-%COMP%]{color:#6aac0e}.instrument-info[_ngcontent-%COMP%]{display:flex;align-items:center}.search-results[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:100;top:calc(100% + 5px)}.search-results-header[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;font-weight:700;padding:20px 20px 12px;text-transform:uppercase}@media (min-width: 768px){.search-results.active[_ngcontent-%COMP%]{background-color:var(--secondary-100);border-color:var(--secondary-100);color:var(--neutral-secondary-bg)}}@media (min-width: 768px){.search-results[_ngcontent-%COMP%]{box-shadow:0 3px 10px 4px rgba(var(--rgb-neutral-100),7);background-color:var(--neutral-tertiary-bg);border-radius:6px;padding-bottom:20px}}.search-results[_ngcontent-%COMP%]   .search-result-empty[_ngcontent-%COMP%]{padding:10px;background-color:var(--neutral-secondary-bg);display:flex;align-items:center;justify-content:center;flex-direction:column;height:300px}.search-results[_ngcontent-%COMP%]   .search-result-empty[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{margin:0 1.5rem 1.25rem 0;background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/search/no-search-results-icon.svg);width:130px;height:120px;background-size:cover}.search-results[_ngcontent-%COMP%]   .search-result-empty[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:1.375rem;letter-spacing:-.35px;font-weight:700}@media (max-width: 767px){.search-results[_ngcontent-%COMP%]   .search-result-empty[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{font-weight:600}}@media (min-width: 768px){.dark-mode[_nghost-%COMP%]   .search-results[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-results[_ngcontent-%COMP%]{box-shadow:none}}.rtl-direction[_nghost-%COMP%]   .market-autocomplete-wrapper[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .market-autocomplete-wrapper[_ngcontent-%COMP%]{direction:rtl}.rtl-direction[_nghost-%COMP%]   .market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .market-autocomplete-wrapper.popup[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{left:0;right:unset}.rtl-direction[_nghost-%COMP%]   .watchlists-title[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .watchlists-title[_ngcontent-%COMP%]{margin:25px 20px 10px 0}.rtl-direction[_nghost-%COMP%]   .search-btn[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .search-btn[_ngcontent-%COMP%], .rtl-direction[_nghost-%COMP%]   .back-btn[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .back-btn[_ngcontent-%COMP%]{right:0;left:unset}.rtl-direction[_nghost-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]:before, .rtl-direction   [_nghost-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e905"}@media (max-width: 767px){[_nghost-%COMP%]{height:100%;overflow-y:hidden}.search-results-header[_ngcontent-%COMP%]{display:none}}'],changeDetection:0}),a})();function Fd(e,a){if(1&e&&(t.j41(0,"div",5),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=t.XpG();t.R7$(1),t.SpI(" ",t.i5U(2,1,"oneClickTradingSearchDescriptionOff",o.localizationKey)," ")}}function Ed(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-one-click-trading-items",10),t.bIt("onEdit",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.editOneClickTradingSettings(i))})("onDelete",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.removeItem(i))}),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("items",o.items)}}function Dd(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-one-click-trading-items-mobile",10),t.bIt("onEdit",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.editOneClickTradingSettings(i))})("onDelete",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.removeItem(i))}),t.k0s()}if(2&e){const o=t.XpG(2);t.Y8G("items",o.items)}}function Ud(e,a){if(1&e){const o=t.RV6();t.j41(0,"section",6)(1,"div",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",7)(5,"et-market-autocomplete",8),t.bIt("instrumentSelected",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.toggleItem(i))}),t.k0s()(),t.DNE(6,Ed,1,1,"et-one-click-trading-items",9),t.DNE(7,Dd,1,1,"et-one-click-trading-items-mobile",9),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("@inOutAnimation",void 0),t.R7$(2),t.JRh(t.i5U(3,5,"oneClickTradingSearchDescriptionOn",o.localizationKey)),t.R7$(3),t.Y8G("selectedMarkets",o.items),t.R7$(1),t.Y8G("ngIf",!o.isMobile),t.R7$(1),t.Y8G("ngIf",o.isMobile)}}let yn=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u){this.cd=n,this.oneClickTradingService=i,this.dialogService=r,this.breakpointService=s,this.instrumentFactory=l,this.loaderService=g,this.notificationService=p,this.localizeService=u,this.localizationKey="settingsTrade",this.isOneClickTradingEnabled=this.oneClickTradingService.isEnabled(),this.refreshInstruments()}ngOnInit(){this.refreshInstruments(),this.isMobile=this.breakpointService.isMobile}setOneClickTradingMode(n){this.oneClickTradingService.setStatus(n),this.isOneClickTradingEnabled=n,this.oneClickTradingService.handleOneClickTradingMode(n,this.items)}editOneClickTradingSettings(n){var i=this;return(0,v.A)(function*(){try{i.loaderService.show(),yield i.instrumentFactory.getPrivateInstrument(n)}catch{}finally{i.loaderService.hide(),i.dialogService.open(Kl,{data:{instrument:n},disableAnimation:!0}).afterClosed().subscribe(()=>{i.refreshInstruments(),i.cd.detectChanges()})}})()}removeItem(n){this.oneClickTradingService.removeItem(n,this.items),this.refreshInstruments()}toggleItem(n){if(this.items.some(i=>+i.instrumentId===n.InstrumentID))this.oneClickTradingService.removeInstrument(n,this.items),this.refreshInstruments();else{if(n.AmountFormula===hl.ti.FixPricePerLot)return void this.notificationService.notifyFail(this.localizeService.getResource("trading.futures.octAddError"));n.RestrictedManualOpen?this.showRestrictionPopup():this.oneClickTradingService.addOrUpdateInstrument(n,void 0,this.items).then(()=>this.refreshInstruments())}}showRestrictionPopup(){const n=this.dialogService.open(ml,{data:{type:"instrument"}});n.componentInstance.onClose.pipe((0,Re.$)()).subscribe(()=>n.close())}refreshInstruments(){this.items=this.getOneClickInstruments(),this.cd.markForCheck()}getOneClickInstruments(){const n=this.oneClickTradingService.getAllInstruments();return Object.keys(n).map(i=>n[i])}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(t.gRc),t.rXU(fn.R),t.rXU(R.o3),t.rXU(E.M),t.rXU(Jl.L),t.rXU(ht.Z),t.rXU(Zt.I2),t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-one-click-trading"]],decls:7,vars:7,consts:[["automation-id","settings-trading-button-title-one-click",1,"settings-question"],[1,"text"],["automation-id","settings-trading-buttons-one-click",3,"checked","change"],["automation-id","settings-trading-top-title-one-click","class","search-description",4,"ngIf"],["class","one-click-enable",4,"ngIf"],["automation-id","settings-trading-top-title-one-click",1,"search-description"],[1,"one-click-enable"],[1,"one-click-trading-search-wrapper"],[3,"selectedMarkets","instrumentSelected"],[3,"items","onEdit","onDelete",4,"ngIf"],[3,"items","onEdit","onDelete"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"span",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-toggle-button",2),t.bIt("change",function(s){return i.setOneClickTradingMode(s.checked)}),t.k0s()(),t.DNE(5,Fd,3,4,"div",3),t.DNE(6,Ud,8,8,"section",4)),2&n&&(t.R7$(2),t.JRh(t.i5U(3,4,"enableOneClickTrading",i.localizationKey)),t.R7$(2),t.Y8G("checked",i.isOneClickTradingEnabled),t.R7$(1),t.Y8G("ngIf",!i.isOneClickTradingEnabled),t.R7$(1),t.Y8G("ngIf",i.isOneClickTradingEnabled))},dependencies:[d.bT,nt.o,ed,od,Ad,h.D],styles:[".basic-card-view[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg);border-top:1px solid var(--static-neutral-40);box-shadow:0 1px 1px 0 rgba(var(--rgb-neutral-100),.2)}.popup-text[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:14px;font-weight:400}.popup-title[_ngcontent-%COMP%]{color:var(--primary-neutral-text);font-weight:700;font-size:16px}.popup-title-small[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:400}.basic-title-small[_ngcontent-%COMP%]{color:var(--secondary-neutral-text);font-size:12px;text-transform:uppercase}.mobile-scrolling[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.settings-question[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.settings-question[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{max-width:55%}@media (max-width: 767px){.settings-question[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{max-width:75%}}.one-click-trading-search-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:2.375rem;display:flex;align-items:flex-end}@media (max-width: 767px){.one-click-trading-search-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5625rem}}.search-description[_ngcontent-%COMP%]{margin-bottom:2rem;width:80%}@media (max-width: 767px){.search-description[_ngcontent-%COMP%]{width:100%}}.et-button[_ngcontent-%COMP%]{padding:8px 10px;margin-inline-start:10px}@media (max-width: 767px){.et-button[_ngcontent-%COMP%]{display:none}}et-market-autocomplete[_ngcontent-%COMP%]{display:block;flex:1}.settings-switch-btn[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],data:{animation:[(0,f.hZ)("inOutAnimation",[(0,f.kY)(":enter",[(0,f.iF)({opacity:0}),(0,f.i0)("0.4s ease-out",(0,f.iF)({opacity:1}))]),(0,f.kY)(":leave",[(0,f.iF)({opacity:1}),(0,f.i0)("0.3s ease-in",(0,f.iF)({opacity:0}))])])]},changeDetection:0}),a})();var Ut=c(83889),$d=c(66330),Gd=c(22308),xn=c(53097);let Pn=(()=>{var e;class a{constructor(n,i){this.authService=n,this.http=i}setStatus(n){return this.http.put(`/sapi/kyc/api/v1/apexAccount/users/${this.authService.user.gcid}/instructions`,n)}getInstructions(){return this.http.get(`/sapi/kyc/api/v1/apexAccount/users/${this.authService.user.gcid}/instructions`)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(U.u),t.KVO(Z.Qq))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();function Bd(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-select-body-option",3),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG();return t.Njj(s.setViewMode(r))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG();t.Y8G("selected",o===n.viewModeSelectedOption),t.R7$(1),t.SpI(" ",t.i5U(2,2,o+"V2",n.localizationKey)," ")}}let Vd=(()=>{var e;class a{constructor(n,i){this.viewModeService=n,this.$analytics=i,this.onSelect=new t.bkB,this.localizationKey="viewMode",this.viewModeSelectedOption=this.viewModeService.getCurrentMode(),this.viewModeAvailableOptions=this.viewModeService.getViewModeAvailableOption()}ngOnInit(){this.onSelect.emit(this.viewModeSelectedOption===Ut.L.INVESTING)}setViewMode(n){this.viewModeSelectedOption=n,this.onSelect.emit(this.viewModeSelectedOption===Ut.L.INVESTING),this.viewModeService.updateViewModeBySelectedOption(this.viewModeSelectedOption),this.$analytics.eventTrack("Settings - Trading - view mode",{"view mode":Ut.T[n]})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Ut.T),t.rXU(k.c))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-trading-view-mode"]],outputs:{onSelect:"onSelect"},decls:7,vars:5,consts:[["data-etoro-automation-id","ui-mode-drop-down-conatiner"],["data-etoro-automation-id","ui-mode-drop-down-selected",1,"et-font-xl"],["data-etoro-automation-id","ui-mode-drop-down-option",3,"selected","click",4,"ngFor","ngForOf"],["data-etoro-automation-id","ui-mode-drop-down-option",3,"selected","click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"et-select")(2,"et-select-header",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"et-select-body"),t.DNE(6,Bd,3,5,"et-select-body-option",2),t.k0s()()()),2&n&&(t.R7$(3),t.SpI(" ",t.i5U(4,2,i.viewModeSelectedOption+"V2",i.localizationKey)," "),t.R7$(3),t.Y8G("ngForOf",i.viewModeAvailableOptions))},dependencies:[d.Sq,m.wB,m.ms,m.Bj,m.XM,h.D]}),a})();function Nd(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const o=a.$implicit;t.R7$(1),t.JRh(o)}}function Xd(e,a){if(1&e){const o=t.RV6();t.j41(0,"span",15),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(3);return t.Njj(s.selectDate(r))}),t.EFF(1),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG(3);t.AVh("disabled",0===o||n.isDateDisabled(o)),t.R7$(1),t.SpI(" ",o>0?o:""," ")}}function Ld(e,a){if(1&e&&(t.j41(0,"div",13),t.DNE(1,Xd,2,3,"span",14),t.k0s()),2&e){const o=a.$implicit;t.R7$(1),t.Y8G("ngForOf",o)}}const Yd=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function Hd(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"button",7),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.previousMonth())}),t.EFF(3,"<"),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s(),t.j41(6,"button",7),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.nextMonth())}),t.EFF(7,">"),t.k0s()(),t.j41(8,"div",8)(9,"div",9),t.DNE(10,Nd,2,1,"span",10),t.k0s(),t.j41(11,"div",11),t.DNE(12,Ld,2,1,"div",12),t.k0s()()()}if(2&e){const o=t.XpG();t.Y8G("@calendarAnimation",void 0),t.R7$(5),t.Lme("",o.getMonthName(o.displayMonth)," ",o.displayYear,""),t.R7$(5),t.Y8G("ngForOf",t.lJ4(5,Yd)),t.R7$(2),t.Y8G("ngForOf",o.weeks)}}let zd=(()=>{var e;class a{constructor(){this.showCalendar=!1,this.selectedDate=null,this.currentDate=new Date,this.weeks=[],this.apiKeysService=(0,t.WQX)(pt),this.displayMonth=this.currentDate.getMonth(),this.displayYear=this.currentDate.getFullYear()}ngOnInit(){this.generateCalendar()}selectDate(n){if(n>0){const i=new Date(this.displayYear,this.displayMonth,n);if(i>=this.currentDate){this.selectedDate=i;const r=i.toISOString();this.apiKeysService.setExpirationDate(r),this.showCalendar=!1}}}nextMonth(){11===this.displayMonth?(this.displayMonth=0,this.displayYear++):this.displayMonth++,this.generateCalendar()}previousMonth(){0===this.displayMonth?(this.displayMonth=11,this.displayYear--):this.displayMonth--,this.generateCalendar()}toggleCalendar(){this.showCalendar=!this.showCalendar}getMonthName(n){return new Date(this.displayYear,n,1).toLocaleString("default",{month:"long"})}isDateDisabled(n){return 0===n||new Date(this.displayYear,this.displayMonth,n)<this.currentDate}generateCalendar(){const n=new Date(this.displayYear,this.displayMonth,1).getDay(),i=new Date(this.displayYear,this.displayMonth+1,0).getDate();let r=1-n;this.weeks=[];for(let s=0;s<6;s++){const l=[];for(let g=0;g<7;g++)l.push(r>0&&r<=i?r:0),r++;this.weeks.push(l)}}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-date-picker"]],decls:8,vars:5,consts:[[1,"date-picker-wrapper"],["etsEndInputSlot","",1,"ets-icon-calendar",3,"click"],["etInputField","","disabled","",3,"value"],["etsLabelInputSlot",""],["class","calendar-container ets-main-bg",4,"ngIf"],[1,"calendar-container","ets-main-bg"],[1,"calendar-header"],[3,"click"],[1,"calendar-body"],[1,"day-names"],[4,"ngFor","ngForOf"],[1,"weeks"],["class","week",4,"ngFor","ngForOf"],[1,"week"],["class","day",3,"disabled","click",4,"ngFor","ngForOf"],[1,"day",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"ets-input")(2,"div",1),t.bIt("click",function(){return i.toggleCalendar()}),t.k0s(),t.nrm(3,"input",2),t.nI1(4,"date"),t.j41(5,"label",3),t.EFF(6,"Expiration Date"),t.k0s()(),t.DNE(7,Hd,13,6,"div",4),t.k0s()),2&n&&(t.R7$(3),t.Y8G("value",i.selectedDate?t.i5U(4,2,i.selectedDate,"MM/dd/yyyy"):""),t.R7$(4),t.Y8G("ngIf",i.showCalendar))},dependencies:[d.Sq,d.bT,m.Sj,m.VT,m.C,m.Gg,zt.a,d.vh],styles:[".date-picker-wrapper[_ngcontent-%COMP%]{position:relative}.calendar-container[_ngcontent-%COMP%]{position:absolute;border:1px solid var(--tertiary-neutral-text);border-radius:8px;padding:10px;z-index:1000}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.calendar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:1.2em}.calendar-body[_ngcontent-%COMP%]   .day-names[_ngcontent-%COMP%], .calendar-body[_ngcontent-%COMP%]   .week[_ngcontent-%COMP%]{display:flex}.day-names[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .week[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center;padding:5px}.week[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%;transition:background .3s}.week[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:#f0f0f0}.week[_ngcontent-%COMP%]   span.disabled[_ngcontent-%COMP%]{color:#ccc;pointer-events:none}"],data:{animation:[(0,f.hZ)("calendarAnimation",[(0,f.kY)(":enter",[(0,f.iF)({opacity:0,transform:"scale(0.9)"}),(0,f.i0)("200ms ease-out",(0,f.iF)({opacity:1,transform:"scale(1)"}))]),(0,f.kY)(":leave",[(0,f.i0)("200ms ease-in",(0,f.iF)({opacity:0,transform:"scale(0.9)"}))])])]},changeDetection:0}),a})();const Kd=["scrollTarget"];function Jd(e,a){1&e&&(t.j41(0,"div")(1,"small",9),t.EFF(2,"Key Name is required."),t.k0s()())}function Wd(e,a){if(1&e&&(t.j41(0,"div",5),t.nI1(1,"async"),t.j41(2,"ets-input"),t.nrm(3,"input",6),t.j41(4,"label",7),t.EFF(5,"Key Name"),t.k0s()(),t.DNE(6,Jd,3,0,"div",8),t.nrm(7,"et-date-picker"),t.k0s()),2&e){const o=t.XpG();t.Y8G("@slideAnimation",t.bMT(1,2,o.isCreationFormShown$)?"active":"inactive"),t.R7$(6),t.Y8G("ngIf",o.keyForm.get("keyName").touched&&o.keyForm.get("keyName").invalid)}}function qd(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.createNewKey())}),t.nI1(1,"async"),t.EFF(2," Create Key "),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("@slideAnimation",!1===t.bMT(1,1,o.isCreationFormShown$)?"active":"inactive")}}function Qd(e,a){if(1&e&&(t.j41(0,"button",11,12),t.nI1(2,"async"),t.EFF(3," Generate Key "),t.k0s()),2&e){const o=t.XpG();t.Y8G("@slideAnimation",t.bMT(2,1,o.isCreationFormShown$)?"active":"inactive")}}function Zd(e,a){if(1&e&&(t.j41(0,"span",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e){const o=a.ngIf;t.R7$(1),t.SpI(" ",t.bMT(2,1,o)," ")}}let tg=(()=>{var e;class a{constructor(){this.keys$=new M.t([]),this.isCreationFormShown$=new M.t(!1),this.isTradeScopeChecked$=new M.t(!1),this.isDepositScopeChecked$=new M.t(!1),this.isWithdrawScopeChecked$=new M.t(!1),this.isFeedScopeChecked$=new M.t(!1),this.showCreateForm=!1,this.fb=(0,t.WQX)(C.ok),this.apiKeysService=(0,t.WQX)(pt)}ngOnInit(){this.getAllKeys(),this.initializeForm(),this.errorCode$=this.apiKeysService.error$}toggleForm(){this.showCreateForm=!this.showCreateForm,this.showCreateForm||this.keyForm.reset()}onSubmit(){this.keyForm.valid?(this.generateKey(this.keyForm.value.keyName,this.keyForm.value.externalAppName,this.keyForm.value.trade,this.keyForm.value.deposit,this.keyForm.value.withdraw,this.keyForm.value.feed,this.keyForm.value.ipsWhitelist),this.showCreateForm=!1,this.keyForm.reset()):this.keyForm.markAllAsTouched()}createNewKey(){this.isCreationFormShown$.next(!0)}checkScope(n){this.keyForm.get(n).setValue(this.keyForm.get(n).value),this.isTradeScopeChecked$.next(this.keyForm.get("trade").value),this.isDepositScopeChecked$.next(this.keyForm.get("deposit").value),this.isWithdrawScopeChecked$.next(this.keyForm.get("withdraw").value),this.isFeedScopeChecked$.next(this.keyForm.get("feed").value)}generateKey(n,i,r,s,l,g,p){const u=[],_=[];if(r&&u.push("Trade"),s&&u.push("Deposit"),l&&u.push("Withdraw"),g&&u.push("Feed"),p&&p.length>0){const b=p.split(",").map(O=>O.trim());_.push(...b)}this.apiKeysService.generateKey(n,i,u,_)}getAllKeys(){this.apiKeysService.getAllKeys()}ipValidator(n){return n.value?/^\s*((25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3})(\s*,\s*((25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}))*\s*$/.test(n.value)?null:{invalidIP:!0}:null}initializeForm(){this.keyForm=this.fb.group({keyName:["",C.k0.required],ipsWhitelist:["",this.ipValidator],trade:[!1],deposit:[!1],withdraw:[!1],feed:[!1]})}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-key-generation"]],viewQuery:function(n,i){if(1&n&&t.GBs(Kd,5),2&n){let r;t.mGM(r=t.lsd())&&(i.scrollTarget=r.first)}},decls:9,vars:13,consts:[[1,"public-key-container",3,"formGroup","ngSubmit"],["class","form-container",4,"ngIf"],["class","ets-button-basic ets-button-big ets-button-tertiary","type","button",3,"click",4,"ngIf"],["class","ets-button-basic ets-button-big ets-button-primary","type","submit",4,"ngIf"],["class","error",4,"ngIf"],[1,"form-container"],["etInputField","","formControlName","keyName"],["etsLabelInputSlot",""],[4,"ngIf"],[1,"error"],["type","button",1,"ets-button-basic","ets-button-big","ets-button-tertiary",3,"click"],["type","submit",1,"ets-button-basic","ets-button-big","ets-button-primary"],["scrollTarget",""]],template:function(n,i){1&n&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.DNE(1,Wd,8,4,"div",1),t.nI1(2,"async"),t.DNE(3,qd,3,3,"button",2),t.nI1(4,"async"),t.DNE(5,Qd,4,3,"button",3),t.nI1(6,"async"),t.DNE(7,Zd,3,3,"span",4),t.nI1(8,"async"),t.k0s()),2&n&&(t.Y8G("formGroup",i.keyForm),t.R7$(1),t.Y8G("ngIf",t.bMT(2,5,i.isCreationFormShown$)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(4,7,i.isCreationFormShown$)),t.R7$(2),t.Y8G("ngIf",!0===t.bMT(6,9,i.isCreationFormShown$)),t.R7$(2),t.Y8G("ngIf",t.bMT(8,11,i.errorCode$)))},dependencies:[d.bT,C.qT,C.me,C.BC,C.cb,C.j4,C.JD,m.Sj,m.C,m.Gg,zt.a,zd,d.Jj,h.D],styles:[".public-key-container[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:40px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}button[_ngcontent-%COMP%]{margin-top:20px}"],data:{animation:[ke,Li,Yi]},changeDetection:0}),a})();function eg(e,a){1&e&&t.nrm(0,"span",6)}function ng(e,a){1&e&&t.nrm(0,"span",7)}let ig=(()=>{var e;class a{constructor(){this.isKeyVisible$=new M.t(!1),this.apiKeysService=(0,t.WQX)(pt),this.uiBreakpointsService=(0,t.WQX)(m.MB)}get isMobile(){return this.uiBreakpointsService.isMobile}ngOnInit(){this.publicKey$=this.apiKeysService.unregisteredAppKey$}toggleKeyVisibility(){this.isKeyVisible$.next(!this.isKeyVisible$.value)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-public-key"]],decls:12,vars:16,consts:[[1,"public-key-container"],[1,"input-row-ph","rtl-responsive"],["etInputField","","disabled","",3,"type","value"],["type","button","automation-id","toggle-key-btn","aria-label","Toggle Key Visibility",1,"toggle-key","ets-plain-text",3,"click"],["class","ets-icon-eye-reveal","aria-hidden","true",4,"ngIf"],["class","ets-icon-eye-hide","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"ets-icon-eye-reveal"],["aria-hidden","true",1,"ets-icon-eye-hide"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"ets-input",1),t.nrm(2,"input",2),t.nI1(3,"async"),t.nI1(4,"truncate"),t.nI1(5,"async"),t.nI1(6,"async"),t.k0s(),t.j41(7,"button",3),t.bIt("click",function(){return i.toggleKeyVisibility()}),t.DNE(8,eg,1,0,"span",4),t.nI1(9,"async"),t.DNE(10,ng,1,0,"span",5),t.nI1(11,"async"),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("type",t.bMT(3,4,i.isKeyVisible$)?"text":"password")("value",i.isMobile?t.bMT(4,6,t.bMT(5,8,i.publicKey$)):t.bMT(6,10,i.publicKey$)),t.R7$(6),t.Y8G("ngIf",!1===t.bMT(9,12,i.isKeyVisible$)),t.R7$(2),t.Y8G("ngIf",t.bMT(11,14,i.isKeyVisible$)))},dependencies:[d.bT,m.Sj,m.C,zt.a,d.Jj,we],styles:[".public-key-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;margin-bottom:50px}.toggle-key[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-self:flex-end;transform:translateY(50px);cursor:pointer;background-color:transparent;z-index:1000}"],changeDetection:0}),a})();function og(e,a){if(1&e){const o=t.RV6();t.j41(0,"div"),t.nrm(1,"p",2),t.nI1(2,"safe"),t.nI1(3,"translate"),t.j41(4,"p",3),t.bIt("click",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.onTextClick(i))}),t.nI1(5,"safe"),t.nI1(6,"translate"),t.k0s()()}if(2&e){const o=a.$implicit;t.R7$(1),t.Y8G("innerHTML",t.bMT(2,2,t.i5U(3,4,"title",o)),t.npT),t.R7$(3),t.Y8G("innerHTML",t.bMT(5,7,t.i5U(6,9,"description",o)),t.npT)}}let ag=(()=>{var e;class a{constructor(n){this.data=n,this.review=new t.bkB,this.close=new t.bkB}ngOnInit(){this.localizationKeys=this.data.localizationKeys}closeClick(){this.close.emit()}onTextClick(n){const i=n.target.classList;i.contains("link")&&i.contains("on-review")&&this.review.emit()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(R.Qs))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-program-participation-learn-more"]],outputs:{review:"review",close:"close"},decls:2,vars:2,consts:[[1,"program-participation-learn-more-modal",3,"showClose","closeEvent"],[4,"ngFor","ngForOf"],[1,"modal-text","modal-text-title",3,"innerHTML"],[1,"modal-text","modal-text-description",3,"innerHTML","click"]],template:function(n,i){1&n&&(t.j41(0,"et-modal-layout",0),t.bIt("closeEvent",function(){return i.closeClick()}),t.DNE(1,og,7,12,"div",1),t.k0s()),2&n&&(t.Y8G("showClose",!0),t.R7$(1),t.Y8G("ngForOf",i.localizationKeys))},dependencies:[d.Sq,ce.z,Q.m,h.D],styles:[".program-participation-learn-more-modal[_ngcontent-%COMP%]     .uidialog-pop-up{width:660px;border-radius:6px}.program-participation-learn-more-modal[_ngcontent-%COMP%]     .pop-up-content{padding:65px 55px 10px}.modal-text-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;letter-spacing:-.32px;color:var(--primary-neutral-text)}.modal-text-description[_ngcontent-%COMP%]{margin:20px 0 50px;font-size:16px;font-weight:300;letter-spacing:-.31px;color:var(--primary-neutral-text)}@media (max-width: 767px){.program-participation-learn-more-modal[_ngcontent-%COMP%]     .uidialog-pop-up{border-radius:unset}.program-participation-learn-more-modal[_ngcontent-%COMP%]     .pop-up-content{padding:50px 30px 20px}}"],changeDetection:0}),a})();const rg=function(e){return{"disable-change":e}};let sg=(()=>{var e;class a{constructor(n,i,r,s,l){this.programParticipationService=n,this.dialogService=i,this.$analytics=r,this.cdr=s,this.kycProvider=l}ngOnInit(){this.data&&(this.isProgramEnable=this.data.enable,this.toggleButtonValue=this.data.value,this.localizationKey=`settingsTrade.program.${this.data.instruction.toLowerCase()}`),this.toggleButtonDisableChange=!this.isProgramEnable}setProgramMode(n){const i=this.toggleButtonValue;this.toggleButtonDisableChange=!0,this.toggleButtonValue=n,this.programParticipationService.setStatus([{instruction:this.data.instruction,enable:this.data.enable,value:n}]).subscribe(r=>{if(r&&Array.isArray(r)){const s=r.find(l=>l.instruction===this.data.instruction);this.toggleButtonValue=s?s.value:i}else this.toggleButtonValue=i;this.toggleButtonDisableChange=!1,this.cdr.detectChanges()},()=>{this.toggleButtonValue=i,this.toggleButtonDisableChange=!1,this.cdr.detectChanges()}),this.$analytics.eventTrack(`Settings - ${this.data.instruction.toUpperCase()} status - change`,{"toggle button turned on/off":n})}showLearnMoreDialog(){this.$analytics.eventTrack(`Settings - ${this.data.instruction.toUpperCase()} - ${this.isProgramEnable?"Learn more":"disable explanation"}`);const n=[`${this.localizationKey}.learnMore.dialog`];this.isProgramEnable||n.push(`${this.localizationKey}.whyCantOptIn.dialog`);const i=this.dialogService.open(ag,{id:"ProgramParticipationLearnMoreComponent",data:{localizationKeys:n}});i.componentInstance.close.subscribe(()=>{i.close()}),i.componentInstance.review.subscribe(()=>{this.kycProvider.loadVolunteerModal({deepLink:"atttorisk"}),i.close()})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Pn),t.rXU(R.o3),t.rXU(k.c),t.rXU(t.gRc),t.rXU(xt.Ei))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-program-participation"]],inputs:{data:"data"},decls:9,vars:14,consts:[["automation-id","settings-trading-button-title-program-participation",1,"program-participation-control"],[1,"program-participation-text"],[1,"text",3,"innerHTML"],[1,"program-participation-learn-more","e-link",3,"click"],["automation-id","settings-trading-buttons-program-participation",3,"checked","ngClass","change"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"span",2),t.nI1(3,"safe"),t.nI1(4,"translate"),t.j41(5,"a",3),t.bIt("click",function(){return i.showLearnMoreDialog()}),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"et-toggle-button",4),t.bIt("change",function(s){return i.setProgramMode(s.checked)}),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("innerHTML",t.bMT(3,4,t.i5U(4,6,"text",i.localizationKey)),t.npT),t.R7$(4),t.JRh(t.i5U(7,9,i.isProgramEnable?"learnMore":"whyCantOptIn",i.localizationKey)),t.R7$(2),t.Y8G("checked",i.toggleButtonValue)("ngClass",t.eq3(12,rg,i.toggleButtonDisableChange)))},dependencies:[d.YU,nt.o,Q.m,h.D],styles:[".program-participation-control[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.program-participation-control[_ngcontent-%COMP%]   .program-participation-text[_ngcontent-%COMP%]{max-width:75%}.program-participation-control[_ngcontent-%COMP%]   .program-participation-learn-more[_ngcontent-%COMP%]{margin-left:3px}.disable-change[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.dark-mode[_nghost-%COMP%]   .program-participation-learn-more[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .program-participation-learn-more[_ngcontent-%COMP%]{color:var(--secondary-100)}"],changeDetection:0}),a})();function cg(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",8)(1,"et-card-title"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content")(5,"div",9),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"et-trading-view-mode",10),t.bIt("onSelect",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.viewModeSelect(i))}),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(2),t.JRh(t.i5U(3,2,"viewModeTitle",o.localizationKey)),t.R7$(4),t.SpI(" ",t.i5U(7,5,"viewModeDescriptionV2",o.localizationKey)," ")}}function lg(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",11)(1,"et-default-page-selector",12),t.bIt("pageSelected",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.setDefaultPage(i))}),t.nI1(2,"translate"),t.k0s()()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("contentText",t.i5U(2,3,"portfolioViewDescriptionV2",o.localizationKey))("localizationKey",o.localizationKey)("pageOptions",o.tradingPageService.pages$)}}const dg=function(e,a){return{"full-width-area2":e,"et-grid-area4":a}};function gg(e,a){if(1&e&&(t.j41(0,"et-card",13)(1,"et-card-title",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content"),t.nrm(5,"et-settings-one-click-trading",15),t.k0s()()),2&e){const o=t.XpG();t.Y8G("ngClass",t.l_i(5,dg,o.isViewModeForced,!o.isViewModeForced)),t.R7$(2),t.JRh(t.i5U(3,2,"oneClickTradingTitle",o.localizationKey))}}function pg(e,a){if(1&e&&(t.j41(0,"et-card",16)(1,"et-card-title",17),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content"),t.nrm(5,"et-settings-program-participation",18),t.k0s()()),2&e){const o=a.$implicit,n=t.XpG();t.R7$(2),t.JRh(t.i5U(3,2,n.getProgramParticipationTitleKey(o),n.localizationKey)),t.R7$(3),t.Y8G("data",o)}}function ug(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",19)(1,"et-card-title",20),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"et-card-content")(5,"div",21)(6,"div",22),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"et-toggle-button",23),t.bIt("change",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.toggleTrade(i))}),t.k0s()()()()}if(2&e){const o=t.XpG();t.R7$(2),t.JRh(t.i5U(3,4,"tradingTitle","settingsGeneral")),t.R7$(5),t.JRh(t.i5U(8,7,"showShareTradeV2","settingsGeneral")),t.R7$(2),t.Y8G("disabled",o.isUserOptout)("checked",o.showTradeShareModal)}}function mg(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-card",24)(1,"et-card-title",25),t.EFF(2,"API Key Management"),t.k0s(),t.j41(3,"et-card-content")(4,"div",21)(5,"div",26)(6,"span",27),t.EFF(7,"Public Key"),t.k0s(),t.j41(8,"button",28),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.copyKey())}),t.k0s()(),t.nrm(9,"et-public-key"),t.j41(10,"div",27),t.EFF(11,"Key Generation"),t.k0s(),t.nrm(12,"et-key-generation"),t.j41(13,"div",27),t.EFF(14,"Generated API Keys"),t.k0s(),t.nrm(15,"et-generated-keys"),t.k0s()()()}}let hg=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u,_,b,O,A,I,B,ot){this.viewModeService=n,this.$analytics=i,this.ref=r,this.tradingPageService=s,this.appConfig=l,this.authService=g,this.programParticipationService=p,this.abTestingService=u,this.breakpoints=_,this.localStorageService=b,this.portfolioViewModeService=O,this.preferencesService=A,this.loginPopupDarkModeExpService=I,this.toastNotificationsService=B,this.apiKeysService=ot,this.localizationKey="settingsTrade",this.shouldShowApiKeys$=new M.t(!1),this.isShowNewPortfolioToUser=!1,this.isThemeABTest=!1,this.destroyRef=(0,t.WQX)(t.abz),this.investingMode=this.viewModeService.isInvestingMode(),this.isViewModeForced=this.viewModeService.isViewModeForced(),this.showTradeShareModal=!this.preferencesService.getPreferences("feedHideTradeShareModal"),this.isUserOptout=this.authService.user.optOut}get isMobile(){return this.breakpoints.isMobile}ngOnInit(){this.shouldShowApiKeys$.next(this.appConfig.dynamics.gcidsForApiKeys.includes(this.authService.user.gcid)),this.addProgramParticipation(),this.shouldShowApiKeys$.next(this.appConfig.dynamics.gcidsForApiKeys.includes(this.authService.user.gcid)),this.isShowNewPortfolioToUser=this.abTestingService.getAbTestingConfig("showNewPortfolio")>-1,this.isMobile&&(this.subscription=this.portfolioViewModeService.viewMode$.subscribe(n=>this.handleViewModeChange(n))),this.loginPopupDarkModeExpService.isThemeABTest$.pipe((0,Y.pQ)(this.destroyRef)).subscribe(n=>{this.isThemeABTest=n,this.ref.markForCheck()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}copyKey(){var n=this;return(0,v.A)(function*(){n.apiKeysService.unregisteredAppKey$.pipe((0,Pt.s)(1)).subscribe(function(){var i=(0,v.A)(function*(r){yield navigator.clipboard.writeText(r),n.toastNotificationsService.notifySuccess("Key copied to clipboard!")});return function(r){return i.apply(this,arguments)}}())})()}getProgramParticipationTitleKey(n){return`program.${n.instruction.toLowerCase()}.title`}viewModeSelect(n){this.investingMode=n,this.oneClickTradingComponent&&this.oneClickTradingComponent.setOneClickTradingMode(!n),this.ref.detectChanges()}setDefaultPage(n){this.tradingPageService.selectHomePage(n),this.tradingPageService.setDefault(n.id),this.portfolioViewModeService.setViewMode(n.id),this.$analytics.eventTrack("Settings - Trading - Change Default Portfolio Screen",{"Changed to":n.id})}toggleTrade(n){this.showTradeShareModal=n.checked,this.$analytics.eventTrack("Settings - Trading - Change Share Trade",{"Share status":this.showTradeShareModal?"Checked":"Not Checked"}),this.preferencesService.setPreferences({feedHideTradeShareModal:!this.showTradeShareModal})}handleViewModeChange(n){var i=this;return(0,v.A)(function*(){if(n||(n=(n=i.localStorageService.get("portfolioViewMode"))?"card-trades"===n?"cardView":"portfolioOverview":""),n)try{const r=yield i.tradingPageService.getById(n);r&&(i.tradingPageService.selectHomePage(r),i.tradingPageService.setDefault(r.id))}catch{}})()}addProgramParticipation(){(this.appConfig.dynamics.compliance.programParticipationRegulationIds||[]).includes(this.authService.user.designatedRegulationId)?this.programParticipationService.getInstructions().subscribe(i=>{const r=this.appConfig.dynamics.userSettings.tradingSettingsInstructionsOrder||[];this.instructions=r.length>0?r.reduce((s,l)=>{const g=i.find(p=>p.instruction===l);return g&&s.push(g),s},[]):i,this.ref.detectChanges(),this.trackSettingConfiguration()}):this.trackSettingConfiguration()}trackSettingConfiguration(){let i=!1,r=!1;if(this.instructions&&this.instructions.length>0){const s=this.instructions.find(l=>"EthStaking"===l.instruction);i=s&&(null==s?void 0:s.enable),r=s&&(null==s?void 0:s.value)}this.$analytics.eventTrack("Settings - Trading - View",{"is ETH Stacking visible":i,"is ETH Stacking turned on/off":r})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Ut.T),t.rXU(k.c),t.rXU(t.gRc),t.rXU(xn.u),t.rXU(y.R),t.rXU(U.u),t.rXU(Pn),t.rXU($d.V),t.rXU(E.M),t.rXU(rt.sj),t.rXU(Gd.g),t.rXU(Le.W),t.rXU(Mt.n),t.rXU(m.Bx),t.rXU(pt))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-trading"]],viewQuery:function(n,i){if(1&n&&t.GBs(yn,5),2&n){let r;t.mGM(r=t.lsd())&&(i.oneClickTradingComponent=r.first)}},decls:9,vars:8,consts:[["data-etoro-locale-ns","settingsTrade",1,"et-layout","two-columns-layout","et-direction-start"],["class","full-width-area2","automation-id","settings-trading-title-ui-mode",4,"ngIf"],["class","et-grid-area1",4,"ngIf"],["automation-id","settings-trading-wrapp-one-click",3,"ngClass",4,"ngIf"],[1,"settings-trading-program-participation-container","participation-container-grid-area"],["class","settings-trading-program-participation-card","automation-id","settings-trading-wrapp-program-participation",4,"ngFor","ngForOf"],["class","et-grid-area5","automation-id","share-trade-container",4,"ngIf"],["class","et-grid-area5","automation-id","api-keys-container",4,"ngIf"],["automation-id","settings-trading-title-ui-mode",1,"full-width-area2"],[1,"view-mode-description","et-margin-bottom-l"],["automation-id","settings-trading-ui-mode-drop-down",3,"onSelect"],[1,"et-grid-area1"],[1,"trading-tab-selector",3,"contentText","localizationKey","pageOptions","pageSelected"],["automation-id","settings-trading-wrapp-one-click",3,"ngClass"],["automation-id","settings-trading-title-one-click"],[1,"settings-one-click-trading","one-click-trading"],["automation-id","settings-trading-wrapp-program-participation",1,"settings-trading-program-participation-card"],["automation-id","settings-trading-title-program-participation",1,"settings-trading-program-participation-title"],[1,"settings-trading-program-participation",3,"data"],["automation-id","share-trade-container",1,"et-grid-area5"],["automation-id","share-trade-title"],[1,"card-content-container"],[1,"share-trade-text","et-margin-end-m"],[3,"disabled","checked","change"],["automation-id","api-keys-container",1,"et-grid-area5"],["automation-id","api-keys-title"],[1,"api-keys-text-container"],[1,"api-keys-text","et-margin-end-m","ets-plain-text","ets-semi-bold"],[1,"copy-key-button",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,cg,9,8,"et-card",1),t.DNE(2,lg,3,6,"div",2),t.DNE(3,gg,6,8,"et-card",3),t.j41(4,"div",4),t.DNE(5,pg,6,5,"et-card",5),t.k0s(),t.DNE(6,ug,10,10,"et-card",6),t.DNE(7,mg,16,0,"et-card",7),t.nI1(8,"async"),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngIf",!i.isViewModeForced),t.R7$(1),t.Y8G("ngIf",i.isMobile||!i.isShowNewPortfolioToUser),t.R7$(1),t.Y8G("ngIf",!i.investingMode),t.R7$(2),t.Y8G("ngForOf",i.instructions),t.R7$(1),t.Y8G("ngIf",i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",t.bMT(8,6,i.shouldShowApiKeys$)))},dependencies:[d.YU,d.Sq,d.bT,nt.o,w.i,$.y,S.l,yn,Vd,He,Se,tg,ig,sg,d.Jj,h.D],styles:['.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area1 area1" "area2 area3" "area4 area4" "area5 area5"}@media (max-width: 767px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-template-areas:"area3" "area1" "area2" "area4" "area5"}}.api-keys-text-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.view-mode-footer[_ngcontent-%COMP%]{margin-top:.625rem}.view-mode-description[_ngcontent-%COMP%]{line-height:normal;letter-spacing:-.31px}.full-width-area2[_ngcontent-%COMP%]{grid-area:area4 / area4 / area4 / area5}.copy-key-button[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/info.svg);background-color:transparent;height:36px;width:36px;background-repeat:no-repeat;background-position:center;border:none;cursor:pointer}[_nghost-%COMP%]     et-default-page-selector .option-ph.setting-aggregated{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/portfolio-desktop-over-view.svg)}[_nghost-%COMP%]     et-default-page-selector .option-ph.setting-allocation{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/portfolio-desktop-charts-view.svg)}[_nghost-%COMP%]     et-default-page-selector .option-ph.setting-manual{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/portfolio-desktop-manual-trades-view.svg)}@media (max-width: 767px){[_nghost-%COMP%]     et-default-page-selector .option-ph.setting-aggregated{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/portfolio-mobile-over-view.svg)}[_nghost-%COMP%]     et-default-page-selector .option-ph.setting-allocation{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/portfolio-mobile-charts-view.svg)}[_nghost-%COMP%]     et-default-page-selector .option-ph.setting-card-view{background-image:url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/trading/portfolio-mobile-cards-view.svg)}}.participation-container-grid-area[_ngcontent-%COMP%]{grid-area:area2 / area1}.settings-trading-program-participation-container[_ngcontent-%COMP%]     .settings-trading-program-participation-card{height:auto;margin-bottom:20px}'],changeDetection:0}),a})();var pe=c(58260),fg=c(47795),Mn=c(12334),_g=c(65958);const Cg=function(e,a,o){return{highlightStart:e,highlightEnd:a,referrerCompensationOneUser:o}};function vg(e,a){if(1&e&&(t.nrm(0,"span",8),t.nI1(1,"safe"),t.nI1(2,"translateInterpolated")),2&e){const o=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,t.i5U(2,3,"settings.rafBanner.content.compensationForBoth",t.sMw(6,Cg,o.getHighlightStartHtml(),o.getHighlightEndHtml(),o.referrerCompensationOneUser()))),t.npT)}}const bg=function(e,a,o){return{highlightStart:e,highlightEnd:a,referrerCompensationMaxUsers:o}};function yg(e,a){if(1&e&&(t.nrm(0,"span",9),t.nI1(1,"safe"),t.nI1(2,"translateInterpolated")),2&e){const o=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,t.i5U(2,3,"settings.rafBanner.content.compensationForReferrerOnly",t.sMw(6,bg,o.getHighlightStartHtml(),o.getHighlightEndHtml(),o.referrerCompensationMaxUsers()))),t.npT)}}const xg=function(e,a){return{highlightStart:e,highlightEnd:a}};function Pg(e,a){if(1&e&&(t.nrm(0,"span",10),t.nI1(1,"safe"),t.nI1(2,"translateInterpolated")),2&e){const o=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,1,t.i5U(2,3,"settings.rafBanner.content.noCompensation",t.l_i(6,xg,o.getHighlightStartHtml(),o.getHighlightEndHtml()))),t.npT)}}const Mg=function(e){return{"mode-compensation":e}};function kg(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.goToReferFriendPage())}),t.j41(1,"span",2),t.qex(2,3),t.DNE(3,vg,3,10,"span",4),t.DNE(4,yg,3,10,"span",5),t.DNE(5,Pg,3,9,"span",6),t.bVm(),t.k0s(),t.nrm(6,"span",7),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("ngClass",t.eq3(4,Mg,o.eligibilityType!==o.eligibilityTypeNone)),t.R7$(2),t.Y8G("ngSwitch",o.eligibilityType),t.R7$(1),t.Y8G("ngSwitchCase",o.eligibilityTypeBoth),t.R7$(1),t.Y8G("ngSwitchCase",o.eligibilityTypeReferrer)}}let Og=(()=>{var e;class a{constructor(n,i,r,s,l){this.referFriendService=n,this.uiBreakpointsService=i,this.analyticsService=r,this.config=s,this.cdr=l,this.visibilityChange=new t.bkB,this.ready=new t.bkB,this.eligibilityTypeBoth=pe.IO.Both,this.eligibilityTypeReferrer=pe.IO.Referrer,this.eligibilityTypeNone=pe.IO.None,this.subscriptions=[]}ngOnInit(){this.config.dynamics.userSettings.shouldShowRafBanner?this.initListeners():this.ready.emit()}get eligibilityType(){return(this.userState||{}).eligibility}referrerCompensationOneUser(){return`$${this.userState.referrerRewardAmount}`}referrerCompensationMaxUsers(){return"$"+this.userState.referrerRewardAmount*this.userState.maxNumberOfInvitees}getHighlightStartHtml(){return'<strong class="ets-bold ets-info">'}getHighlightEndHtml(){return"</strong>"}goToReferFriendPage(){this.referFriendService.navigateToInvitePage(fg._t.SettingsPage),this.track(Mn.r.buttonClicked,{"Button Type":"Continue"})}initListeners(){this.subscriptions.push(this.uiBreakpointsService.observe(E.r.MobileWide).subscribe(n=>{var i;this.isVisibleForDevice=n.matches&&!(null!==(i=this.userState)&&void 0!==i&&i.isBlockedCountry),this.isVisibleForDevice&&this.trackView(),this.visibilityChange.emit(this.isVisibleForDevice),this.cdr.detectChanges()}),this.referFriendService.getUserMetadata$().subscribe(n=>{this.userState=n,this.userState.isBlockedCountry&&this.visibilityChange.emit(!1),this.cdr.detectChanges(),this.ready.emit(),this.trackView()}))}trackView(){var n;this.track(Mn.r.cardView,{"Who Receives Reward":null==this||null===(n=this.userState)||void 0===n?void 0:n.eligibility})}track(n,i){this.userState&&this.isVisibleForDevice&&this.analyticsService.eventTrack(n,{...i,"Card Name":"Refer A Friend",Touchpoint:"Main Settings Page","Reward Amount Shown":this.userState.referrerRewardAmount})}ngOnDestroy(){this.subscriptions.forEach(n=>n&&n.unsubscribe())}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(_g.c),t.rXU(E.M),t.rXU(k.c),t.rXU(y.R),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-refer-friend-banner"]],outputs:{visibilityChange:"visibilityChange",ready:"ready"},decls:1,vars:1,consts:[["class","raf-banner","automation-id","refer-friend-banner-container",3,"ngClass","click",4,"ngIf"],["automation-id","refer-friend-banner-container",1,"raf-banner",3,"ngClass","click"],[1,"banner-content"],[3,"ngSwitch"],["automation-id","refer-friend-banner-content-both",3,"innerHTML",4,"ngSwitchCase"],["automation-id","refer-friend-banner-content-referrer-only",3,"innerHTML",4,"ngSwitchCase"],["automation-id","refer-friend-banner-content-none",3,"innerHTML",4,"ngSwitchDefault"],["automation-id","refer-friend-banner-image",1,"image-bg"],["automation-id","refer-friend-banner-content-both",3,"innerHTML"],["automation-id","refer-friend-banner-content-referrer-only",3,"innerHTML"],["automation-id","refer-friend-banner-content-none",3,"innerHTML"]],template:function(n,i){1&n&&t.DNE(0,kg,7,6,"a",0),2&n&&t.Y8G("ngIf",i.isVisibleForDevice)},dependencies:[d.YU,d.bT,d.ux,d.e1,d.fG,Q.m,ut.G],styles:[".raf-banner[_ngcontent-%COMP%]{position:relative;display:flex;margin-bottom:10px;box-shadow:0 1px 8px 2px rgba(var(--rgb-neutral-100),.07);border-radius:6px;background:var(--neutral-secondary-bg);cursor:pointer;--image-bg-src: url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/banners/raf/raf-icon-default.svg)}.raf-banner.mode-compensation[_ngcontent-%COMP%]{--image-bg-src: url(https://etoro-cdn.etorostatic.com/web-client/et/img/settings/banners/raf/raf-icon-gift.svg)}.banner-content[_ngcontent-%COMP%]{padding:18px;font-size:14px;letter-spacing:-.25px}.banner-content[_ngcontent-%COMP%]     strong{color:var(--brand-hover-action-text)}.image-bg[_ngcontent-%COMP%]{width:90px;min-height:100%;flex:1 0 auto;background-image:var(--image-bg-src);background-repeat:no-repeat;background-position:right bottom}.rtl-direction[_nghost-%COMP%]   .image-bg[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .image-bg[_ngcontent-%COMP%]{transform:scaleX(-1)}"],changeDetection:0}),a})();function wg(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"et-verification-center-header",26),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.verificationCenterClickHandler())}),t.k0s(),t.bVm()}if(2&e){const o=t.XpG();t.R7$(1),t.Y8G("usersSettings",o.usersSettings)("isInSettingsMainPage",!0)}}function Sg(e,a){if(1&e&&(t.qex(0),t.nrm(1,"et-settings-profile-header",27),t.bVm()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("isInSettingsMainPage",!0)("usersSettings",o.usersSettings)}}function Tg(e,a){1&e&&t.nrm(0,"div",12)}function Ig(e,a){1&e&&(t.qex(0),t.nrm(1,"i",28),t.j41(2,"div",16),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm()),2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"settingsGeneral.dispaly")," "))}function Rg(e,a){1&e&&(t.qex(0),t.nrm(1,"i",29),t.j41(2,"div",16),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.bVm()),2&e&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"settings.tabsGeneral")," "))}function Ag(e,a){1&e&&(t.j41(0,"span",30),t.EFF(1,"!"),t.k0s())}function Fg(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"a",31),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.paymentClickHandler())}),t.j41(2,"div",32),t.nrm(3,"img",33),t.j41(4,"div",16),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",8)(8,"div")(9,"p",9),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.j41(12,"div",10),t.nrm(13,"i",11),t.k0s()()(),t.nrm(14,"div",12),t.k0s(),t.bVm()}if(2&e){const o=t.XpG();t.R7$(3),t.Y8G("src",o.paymentsIconSrc,t.B4B),t.R7$(2),t.SpI(" ",t.bMT(6,3,"settings.tabsPaymentsV2")," "),t.R7$(5),t.SpI(" ",t.bMT(11,5,"settings.tabsPaymentsDescV2")," ")}}let Eg=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u){this.$analytics=n,this.loaderService=i,this.config=r,this.cdr=s,this.uiBreakpointsService=l,this.verifyEmailNudgeService=g,this.loginPopupDarkModeExpService=p,this.themeService=u,this.verificationCenterService=(0,t.WQX)(q),this.tabs=["general","account","trade","notifications","privacy","payments"],this.isThemeABTest=!1,this.destroyRef=(0,t.WQX)(t.abz),this.isDarkMode=this.themeService.state===m.SV.Dark}get appVersion(){return this.config.statics.ApplicationVersion}get paymentsTabFeatureFlag(){return this.config.dynamics.payments.settings.paymentsTabFF_Updated}get paymentsIconSrc(){return this.config.dynamics.urls.etoroCdn+`/web-client/et/img/payments/settings-payments-tab/payments-tab-logo${this.isDarkMode?"-dark":""}.svg`}get verificationCenterEnabled(){return this.verificationCenterService.verificationCenterEnabled}get isMobileWide(){return this.uiBreakpointsService.isMobileWide}get showEmailNudgesSub(){return this.verifyEmailNudgeService.showEmailNudges}ngOnInit(){-1===this.tabs.indexOf(this.activeSection)&&(this.activeSection=null),this.$analytics.eventTrack(`Settings - ${this.activeSection} Tab - Click`),this.loaderService.show(),setTimeout(()=>this.onRafBannerReady(),5e3),this.loginPopupDarkModeExpService.isThemeABTest$.pipe((0,Y.pQ)(this.destroyRef)).subscribe(n=>{this.isThemeABTest=n,this.cdr.markForCheck()})}verificationCenterClickHandler(){this.$analytics.eventTrack("Settings - Item Clicked",{"Element Name":"Verification Section"})}paymentClickHandler(){this.$analytics.eventTrack("Settings - Payments - click")}notificationsClickHandler(){this.$analytics.eventTrack("Settings Notifications - Page View",{Source:"settings screen"})}onRafBannerVisibilityChange(n){this.isRafBannerVisible=n}onRafBannerReady(){this.isPageReady=!0,this.loaderService.hide(),this.cdr.detectChanges()}trackEmailNudgeVerifyClick(){this.$analytics.eventTrack("Settings - Item Clicked",{"Element Name":"Email Verification","Element Subname":"Verify"})}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(k.c),t.rXU(ht.Z),t.rXU(y.R),t.rXU(t.gRc),t.rXU(E.M),t.rXU(Bt.g),t.rXU(Mt.n),t.rXU(m.Fs))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-home"]],inputs:{activeSection:"activeSection",usersSettings:"usersSettings"},decls:80,vars:41,consts:[[1,"et-layout","two-columns-layout","et-direction-start"],[1,"et-grid-area1"],["temprop"," url","href","/settings/profile","automation-id","settings-profile-button"],[4,"ngIf"],[3,"visibilityChange","ready"],["itemprop","url","href","/settings/general","automation-id","settings-general-button",1,"et-grid-area2"],["class","et-horizontal-divider",4,"ngIf"],["id","general",1,"settings-card"],[1,"desc-link"],[1,"desc-text"],[1,"arrow-link"],[1,"icon-arrow-right"],[1,"et-horizontal-divider"],["itemprop","url","href","/settings/account","automation-id","settings-account-button",1,"et-grid-area3"],[1,"settings-card"],[1,"icon-account","cards-icon-properties"],[1,"title-link"],["class","email-nudge-reminder ets-secondary-info ets-bold",4,"ngIf"],["itemprop","url","href","/settings/trade","automation-id","settings-trading-button",1,"et-grid-area4"],[1,"icon-trading","cards-icon-properties"],["itemprop","url","href","/settings/notifications","automation-id","settings-notification-button",1,"et-grid-area5",3,"click"],[1,"icon-notification","cards-icon-properties"],["itemprop","url","href","/settings/privacy","automation-id","settings-privacy-button",1,"et-grid-area6"],[1,"settings-card","et-grid-area6"],[1,"icon-privacy","cards-icon-properties"],[1,"version-number","et-grid-area7"],[1,"verification-center-header",3,"usersSettings","isInSettingsMainPage","click"],[1,"header-profile-margin",3,"isInSettingsMainPage","usersSettings"],[1,"icon-general","ets-icon-display"],[1,"icon-general","cards-icon-properties"],[1,"email-nudge-reminder","ets-secondary-info","ets-bold"],["itemprop","url","href","/settings/payments","automation-id","settings-payments-button-elad",1,"et-grid-area8",3,"click"],[1,"settings-card","et-grid-area8"],[1,"icon-payments","cards-icon-properties",3,"src"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.DNE(3,wg,2,2,"ng-container",3),t.DNE(4,Sg,2,2,"ng-container",3),t.k0s(),t.j41(5,"et-refer-friend-banner",4),t.bIt("visibilityChange",function(s){return i.onRafBannerVisibilityChange(s)})("ready",function(){return i.onRafBannerReady()}),t.k0s()(),t.j41(6,"a",5),t.DNE(7,Tg,1,0,"div",6),t.j41(8,"div",7),t.DNE(9,Ig,5,3,"ng-container",3),t.DNE(10,Rg,5,3,"ng-container",3),t.j41(11,"div",8)(12,"div")(13,"p",9),t.EFF(14),t.nI1(15,"translate"),t.k0s()(),t.j41(16,"div",10),t.nrm(17,"i",11),t.k0s()()(),t.nrm(18,"div",12),t.k0s(),t.j41(19,"a",13)(20,"div",14),t.nrm(21,"i",15),t.j41(22,"div",16),t.EFF(23),t.nI1(24,"translate"),t.k0s(),t.DNE(25,Ag,2,0,"span",17),t.nI1(26,"async"),t.j41(27,"div",8)(28,"div")(29,"p",9),t.EFF(30),t.nI1(31,"translate"),t.k0s()(),t.j41(32,"div",10),t.nrm(33,"i",11),t.k0s()()(),t.nrm(34,"div",12),t.k0s(),t.j41(35,"a",18)(36,"div",14),t.nrm(37,"i",19),t.j41(38,"div",16),t.EFF(39),t.nI1(40,"translate"),t.k0s(),t.j41(41,"div",8)(42,"div")(43,"p",9),t.EFF(44),t.nI1(45,"translate"),t.k0s()(),t.j41(46,"div",10),t.nrm(47,"i",11),t.k0s()()(),t.nrm(48,"div",12),t.k0s(),t.j41(49,"a",20),t.bIt("click",function(){return i.notificationsClickHandler()}),t.j41(50,"div",14),t.nrm(51,"i",21),t.j41(52,"div",16),t.EFF(53),t.nI1(54,"translate"),t.k0s(),t.j41(55,"div",8)(56,"div")(57,"p",9),t.EFF(58),t.nI1(59,"translate"),t.k0s()(),t.j41(60,"div",10),t.nrm(61,"i",11),t.k0s()()(),t.nrm(62,"div",12),t.k0s(),t.j41(63,"a",22)(64,"div",23),t.nrm(65,"i",24),t.j41(66,"div",16),t.EFF(67),t.nI1(68,"translate"),t.k0s(),t.j41(69,"div",8)(70,"div")(71,"p",9),t.EFF(72),t.nI1(73,"translate"),t.k0s()(),t.j41(74,"div",10),t.nrm(75,"i",11),t.k0s()()(),t.nrm(76,"div",12),t.k0s(),t.DNE(77,Fg,15,7,"ng-container",3),t.j41(78,"div",25),t.EFF(79),t.k0s()()),2&n&&(t.AVh("hidden",!i.isPageReady),t.R7$(3),t.Y8G("ngIf",i.verificationCenterEnabled),t.R7$(1),t.Y8G("ngIf",!i.verificationCenterEnabled),t.R7$(1),t.AVh("hidden",!i.isRafBannerVisible),t.R7$(2),t.Y8G("ngIf",!i.isRafBannerVisible),t.R7$(2),t.Y8G("ngIf",i.isThemeABTest),t.R7$(1),t.Y8G("ngIf",!i.isThemeABTest),t.R7$(4),t.SpI(" ",t.bMT(15,21,"settings.tabsGeneralDec")," "),t.R7$(9),t.SpI(" ",t.bMT(24,23,"settings.tabsAccount")," "),t.R7$(2),t.Y8G("ngIf",i.isMobileWide&&t.bMT(26,25,i.showEmailNudgesSub)),t.R7$(5),t.SpI(" ",t.bMT(31,27,"settings.tabsAccountDec")," "),t.R7$(9),t.SpI(" ",t.bMT(40,29,"settings.tabsTrade")," "),t.R7$(5),t.SpI(" ",t.bMT(45,31,"settings.tabsTradeDec")," "),t.R7$(9),t.SpI(" ",t.bMT(54,33,"settings.tabsNotifications")," "),t.R7$(5),t.SpI(" ",t.bMT(59,35,"settings.tabsNotificationsDec")," "),t.R7$(9),t.SpI(" ",t.bMT(68,37,"settings.tabsPrivacy")," "),t.R7$(5),t.SpI(" ",t.bMT(73,39,"settings.tabsPrivacyDec")," "),t.R7$(5),t.Y8G("ngIf",i.paymentsTabFeatureFlag),t.R7$(2),t.SpI("version: ",i.appVersion,""))},dependencies:[d.bT,qt,Xe,Og,d.Jj,h.D],styles:['.et-layout.two-columns-layout[_ngcontent-%COMP%]{padding:0 24px;margin:3rem auto 0;grid-template-columns:repeat(3,minmax(240px,344px));grid-gap:.9375rem;justify-content:center;grid-template-rows:repeat(4,auto);grid-template-areas:"area1 area1 area1" "area2 area3 area4" "area5 area6 area8" "area7 area7 area7"}@media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait),(min-width: 1025px) and (max-width: 1200px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{grid-gap:.9375rem;grid-template-columns:repeat(2,minmax(300px,344px));grid-template-rows:repeat(5,auto);grid-template-areas:"area1 area1" "area2 area3" "area4 area5" "area6 area8" "area7 area7"}}@media (max-width: 767px){.et-layout.two-columns-layout[_ngcontent-%COMP%]{width:100%;margin:0 auto;grid-gap:0;grid-template-columns:100%;grid-template-rows:repeat(7,auto);grid-template-areas:"area1" "area2" "area3" "area4" "area5" "area6" "area8" "area7"}}.et-grid-area5[_ngcontent-%COMP%]{grid-area:area5}.et-grid-area6[_ngcontent-%COMP%]{grid-area:area6}.et-grid-area7[_ngcontent-%COMP%]{grid-area:area7}.et-grid-area8[_ngcontent-%COMP%]{grid-area:area8}@media (min-width: 768px){.et-horizontal-divider[_ngcontent-%COMP%]{display:none}}.settings-card[_ngcontent-%COMP%]{padding:1.875rem;border-radius:6px;background-color:var(--neutral-secondary-bg);display:flex;display:-ms-flexbox;flex-direction:column;justify-content:space-between;flex:1;transition:box-shadow .35s ease-in-out}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:4rem;margin-top:.5rem}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .desc-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;line-height:1.4;letter-spacing:-.31px;color:var(--secondary-neutral-text);max-width:80%}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .arrow-link[_ngcontent-%COMP%]{margin-left:auto;margin-top:.625rem;margin-bottom:1rem}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .arrow-link[_ngcontent-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--secondary-neutral-text)}.settings-card   .desc-link   .arrow-link   .icon-arrow-right   .rtl-direction[_nghost-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%]:before, .rtl-direction   [_nghost-%COMP%]   .icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\e90e"}.settings-card[_ngcontent-%COMP%]   .cards-icon-properties[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:300;color:var(--secondary-neutral-text);display:block;height:40px}.settings-card[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:2.375rem}.settings-card[_ngcontent-%COMP%]   .title-link[_ngcontent-%COMP%]{text-transform:uppercase;margin-top:1.75rem;font-size:.875rem;font-weight:700;letter-spacing:-.35px;color:var(--secondary-neutral-text)}.settings-card[_ngcontent-%COMP%]:hover{box-shadow:0 1px 16px 4px rgba(var(--rgb-neutral-100),.1);transition:box-shadow .25s ease-in-out;cursor:pointer}.settings-card[_ngcontent-%COMP%]:hover   i.cards-icon-properties[_ngcontent-%COMP%]{color:var(--info-hover-action-text)}@media (max-width: 767px){.settings-card[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-direction:row;align-items:center;padding:0;margin:0;border-radius:0;height:4.6875rem}.settings-card[_ngcontent-%COMP%]:hover{box-shadow:none;cursor:pointer}.settings-card[_ngcontent-%COMP%]   .title-link[_ngcontent-%COMP%]{margin-left:.875rem;text-transform:capitalize;margin-top:0;font-size:1.375rem;font-weight:300;letter-spacing:-.55px}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]{margin-top:0;margin-left:auto;order:2;padding:0;align-items:center}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .desc-text[_ngcontent-%COMP%]{display:none}.settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .arrow-link[_ngcontent-%COMP%]{margin:0 .375rem 0 auto}.settings-card   .rtl-direction[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]{margin-left:0;margin-right:.875rem}.settings-card   .rtl-direction[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .title-link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .title-link[_ngcontent-%COMP%]{margin-left:0;margin-right:.875rem}.settings-card   .rtl-direction[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]:before, .rtl-direction   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]:before{transform:revert}}.dark-mode[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]:hover{box-shadow:none;background-color:var(--neutral-tertiary-bg)}.rtl-direction[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.rtl-direction[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]{order:2;padding:0}.rtl-direction[_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .arrow-link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .settings-card[_ngcontent-%COMP%]   .desc-link[_ngcontent-%COMP%]   .arrow-link[_ngcontent-%COMP%]{margin-right:auto;margin-left:0}@media (max-width: 767px){.rtl-direction[_nghost-%COMP%]   .desc-link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .desc-link[_ngcontent-%COMP%]{margin-right:auto;margin-left:0;order:2;padding:0}}.version-number[_ngcontent-%COMP%]{font-family:general-font,Open Sans,Arial,sans-serif;font-style:normal;font-size:.75rem;letter-spacing:-.2px;display:block;clear:both;text-transform:uppercase;color:var(--primary-neutral-text);font-weight:300;text-align:center;margin:1.1875rem auto}@media (max-width: 767px){.header-profile-margin[_ngcontent-%COMP%]{margin-top:1.875rem;margin-bottom:1.5625rem}}.icon-payments[_ngcontent-%COMP%]{height:43px;width:34px;filter:contrast(.3)}.dark-mode[_nghost-%COMP%]   .icon-payments[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-payments[_ngcontent-%COMP%]{filter:none}.hidden[_ngcontent-%COMP%]{display:none}.email-nudge-reminder[_ngcontent-%COMP%]{background-color:var(--lightmode-primary-var-100-hover);border-radius:50%;color:var(--neutral-secondary-bg);display:flex;align-items:center;justify-content:center;width:22px;height:22px;margin-left:14px}.ets-icon-display.icon-general[_ngcontent-%COMP%]{font-size:28px;color:var(--static-neutral-90)}.dark-mode[_nghost-%COMP%]   .ets-icon-display.icon-general[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .ets-icon-display.icon-general[_ngcontent-%COMP%]{color:var(--static-neutral-40)}.verification-center-header[_ngcontent-%COMP%]{background-color:var(--neutral-secondary-bg);border-radius:6px}'],changeDetection:0}),a})();function Dg(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.onDocumentButtonClick(i.documentItem))}),t.EFF(1),t.k0s()}if(2&e){const o=t.XpG(2);t.AVh("document-item__button--in-progress",o.isInProgress(o.documentItem.buttonStatus)),t.R7$(1),t.SpI(" ",o.documentItem.buttonText," ")}}const kn=function(e){return{$implicit:e}};function Ug(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"div",1),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.onDocumentButtonClick(i.documentItem))}),t.j41(2,"div",2)(3,"p",3),t.EFF(4),t.k0s(),t.j41(5,"p",4)(6,"span",5),t.EFF(7),t.k0s(),t.eu8(8,6),t.k0s()(),t.j41(9,"div"),t.eu8(10,6),t.DNE(11,Dg,2,3,"ng-template",null,7,t.C5r),t.k0s()(),t.bVm()}if(2&e){const o=t.sdS(12),n=t.XpG();t.R7$(4),t.SpI(" ",n.documentItem.documentTypeText," "),t.R7$(3),t.JRh(n.documentItem.dateText),t.R7$(1),t.Y8G("ngTemplateOutletContext",t.eq3(6,kn,n.langList))("ngTemplateOutlet",n.subTitleTemplate),t.R7$(2),t.Y8G("ngTemplateOutletContext",t.eq3(8,kn,n.documentItem))("ngTemplateOutlet",n.buttonTemplate||o)}}let On=(()=>{var e;class a{constructor(){this.documentClicked=new t.bkB}ngOnInit(){}isInProgress(n){return n===ft.InProgress}onDocumentButtonClick(n){this.documentClicked.emit(n)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-document-item"]],inputs:{documentItem:"documentItem",langList:"langList",documentsHeading:"documentsHeading",buttonTemplate:"buttonTemplate",subTitleTemplate:"subTitleTemplate"},outputs:{documentClicked:"documentClicked"},decls:1,vars:1,consts:[[4,"ngIf"],["automation-id","settings-documents-document",1,"document-item",3,"click"],[1,"document-item__caption"],[1,"ets-plain-text","ets-semi-bold"],[1,"document-item__sub-title"],["automation-id","settings-documents-document-date",1,"ets-num-s","ets-thin"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["defaultButton",""],["automation-id","settings-documents-document-link","type","button",1,"ets-button-basic","ets-button-small","ets-button-primary","ets-button-basic-outline","document-item__button",3,"click"]],template:function(n,i){1&n&&t.DNE(0,Ug,13,10,"ng-container",0),2&n&&t.Y8G("ngIf",i.documentItem)},dependencies:[d.bT,d.T3],styles:[".et-padding-no[_ngcontent-%COMP%]{padding:0}.et-padding-top-no[_ngcontent-%COMP%]{padding-top:0}.et-padding-bottom-no[_ngcontent-%COMP%]{padding-bottom:0}.et-padding-vertical-no[_ngcontent-%COMP%], .et-padding-horizontal-no[_ngcontent-%COMP%]{padding:0}.et-padding-start-no[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.et-padding-end-no[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-no[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-no[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.et-padding-xxs[_ngcontent-%COMP%]{padding:.125rem}.et-padding-top-xxs[_ngcontent-%COMP%]{padding-top:.125rem}.et-padding-bottom-xxs[_ngcontent-%COMP%]{padding-bottom:.125rem}.et-padding-vertical-xxs[_ngcontent-%COMP%]{padding:.125rem 0}.et-padding-horizontal-xxs[_ngcontent-%COMP%]{padding:0 .125rem}.et-padding-start-xxs[_ngcontent-%COMP%]{padding-left:.125rem;padding-right:0}.et-padding-end-xxs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxs[_ngcontent-%COMP%]{padding-right:.125rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxs[_ngcontent-%COMP%]{padding-left:.125rem;padding-right:0}.et-padding-xs[_ngcontent-%COMP%]{padding:.375rem}.et-padding-top-xs[_ngcontent-%COMP%]{padding-top:.375rem}.et-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:.375rem}.et-padding-vertical-xs[_ngcontent-%COMP%]{padding:.375rem 0}.et-padding-horizontal-xs[_ngcontent-%COMP%]{padding:0 .375rem}.et-padding-start-xs[_ngcontent-%COMP%]{padding-left:.375rem;padding-right:0}.et-padding-end-xs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xs[_ngcontent-%COMP%]{padding-right:.375rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xs[_ngcontent-%COMP%]{padding-left:.375rem;padding-right:0}.et-padding-s[_ngcontent-%COMP%]{padding:.75rem}.et-padding-top-s[_ngcontent-%COMP%]{padding-top:.75rem}.et-padding-bottom-s[_ngcontent-%COMP%]{padding-bottom:.75rem}.et-padding-vertical-s[_ngcontent-%COMP%]{padding:.75rem 0}.et-padding-horizontal-s[_ngcontent-%COMP%]{padding:0 .75rem}.et-padding-start-s[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:0}.et-padding-end-s[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-s[_ngcontent-%COMP%]{padding-right:.75rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-s[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:0}.et-padding-m[_ngcontent-%COMP%]{padding:1.125rem}.et-padding-top-m[_ngcontent-%COMP%]{padding-top:1.125rem}.et-padding-bottom-m[_ngcontent-%COMP%]{padding-bottom:1.125rem}.et-padding-vertical-m[_ngcontent-%COMP%]{padding:1.125rem 0}.et-padding-horizontal-m[_ngcontent-%COMP%]{padding:0 1.125rem}.et-padding-start-m[_ngcontent-%COMP%]{padding-left:1.125rem;padding-right:0}.et-padding-end-m[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-m[_ngcontent-%COMP%]{padding-right:1.125rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-m[_ngcontent-%COMP%]{padding-left:1.125rem;padding-right:0}.et-padding-l[_ngcontent-%COMP%]{padding:1.5rem}.et-padding-top-l[_ngcontent-%COMP%]{padding-top:1.5rem}.et-padding-bottom-l[_ngcontent-%COMP%]{padding-bottom:1.5rem}.et-padding-vertical-l[_ngcontent-%COMP%]{padding:1.5rem 0}.et-padding-horizontal-l[_ngcontent-%COMP%]{padding:0 1.5rem}.et-padding-start-l[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:0}.et-padding-end-l[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-l[_ngcontent-%COMP%]{padding-right:1.5rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-l[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:0}.et-padding-xl[_ngcontent-%COMP%]{padding:1.875rem}.et-padding-top-xl[_ngcontent-%COMP%]{padding-top:1.875rem}.et-padding-bottom-xl[_ngcontent-%COMP%]{padding-bottom:1.875rem}.et-padding-vertical-xl[_ngcontent-%COMP%]{padding:1.875rem 0}.et-padding-horizontal-xl[_ngcontent-%COMP%]{padding:0 1.875rem}.et-padding-start-xl[_ngcontent-%COMP%]{padding-left:1.875rem;padding-right:0}.et-padding-end-xl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xl[_ngcontent-%COMP%]{padding-right:1.875rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xl[_ngcontent-%COMP%]{padding-left:1.875rem;padding-right:0}.et-padding-xxl[_ngcontent-%COMP%]{padding:2.5rem}.et-padding-top-xxl[_ngcontent-%COMP%]{padding-top:2.5rem}.et-padding-bottom-xxl[_ngcontent-%COMP%]{padding-bottom:2.5rem}.et-padding-vertical-xxl[_ngcontent-%COMP%]{padding:2.5rem 0}.et-padding-horizontal-xxl[_ngcontent-%COMP%]{padding:0 2.5rem}.et-padding-start-xxl[_ngcontent-%COMP%]{padding-left:2.5rem;padding-right:0}.et-padding-end-xxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxl[_ngcontent-%COMP%]{padding-right:2.5rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxl[_ngcontent-%COMP%]{padding-left:2.5rem;padding-right:0}.et-padding-xxxl[_ngcontent-%COMP%]{padding:3.75rem}.et-padding-top-xxxl[_ngcontent-%COMP%]{padding-top:3.75rem}.et-padding-bottom-xxxl[_ngcontent-%COMP%]{padding-bottom:3.75rem}.et-padding-vertical-xxxl[_ngcontent-%COMP%]{padding:3.75rem 0}.et-padding-horizontal-xxxl[_ngcontent-%COMP%]{padding:0 3.75rem}.et-padding-start-xxxl[_ngcontent-%COMP%]{padding-left:3.75rem;padding-right:0}.et-padding-end-xxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxxl[_ngcontent-%COMP%]{padding-right:3.75rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxxl[_ngcontent-%COMP%]{padding-left:3.75rem;padding-right:0}.et-padding-xxxxl[_ngcontent-%COMP%]{padding:5rem}.et-padding-top-xxxxl[_ngcontent-%COMP%]{padding-top:5rem}.et-padding-bottom-xxxxl[_ngcontent-%COMP%]{padding-bottom:5rem}.et-padding-vertical-xxxxl[_ngcontent-%COMP%]{padding:5rem 0}.et-padding-horizontal-xxxxl[_ngcontent-%COMP%]{padding:0 5rem}.et-padding-start-xxxxl[_ngcontent-%COMP%]{padding-left:5rem;padding-right:0}.et-padding-end-xxxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxxxl[_ngcontent-%COMP%]{padding-right:5rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxxxl[_ngcontent-%COMP%]{padding-left:5rem;padding-right:0}.et-padding-auto[_ngcontent-%COMP%]{padding:auto}.et-padding-top-auto[_ngcontent-%COMP%]{padding-top:auto}.et-padding-bottom-auto[_ngcontent-%COMP%]{padding-bottom:auto}.et-padding-vertical-auto[_ngcontent-%COMP%]{padding:auto 0}.et-padding-horizontal-auto[_ngcontent-%COMP%]{padding:0 auto}.et-padding-start-auto[_ngcontent-%COMP%]{padding-left:auto;padding-right:0}.et-padding-end-auto[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-auto[_ngcontent-%COMP%]{padding-right:auto;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-auto[_ngcontent-%COMP%]{padding-left:auto;padding-right:0}.et-margin-no[_ngcontent-%COMP%]{margin:0}.et-margin-top-no[_ngcontent-%COMP%]{margin-top:0}.et-margin-bottom-no[_ngcontent-%COMP%]{margin-bottom:0}.et-margin-vertical-no[_ngcontent-%COMP%], .et-margin-horizontal-no[_ngcontent-%COMP%]{margin:0}.et-margin-start-no[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.et-margin-end-no[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-no[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-no[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.et-margin-xxs[_ngcontent-%COMP%]{margin:.125rem}.et-margin-top-xxs[_ngcontent-%COMP%]{margin-top:.125rem}.et-margin-bottom-xxs[_ngcontent-%COMP%]{margin-bottom:.125rem}.et-margin-vertical-xxs[_ngcontent-%COMP%]{margin:.125rem 0}.et-margin-horizontal-xxs[_ngcontent-%COMP%]{margin:0 .125rem}.et-margin-start-xxs[_ngcontent-%COMP%]{margin-left:.125rem;margin-right:0}.et-margin-end-xxs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxs[_ngcontent-%COMP%]{margin-right:.125rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxs[_ngcontent-%COMP%]{margin-left:.125rem;margin-right:0}.et-margin-xs[_ngcontent-%COMP%]{margin:.375rem}.et-margin-top-xs[_ngcontent-%COMP%]{margin-top:.375rem}.et-margin-bottom-xs[_ngcontent-%COMP%]{margin-bottom:.375rem}.et-margin-vertical-xs[_ngcontent-%COMP%]{margin:.375rem 0}.et-margin-horizontal-xs[_ngcontent-%COMP%]{margin:0 .375rem}.et-margin-start-xs[_ngcontent-%COMP%]{margin-left:.375rem;margin-right:0}.et-margin-end-xs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xs[_ngcontent-%COMP%]{margin-right:.375rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xs[_ngcontent-%COMP%]{margin-left:.375rem;margin-right:0}.et-margin-s[_ngcontent-%COMP%]{margin:.75rem}.et-margin-top-s[_ngcontent-%COMP%]{margin-top:.75rem}.et-margin-bottom-s[_ngcontent-%COMP%]{margin-bottom:.75rem}.et-margin-vertical-s[_ngcontent-%COMP%]{margin:.75rem 0}.et-margin-horizontal-s[_ngcontent-%COMP%]{margin:0 .75rem}.et-margin-start-s[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:0}.et-margin-end-s[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-s[_ngcontent-%COMP%]{margin-right:.75rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-s[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:0}.et-margin-m[_ngcontent-%COMP%]{margin:1.125rem}.et-margin-top-m[_ngcontent-%COMP%]{margin-top:1.125rem}.et-margin-bottom-m[_ngcontent-%COMP%]{margin-bottom:1.125rem}.et-margin-vertical-m[_ngcontent-%COMP%]{margin:1.125rem 0}.et-margin-horizontal-m[_ngcontent-%COMP%]{margin:0 1.125rem}.et-margin-start-m[_ngcontent-%COMP%]{margin-left:1.125rem;margin-right:0}.et-margin-end-m[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-m[_ngcontent-%COMP%]{margin-right:1.125rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-m[_ngcontent-%COMP%]{margin-left:1.125rem;margin-right:0}.et-margin-l[_ngcontent-%COMP%]{margin:1.5rem}.et-margin-top-l[_ngcontent-%COMP%]{margin-top:1.5rem}.et-margin-bottom-l[_ngcontent-%COMP%]{margin-bottom:1.5rem}.et-margin-vertical-l[_ngcontent-%COMP%]{margin:1.5rem 0}.et-margin-horizontal-l[_ngcontent-%COMP%]{margin:0 1.5rem}.et-margin-start-l[_ngcontent-%COMP%]{margin-left:1.5rem;margin-right:0}.et-margin-end-l[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-l[_ngcontent-%COMP%]{margin-right:1.5rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-l[_ngcontent-%COMP%]{margin-left:1.5rem;margin-right:0}.et-margin-xl[_ngcontent-%COMP%]{margin:1.875rem}.et-margin-top-xl[_ngcontent-%COMP%]{margin-top:1.875rem}.et-margin-bottom-xl[_ngcontent-%COMP%]{margin-bottom:1.875rem}.et-margin-vertical-xl[_ngcontent-%COMP%]{margin:1.875rem 0}.et-margin-horizontal-xl[_ngcontent-%COMP%]{margin:0 1.875rem}.et-margin-start-xl[_ngcontent-%COMP%]{margin-left:1.875rem;margin-right:0}.et-margin-end-xl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xl[_ngcontent-%COMP%]{margin-right:1.875rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xl[_ngcontent-%COMP%]{margin-left:1.875rem;margin-right:0}.et-margin-xxl[_ngcontent-%COMP%]{margin:2.5rem}.et-margin-top-xxl[_ngcontent-%COMP%]{margin-top:2.5rem}.et-margin-bottom-xxl[_ngcontent-%COMP%]{margin-bottom:2.5rem}.et-margin-vertical-xxl[_ngcontent-%COMP%]{margin:2.5rem 0}.et-margin-horizontal-xxl[_ngcontent-%COMP%]{margin:0 2.5rem}.et-margin-start-xxl[_ngcontent-%COMP%]{margin-left:2.5rem;margin-right:0}.et-margin-end-xxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxl[_ngcontent-%COMP%]{margin-right:2.5rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxl[_ngcontent-%COMP%]{margin-left:2.5rem;margin-right:0}.et-margin-xxxl[_ngcontent-%COMP%]{margin:3.75rem}.et-margin-top-xxxl[_ngcontent-%COMP%]{margin-top:3.75rem}.et-margin-bottom-xxxl[_ngcontent-%COMP%]{margin-bottom:3.75rem}.et-margin-vertical-xxxl[_ngcontent-%COMP%]{margin:3.75rem 0}.et-margin-horizontal-xxxl[_ngcontent-%COMP%]{margin:0 3.75rem}.et-margin-start-xxxl[_ngcontent-%COMP%]{margin-left:3.75rem;margin-right:0}.et-margin-end-xxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxxl[_ngcontent-%COMP%]{margin-right:3.75rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxxl[_ngcontent-%COMP%]{margin-left:3.75rem;margin-right:0}.et-margin-xxxxl[_ngcontent-%COMP%]{margin:5rem}.et-margin-top-xxxxl[_ngcontent-%COMP%]{margin-top:5rem}.et-margin-bottom-xxxxl[_ngcontent-%COMP%]{margin-bottom:5rem}.et-margin-vertical-xxxxl[_ngcontent-%COMP%]{margin:5rem 0}.et-margin-horizontal-xxxxl[_ngcontent-%COMP%]{margin:0 5rem}.et-margin-start-xxxxl[_ngcontent-%COMP%]{margin-left:5rem;margin-right:0}.et-margin-end-xxxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxxxl[_ngcontent-%COMP%]{margin-right:5rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxxxl[_ngcontent-%COMP%]{margin-left:5rem;margin-right:0}.et-margin-auto[_ngcontent-%COMP%]{margin:auto}.et-margin-top-auto[_ngcontent-%COMP%]{margin-top:auto}.et-margin-bottom-auto[_ngcontent-%COMP%]{margin-bottom:auto}.et-margin-vertical-auto[_ngcontent-%COMP%]{margin:auto 0}.et-margin-horizontal-auto[_ngcontent-%COMP%]{margin:0 auto}.et-margin-start-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.et-margin-end-auto[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-auto[_ngcontent-%COMP%]{margin-right:auto;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.document-item[_ngcontent-%COMP%]{align-items:flex-start;display:flex;flex-direction:row;justify-content:space-between;padding:1.875rem;gap:1.5rem}.document-item__caption[_ngcontent-%COMP%]{align-items:flex-start;display:flex;word-wrap:break-word;flex-flow:column wrap;justify-content:flex-start;gap:.125rem}.document-item__sub-title[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:flex-start;gap:.75rem}.document-item__button[_ngcontent-%COMP%]{pointer-events:auto}.document-item__button--in-progress[_ngcontent-%COMP%]{pointer-events:none;border:none}.document-item__formats-container[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;text-align:center}.document-item__formats-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 8px;width:27px;height:35px;background-position:center center;background-repeat:no-repeat;background-size:contain;display:inline-flex;cursor:pointer;pointer-events:auto;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-empty.svg)}.document-item__formats-container[_ngcontent-%COMP%]   .icon.icon-export-pdf[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-pdf.svg)}.document-item__formats-container[_ngcontent-%COMP%]   .icon.icon-export-txf[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-txf.svg)}.document-item__formats-container[_ngcontent-%COMP%]   .icon.icon-export-csv[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-csv.svg)}"],changeDetection:0}),a})();var $g=c(2783),Gg=c(43917),jg=c(37006);let Bg=(()=>{var e;class a{constructor(n,i){this.localizeService=n,this.accountPageService=i,this.dictionary={}}get isCostBasisEnabled(){return this.accountPageService.isCostBasisEnabled}getLangById(n){return(0,ae.A)(cn.H,{id:n})}getLocaleById(n){return(0,F.A)(this.getLangById(n),["cultureCode"]).toLowerCase()}getLangIdByTranslatedName(n){const i=(0,Gg.A)(this.dictionary,r=>r===n);return(0,re.A)(parseInt(i,10),1)}getTranslatedLangById(n){return(0,jg.A)(this.dictionary,[n])||(this.dictionary[n]=this.t(this.getLocaleById(n))),this.dictionary[n]}tns(n,i){return this.localizeService.getResource(`${n}.${i}`)}t(n){return this.tns("settingsGeneral.locale",n)}}return(e=a).\u0275fac=function(n){return new(n||e)(t.KVO(x.X),t.KVO(Et))},e.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),a})();function wn(e,a,o){if("function"==typeof e?e===a:e.has(a))return arguments.length<3?a:o;throw new TypeError("Private element is not present on this object")}function Xg(e,a){if(1&e&&t.EFF(0),2&e){const o=a.$implicit,n=t.XpG();t.JRh(n.t(o)||o)}}function Lg(e,a){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"settings.costBasis.choose")||"Choose Method")}function Yg(e,a){if(1&e&&t.EFF(0),2&e){const o=a.$implicit,n=t.XpG();t.JRh(n.t(o)||o)}}let Hg=(()=>{var e,a=new WeakMap;class o{constructor(i){(0,Rt.A)(this,a,void 0),this.localizeService=i,this.selected=new t.bkB,function Ng(e,a,o){e.set(wn(e,a),o)}(a,this,Object.keys(Ft).filter(r=>isNaN(Number(r))))}get costBasisList(){return function Vg(e,a){return e.get(wn(e,a))}(a,this)}ngOnInit(){}t(i){return this.tns("settings.costBasis.method",i.toString())}selectCostBasis(i){this.selected.emit(i)}tns(i,r){return this.localizeService.getResource(`${i}.${r}`)}}return(e=o).\u0275fac=function(i){return new(i||e)(t.rXU(x.X))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-document-cost-basis"]],outputs:{selected:"selected"},decls:8,vars:6,consts:[["hederStyle","ets-text-dropper","selectStyleVariant","",3,"items","multi","withoutArrow","title","selected"],["selectedTemplate",""],["placeholderTemplate",""],["optionTemplate",""]],template:function(i,r){1&i&&(t.j41(0,"et-stateful-select",0),t.bIt("selected",function(l){return r.selectCostBasis(l)}),t.nI1(1,"translate"),t.DNE(2,Xg,1,1,"ng-template",null,1,t.C5r),t.DNE(4,Lg,2,3,"ng-template",null,2,t.C5r),t.DNE(6,Yg,1,1,"ng-template",null,3,t.C5r),t.k0s()),2&i&&(t.FS9("title",t.bMT(1,4,"settings.costBasis.other")||"Compensation Method"),t.Y8G("items",r.costBasisList)("multi",!1)("withoutArrow",!1))},dependencies:[m.Q6,h.D],changeDetection:0}),o})();function W(e,a){return e.get(Sn(e,a))}function ue(e,a,o){return e.set(Sn(e,a),o),o}function Sn(e,a,o){if("function"==typeof e?e===a:e.has(a))return arguments.length<3?a:o;throw new TypeError("Private element is not present on this object")}function zg(e,a){1&e&&t.EFF(0),2&e&&t.JRh(a.$implicit)}function Kg(e,a){1&e&&(t.EFF(0),t.nI1(1,"translate")),2&e&&t.JRh(t.bMT(1,1,"settings.otherLanguage")||"Other Language")}function Jg(e,a){1&e&&t.EFF(0),2&e&&t.JRh(a.$implicit)}function Wg(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"span"),t.EFF(2,"|"),t.k0s(),t.j41(3,"et-stateful-select",3),t.bIt("selected",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.onSelectLanguage(i))}),t.nI1(4,"translate"),t.DNE(5,zg,1,1,"ng-template",null,4,t.C5r),t.DNE(7,Kg,2,3,"ng-template",null,5,t.C5r),t.DNE(9,Jg,1,1,"ng-template",null,6,t.C5r),t.k0s(),t.bVm()}if(2&e){const o=t.XpG().$implicit;t.R7$(3),t.FS9("title",t.bMT(4,4,"settings.chooseLanguage")||"Choose Language"),t.Y8G("items",o)("multi",!1)("withoutArrow",!1)}}function qg(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"span"),t.EFF(2,"|"),t.k0s(),t.j41(3,"et-document-cost-basis",7),t.bIt("selected",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.onCostBasisSelected(i))}),t.k0s(),t.bVm()}}function Qg(e,a){if(1&e&&(t.DNE(0,Wg,11,6,"ng-container",2),t.DNE(1,qg,4,0,"ng-container",2)),2&e){const o=a.$implicit,n=t.XpG();t.Y8G("ngIf",(null==o?null:o.length)>1),t.R7$(1),t.Y8G("ngIf",n.isShowCostBasis)}}let Zg=(()=>{var e,a=new WeakMap,o=new WeakMap,n=new WeakMap;class i{constructor(s){(0,Rt.A)(this,a,void 0),(0,Rt.A)(this,o,void 0),(0,Rt.A)(this,n,void 0),this.documentBuilder=s,this.documentList=[],ue(a,this,new M.t(0)),this.selectedLangId$=W(a,this).asObservable(),ue(o,this,new M.t(1)),this.selectedCostBasis$=W(o,this).asObservable(),ue(n,this,new M.t(null)),this.documentItem$=W(n,this).asObservable()}get isCostBasisEnabled(){return this.documentBuilder.isCostBasisEnabled}get isShowCostBasis(){const s=(0,F.A)(this.documentList,[0,"compensationMethod"],Ft.fifo);return(0,$g.A)(this.documentList,g=>g.compensationMethod!==s)&&this.isCostBasisEnabled}get selectedLangId(){return W(a,this).getValue()}set selectedLangId(s){W(a,this).next(s)}get selectedCostBasis(){return W(o,this).getValue()}set selectedCostBasis(s){W(o,this).next(s)}set documentItem(s){W(n,this).next(s)}get translatedLangList(){return Array.from(new Set(this.documentList.map(s=>this.documentBuilder.getTranslatedLangById(s.reportLanguageID))))}ngOnInit(){this.documentItem=(0,F.A)(this.documentList,[0]),this.selectedLangId=(0,F.A)(this.documentList,[0,"reportLanguageID"],1),this.selectedCostBasis=(0,F.A)(this.documentList,[0,"compensationMethod"],3),this.selectedLangId$.subscribe({next:()=>{this.actualizeDocument()}}),this.selectedCostBasis$.subscribe({next:()=>{this.actualizeDocument()}})}actualizeDocument(){this.documentItem=(0,ae.A)(this.documentList,{reportLanguageID:this.selectedLangId,compensationMethod:this.selectedCostBasis})}onSelectLanguage(s){this.selectedLangId=this.documentBuilder.getLangIdByTranslatedName(s)}onCostBasisSelected(s){this.selectedCostBasis=Ft[s]}}return(e=i).\u0275fac=function(s){return new(s||e)(t.rXU(Bg))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-document-builder"]],inputs:{documentList:"documentList",buttonTemplate:"buttonTemplate"},decls:4,vars:6,consts:[[3,"buttonTemplate","documentItem","langList","subTitleTemplate"],["subTitleTemplate",""],[4,"ngIf"],["hederStyle","ets-text-dropper","selectStyleVariant","",3,"items","multi","withoutArrow","title","selected"],["selectedTemplate",""],["placeholderTemplate",""],["optionTemplate",""],[3,"selected"]],template:function(s,l){if(1&s&&(t.nrm(0,"et-document-item",0),t.nI1(1,"async"),t.DNE(2,Qg,2,2,"ng-template",null,1,t.C5r)),2&s){const g=t.sdS(3);t.Y8G("buttonTemplate",l.buttonTemplate)("documentItem",t.bMT(1,4,l.documentItem$))("langList",l.translatedLangList)("subTitleTemplate",g)}},dependencies:[d.bT,m.Q6,On,Hg,d.Jj,h.D],changeDetection:0}),i})();function tp(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-document-item",11),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(3);return t.Njj(s.onDocumentButtonClick(r))}),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG(3);t.Y8G("buttonTemplate",n.buttonTemplate)("documentItem",o)}}function ep(e,a){if(1&e&&(t.qex(0),t.DNE(1,tp,1,2,"et-document-item",10),t.bVm()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",o.documentsList)("ngForTrackBy",o.trackById)}}function np(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-document-item",11),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(5);return t.Njj(s.onDocumentButtonClick(r))}),t.k0s()}if(2&e){const o=a.$implicit,n=t.XpG(5);t.Y8G("buttonTemplate",n.buttonTemplate)("documentItem",o)}}function ip(e,a){if(1&e&&(t.qex(0),t.DNE(1,np,1,2,"et-document-item",10),t.bVm()),2&e){const o=t.XpG().$implicit,n=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",o)("ngForTrackBy",n.trackById)}}function op(e,a){if(1&e&&t.nrm(0,"et-document-builder",14),2&e){const o=t.XpG().$implicit,n=t.XpG(3);t.Y8G("buttonTemplate",n.buttonTemplate)("documentList",o)}}function ap(e,a){if(1&e&&(t.qex(0),t.DNE(1,ip,2,2,"ng-container",7),t.DNE(2,op,1,2,"ng-template",null,13,t.C5r),t.bVm()),2&e){const o=a.$implicit,n=t.sdS(3);t.R7$(1),t.Y8G("ngIf",1===o.length)("ngIfElse",n)}}function rp(e,a){if(1&e&&t.DNE(0,ap,4,2,"ng-container",12),2&e){const o=t.XpG(2);t.Y8G("ngForOf",o.groupedDocumentsList)}}function sp(e,a){}function cp(e,a){1&e&&t.DNE(0,sp,0,0,"ng-template")}function lp(e,a){if(1&e&&(t.j41(0,"et-card-footer")(1,"div",15),t.nrm(2,"hr",16),t.DNE(3,cp,1,0,null,17),t.k0s()()),2&e){const o=t.XpG(2);t.R7$(3),t.Y8G("ngTemplateOutlet",o.documentFooter)}}function dp(e,a){if(1&e&&(t.j41(0,"div",3)(1,"div",4),t.nrm(2,"aside",5),t.j41(3,"et-card")(4,"et-card-title",6),t.EFF(5),t.k0s(),t.j41(6,"et-card-content"),t.DNE(7,ep,2,2,"ng-container",7),t.DNE(8,rp,1,1,"ng-template",null,8,t.C5r),t.k0s(),t.DNE(10,lp,4,1,"et-card-footer",9),t.k0s()()()),2&e){const o=t.sdS(9),n=t.XpG();t.R7$(5),t.JRh(n.documentsHeading),t.R7$(2),t.Y8G("ngIf",null==n.documentsList?null:n.documentsList.length)("ngIfElse",o),t.R7$(3),t.Y8G("ngIf",n.documentFooter)}}function gp(e,a){1&e&&(t.j41(0,"div",18),t.nrm(1,"div",19),t.j41(2,"div",20),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"settings.documents.empty")))}let Tn=(()=>{var e;class a{constructor(){this.documentClicked=new t.bkB}trackById(n){return n}onDocumentButtonClick(n){this.documentClicked.emit(n)}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["et-documents-list"]],inputs:{documentsList:"documentsList",groupedDocumentsList:"groupedDocumentsList",documentsHeading:"documentsHeading",buttonTemplate:"buttonTemplate",documentFooter:"documentFooter"},outputs:{documentClicked:"documentClicked"},decls:4,vars:2,consts:[[1,"et-documents-container"],["class","et-layout two-columns-layout",4,"ngIf","ngIfElse"],["emptyScreen",""],[1,"et-layout","two-columns-layout"],[1,"et-grid-area1","et-flex"],["automation-id","settings-documents-img",1,"settings-documents-img"],["automation-id","settings-documents-heading",1,"settings-documents-heading"],[4,"ngIf","ngIfElse"],["groupedDocumentList",""],[4,"ngIf"],[3,"buttonTemplate","documentItem","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonTemplate","documentItem","click"],[4,"ngFor","ngForOf"],["documentBuilder",""],[3,"buttonTemplate","documentList"],["automation-id","settings-documents-footer",1,"settings-documents-document-footer"],[1,"et-horizontal-divider"],[4,"ngTemplateOutlet"],["automation-id","settings-documents-empty",1,"settings-documents-empty"],[1,"settings-documents-empty-icon"],[1,"settings-documents-empty-text"]],template:function(n,i){if(1&n&&(t.j41(0,"div",0),t.DNE(1,dp,11,4,"div",1),t.DNE(2,gp,5,3,"ng-template",null,2,t.C5r),t.k0s()),2&n){const r=t.sdS(3);t.R7$(1),t.Y8G("ngIf",(null==i.groupedDocumentsList?null:i.groupedDocumentsList.length)||(null==i.documentsList?null:i.documentsList.length))("ngIfElse",r)}},dependencies:[d.Sq,d.bT,d.T3,w.i,$.y,S.l,et.R,On,Zg,h.D],styles:[".et-padding-no[_ngcontent-%COMP%]{padding:0}.et-padding-top-no[_ngcontent-%COMP%]{padding-top:0}.et-padding-bottom-no[_ngcontent-%COMP%]{padding-bottom:0}.et-padding-vertical-no[_ngcontent-%COMP%], .et-padding-horizontal-no[_ngcontent-%COMP%]{padding:0}.et-padding-start-no[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.et-padding-end-no[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-no[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-no[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.et-padding-xxs[_ngcontent-%COMP%]{padding:.125rem}.et-padding-top-xxs[_ngcontent-%COMP%]{padding-top:.125rem}.et-padding-bottom-xxs[_ngcontent-%COMP%]{padding-bottom:.125rem}.et-padding-vertical-xxs[_ngcontent-%COMP%]{padding:.125rem 0}.et-padding-horizontal-xxs[_ngcontent-%COMP%]{padding:0 .125rem}.et-padding-start-xxs[_ngcontent-%COMP%]{padding-left:.125rem;padding-right:0}.et-padding-end-xxs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxs[_ngcontent-%COMP%]{padding-right:.125rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxs[_ngcontent-%COMP%]{padding-left:.125rem;padding-right:0}.et-padding-xs[_ngcontent-%COMP%]{padding:.375rem}.et-padding-top-xs[_ngcontent-%COMP%]{padding-top:.375rem}.et-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:.375rem}.et-padding-vertical-xs[_ngcontent-%COMP%]{padding:.375rem 0}.et-padding-horizontal-xs[_ngcontent-%COMP%]{padding:0 .375rem}.et-padding-start-xs[_ngcontent-%COMP%]{padding-left:.375rem;padding-right:0}.et-padding-end-xs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xs[_ngcontent-%COMP%]{padding-right:.375rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xs[_ngcontent-%COMP%]{padding-left:.375rem;padding-right:0}.et-padding-s[_ngcontent-%COMP%]{padding:.75rem}.et-padding-top-s[_ngcontent-%COMP%]{padding-top:.75rem}.et-padding-bottom-s[_ngcontent-%COMP%]{padding-bottom:.75rem}.et-padding-vertical-s[_ngcontent-%COMP%]{padding:.75rem 0}.et-padding-horizontal-s[_ngcontent-%COMP%]{padding:0 .75rem}.et-padding-start-s[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:0}.et-padding-end-s[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-s[_ngcontent-%COMP%]{padding-right:.75rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-s[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:0}.et-padding-m[_ngcontent-%COMP%]{padding:1.125rem}.et-padding-top-m[_ngcontent-%COMP%]{padding-top:1.125rem}.et-padding-bottom-m[_ngcontent-%COMP%]{padding-bottom:1.125rem}.et-padding-vertical-m[_ngcontent-%COMP%]{padding:1.125rem 0}.et-padding-horizontal-m[_ngcontent-%COMP%]{padding:0 1.125rem}.et-padding-start-m[_ngcontent-%COMP%]{padding-left:1.125rem;padding-right:0}.et-padding-end-m[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-m[_ngcontent-%COMP%]{padding-right:1.125rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-m[_ngcontent-%COMP%]{padding-left:1.125rem;padding-right:0}.et-padding-l[_ngcontent-%COMP%]{padding:1.5rem}.et-padding-top-l[_ngcontent-%COMP%]{padding-top:1.5rem}.et-padding-bottom-l[_ngcontent-%COMP%]{padding-bottom:1.5rem}.et-padding-vertical-l[_ngcontent-%COMP%]{padding:1.5rem 0}.et-padding-horizontal-l[_ngcontent-%COMP%]{padding:0 1.5rem}.et-padding-start-l[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:0}.et-padding-end-l[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-l[_ngcontent-%COMP%]{padding-right:1.5rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-l[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:0}.et-padding-xl[_ngcontent-%COMP%]{padding:1.875rem}.et-padding-top-xl[_ngcontent-%COMP%]{padding-top:1.875rem}.et-padding-bottom-xl[_ngcontent-%COMP%]{padding-bottom:1.875rem}.et-padding-vertical-xl[_ngcontent-%COMP%]{padding:1.875rem 0}.et-padding-horizontal-xl[_ngcontent-%COMP%]{padding:0 1.875rem}.et-padding-start-xl[_ngcontent-%COMP%]{padding-left:1.875rem;padding-right:0}.et-padding-end-xl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xl[_ngcontent-%COMP%]{padding-right:1.875rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xl[_ngcontent-%COMP%]{padding-left:1.875rem;padding-right:0}.et-padding-xxl[_ngcontent-%COMP%]{padding:2.5rem}.et-padding-top-xxl[_ngcontent-%COMP%]{padding-top:2.5rem}.et-padding-bottom-xxl[_ngcontent-%COMP%]{padding-bottom:2.5rem}.et-padding-vertical-xxl[_ngcontent-%COMP%]{padding:2.5rem 0}.et-padding-horizontal-xxl[_ngcontent-%COMP%]{padding:0 2.5rem}.et-padding-start-xxl[_ngcontent-%COMP%]{padding-left:2.5rem;padding-right:0}.et-padding-end-xxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxl[_ngcontent-%COMP%]{padding-right:2.5rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxl[_ngcontent-%COMP%]{padding-left:2.5rem;padding-right:0}.et-padding-xxxl[_ngcontent-%COMP%]{padding:3.75rem}.et-padding-top-xxxl[_ngcontent-%COMP%]{padding-top:3.75rem}.et-padding-bottom-xxxl[_ngcontent-%COMP%]{padding-bottom:3.75rem}.et-padding-vertical-xxxl[_ngcontent-%COMP%]{padding:3.75rem 0}.et-padding-horizontal-xxxl[_ngcontent-%COMP%]{padding:0 3.75rem}.et-padding-start-xxxl[_ngcontent-%COMP%]{padding-left:3.75rem;padding-right:0}.et-padding-end-xxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxxl[_ngcontent-%COMP%]{padding-right:3.75rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxxl[_ngcontent-%COMP%]{padding-left:3.75rem;padding-right:0}.et-padding-xxxxl[_ngcontent-%COMP%]{padding:5rem}.et-padding-top-xxxxl[_ngcontent-%COMP%]{padding-top:5rem}.et-padding-bottom-xxxxl[_ngcontent-%COMP%]{padding-bottom:5rem}.et-padding-vertical-xxxxl[_ngcontent-%COMP%]{padding:5rem 0}.et-padding-horizontal-xxxxl[_ngcontent-%COMP%]{padding:0 5rem}.et-padding-start-xxxxl[_ngcontent-%COMP%]{padding-left:5rem;padding-right:0}.et-padding-end-xxxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-xxxxl[_ngcontent-%COMP%]{padding-right:5rem;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-xxxxl[_ngcontent-%COMP%]{padding-left:5rem;padding-right:0}.et-padding-auto[_ngcontent-%COMP%]{padding:auto}.et-padding-top-auto[_ngcontent-%COMP%]{padding-top:auto}.et-padding-bottom-auto[_ngcontent-%COMP%]{padding-bottom:auto}.et-padding-vertical-auto[_ngcontent-%COMP%]{padding:auto 0}.et-padding-horizontal-auto[_ngcontent-%COMP%]{padding:0 auto}.et-padding-start-auto[_ngcontent-%COMP%]{padding-left:auto;padding-right:0}.et-padding-end-auto[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-padding-start-auto[_ngcontent-%COMP%]{padding-right:auto;padding-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-padding-end-auto[_ngcontent-%COMP%]{padding-left:auto;padding-right:0}.et-margin-no[_ngcontent-%COMP%]{margin:0}.et-margin-top-no[_ngcontent-%COMP%]{margin-top:0}.et-margin-bottom-no[_ngcontent-%COMP%]{margin-bottom:0}.et-margin-vertical-no[_ngcontent-%COMP%], .et-margin-horizontal-no[_ngcontent-%COMP%]{margin:0}.et-margin-start-no[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.et-margin-end-no[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-no[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-no[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.et-margin-xxs[_ngcontent-%COMP%]{margin:.125rem}.et-margin-top-xxs[_ngcontent-%COMP%]{margin-top:.125rem}.et-margin-bottom-xxs[_ngcontent-%COMP%]{margin-bottom:.125rem}.et-margin-vertical-xxs[_ngcontent-%COMP%]{margin:.125rem 0}.et-margin-horizontal-xxs[_ngcontent-%COMP%]{margin:0 .125rem}.et-margin-start-xxs[_ngcontent-%COMP%]{margin-left:.125rem;margin-right:0}.et-margin-end-xxs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxs[_ngcontent-%COMP%]{margin-right:.125rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxs[_ngcontent-%COMP%]{margin-left:.125rem;margin-right:0}.et-margin-xs[_ngcontent-%COMP%]{margin:.375rem}.et-margin-top-xs[_ngcontent-%COMP%]{margin-top:.375rem}.et-margin-bottom-xs[_ngcontent-%COMP%]{margin-bottom:.375rem}.et-margin-vertical-xs[_ngcontent-%COMP%]{margin:.375rem 0}.et-margin-horizontal-xs[_ngcontent-%COMP%]{margin:0 .375rem}.et-margin-start-xs[_ngcontent-%COMP%]{margin-left:.375rem;margin-right:0}.et-margin-end-xs[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xs[_ngcontent-%COMP%]{margin-right:.375rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xs[_ngcontent-%COMP%]{margin-left:.375rem;margin-right:0}.et-margin-s[_ngcontent-%COMP%]{margin:.75rem}.et-margin-top-s[_ngcontent-%COMP%]{margin-top:.75rem}.et-margin-bottom-s[_ngcontent-%COMP%]{margin-bottom:.75rem}.et-margin-vertical-s[_ngcontent-%COMP%]{margin:.75rem 0}.et-margin-horizontal-s[_ngcontent-%COMP%]{margin:0 .75rem}.et-margin-start-s[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:0}.et-margin-end-s[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-s[_ngcontent-%COMP%]{margin-right:.75rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-s[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:0}.et-margin-m[_ngcontent-%COMP%]{margin:1.125rem}.et-margin-top-m[_ngcontent-%COMP%]{margin-top:1.125rem}.et-margin-bottom-m[_ngcontent-%COMP%]{margin-bottom:1.125rem}.et-margin-vertical-m[_ngcontent-%COMP%]{margin:1.125rem 0}.et-margin-horizontal-m[_ngcontent-%COMP%]{margin:0 1.125rem}.et-margin-start-m[_ngcontent-%COMP%]{margin-left:1.125rem;margin-right:0}.et-margin-end-m[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-m[_ngcontent-%COMP%]{margin-right:1.125rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-m[_ngcontent-%COMP%]{margin-left:1.125rem;margin-right:0}.et-margin-l[_ngcontent-%COMP%]{margin:1.5rem}.et-margin-top-l[_ngcontent-%COMP%]{margin-top:1.5rem}.et-margin-bottom-l[_ngcontent-%COMP%]{margin-bottom:1.5rem}.et-margin-vertical-l[_ngcontent-%COMP%]{margin:1.5rem 0}.et-margin-horizontal-l[_ngcontent-%COMP%]{margin:0 1.5rem}.et-margin-start-l[_ngcontent-%COMP%]{margin-left:1.5rem;margin-right:0}.et-margin-end-l[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-l[_ngcontent-%COMP%]{margin-right:1.5rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-l[_ngcontent-%COMP%]{margin-left:1.5rem;margin-right:0}.et-margin-xl[_ngcontent-%COMP%]{margin:1.875rem}.et-margin-top-xl[_ngcontent-%COMP%]{margin-top:1.875rem}.et-margin-bottom-xl[_ngcontent-%COMP%]{margin-bottom:1.875rem}.et-margin-vertical-xl[_ngcontent-%COMP%]{margin:1.875rem 0}.et-margin-horizontal-xl[_ngcontent-%COMP%]{margin:0 1.875rem}.et-margin-start-xl[_ngcontent-%COMP%]{margin-left:1.875rem;margin-right:0}.et-margin-end-xl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xl[_ngcontent-%COMP%]{margin-right:1.875rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xl[_ngcontent-%COMP%]{margin-left:1.875rem;margin-right:0}.et-margin-xxl[_ngcontent-%COMP%]{margin:2.5rem}.et-margin-top-xxl[_ngcontent-%COMP%]{margin-top:2.5rem}.et-margin-bottom-xxl[_ngcontent-%COMP%]{margin-bottom:2.5rem}.et-margin-vertical-xxl[_ngcontent-%COMP%]{margin:2.5rem 0}.et-margin-horizontal-xxl[_ngcontent-%COMP%]{margin:0 2.5rem}.et-margin-start-xxl[_ngcontent-%COMP%]{margin-left:2.5rem;margin-right:0}.et-margin-end-xxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxl[_ngcontent-%COMP%]{margin-right:2.5rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxl[_ngcontent-%COMP%]{margin-left:2.5rem;margin-right:0}.et-margin-xxxl[_ngcontent-%COMP%]{margin:3.75rem}.et-margin-top-xxxl[_ngcontent-%COMP%]{margin-top:3.75rem}.et-margin-bottom-xxxl[_ngcontent-%COMP%]{margin-bottom:3.75rem}.et-margin-vertical-xxxl[_ngcontent-%COMP%]{margin:3.75rem 0}.et-margin-horizontal-xxxl[_ngcontent-%COMP%]{margin:0 3.75rem}.et-margin-start-xxxl[_ngcontent-%COMP%]{margin-left:3.75rem;margin-right:0}.et-margin-end-xxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxxl[_ngcontent-%COMP%]{margin-right:3.75rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxxl[_ngcontent-%COMP%]{margin-left:3.75rem;margin-right:0}.et-margin-xxxxl[_ngcontent-%COMP%]{margin:5rem}.et-margin-top-xxxxl[_ngcontent-%COMP%]{margin-top:5rem}.et-margin-bottom-xxxxl[_ngcontent-%COMP%]{margin-bottom:5rem}.et-margin-vertical-xxxxl[_ngcontent-%COMP%]{margin:5rem 0}.et-margin-horizontal-xxxxl[_ngcontent-%COMP%]{margin:0 5rem}.et-margin-start-xxxxl[_ngcontent-%COMP%]{margin-left:5rem;margin-right:0}.et-margin-end-xxxxl[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-xxxxl[_ngcontent-%COMP%]{margin-right:5rem;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-xxxxl[_ngcontent-%COMP%]{margin-left:5rem;margin-right:0}.et-margin-auto[_ngcontent-%COMP%]{margin:auto}.et-margin-top-auto[_ngcontent-%COMP%]{margin-top:auto}.et-margin-bottom-auto[_ngcontent-%COMP%]{margin-bottom:auto}.et-margin-vertical-auto[_ngcontent-%COMP%]{margin:auto 0}.et-margin-horizontal-auto[_ngcontent-%COMP%]{margin:0 auto}.et-margin-start-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.et-margin-end-auto[_ngcontent-%COMP%], .rtl-direction[_ngcontent-%COMP%]   .et-margin-start-auto[_ngcontent-%COMP%]{margin-right:auto;margin-left:0}.rtl-direction[_ngcontent-%COMP%]   .et-margin-end-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}et-card[_ngcontent-%COMP%]{width:100%;border-radius:0 6px 6px 0;padding:0}et-card-content[_ngcontent-%COMP%]{min-height:425px;max-height:520px;overflow-y:auto}.et-documents-container[_ngcontent-%COMP%]   .et-layout.two-columns-layout[_ngcontent-%COMP%]{margin-top:3.75rem}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-heading[_ngcontent-%COMP%]     .et-h2{text-transform:none;font-size:20px;letter-spacing:-.5px;color:var(--primary-neutral-text);font-weight:700;border-bottom:1px solid var(--static-neutral-40);padding:30px;margin:0}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:0;margin:0 30px;pointer-events:none}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document[_ngcontent-%COMP%]:last-child{padding-bottom:1rem}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document-button[_ngcontent-%COMP%]{font-weight:600;text-transform:none;display:flex;pointer-events:auto}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document-arrow-link[_ngcontent-%COMP%]{display:none}.settings-documents-document-title-date-container[_ngcontent-%COMP%]{flex:1}.settings-documents-document-title-date-container[_ngcontent-%COMP%]   .settings-documents-document-title[_ngcontent-%COMP%]{font-size:16px;letter-spacing:-.4px;color:var(--primary-neutral-text);font-weight:400}.settings-documents-document-title-date-container[_ngcontent-%COMP%]   .settings-documents-document-date[_ngcontent-%COMP%]{font-weight:300;color:var(--neutral-80)}.settings-documents-img[_ngcontent-%COMP%]{background-color:var(--tertiary-divider);display:none;flex:none;width:300px;border-right:solid 1px rgba(var(--rgb-neutral-100),.07);border-top-left-radius:6px;border-bottom-left-radius:6px;background-position-x:right;background-position-y:bottom;background-repeat:no-repeat;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img//account-statement/documents-aside.png)}.settings-documents-document-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center;padding:30px}.et-horizontal-divider[_ngcontent-%COMP%]{margin-bottom:30px}.settings-documents-empty[_ngcontent-%COMP%]{margin:330px auto 0}.settings-documents-empty[_ngcontent-%COMP%]   .settings-documents-empty-icon[_ngcontent-%COMP%]{height:95px;margin-bottom:13px;background-size:100px 95px;background-repeat:no-repeat;background-position:center;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img//account-statement/empty-documents.svg)}.settings-documents-empty[_ngcontent-%COMP%]   .settings-documents-empty-text[_ngcontent-%COMP%]{font-size:22px;color:var(--primary-neutral-text);opacity:.2;text-align:center}@media (min-width: 990px){.settings-documents-img[_ngcontent-%COMP%]{display:block}}@media (max-width: 767px){.settings-documents-img[_ngcontent-%COMP%]{display:none}et-card-content[_ngcontent-%COMP%]{max-height:unset}.et-documents-container[_ngcontent-%COMP%]   .et-layout.two-columns-layout[_ngcontent-%COMP%]{margin-top:0}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-heading[_ngcontent-%COMP%]     .et-h2{border:none;padding:30px 20px 10px}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document[_ngcontent-%COMP%]{margin:0 20px;pointer-events:auto}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document-button[_ngcontent-%COMP%]{display:none}.et-documents-container[_ngcontent-%COMP%]   .settings-documents-document-arrow-link[_ngcontent-%COMP%]{display:block}.settings-documents-empty[_ngcontent-%COMP%]{margin-top:180px}.settings-documents-empty[_ngcontent-%COMP%]   .settings-documents-empty-text[_ngcontent-%COMP%]{font-size:30px}}"],changeDetection:0}),a})();function pp(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-documents-list",1),t.bIt("documentClicked",function(i){t.eBV(o);const r=t.XpG();return t.Njj(r.onDocumentButtonClick(i))}),t.k0s()}if(2&e){const o=t.XpG();t.Y8G("documentsHeading",o.documentsHeading)("documentsList",o.documentsList)}}let up=(()=>{var e;class a{constructor(n,i,r,s,l){this.localizeService=n,this.accountPageService=i,this.$analytics=r,this.cdr=s,this.loader=l,this.kycBaseUrl="/sapi/kyc"}ngOnInit(){this.loader.applyShow(),this.isLoading=!0,this.initUsStocksData()}onDocumentButtonClick(n){this.$analytics.eventTrack(`Settings - account - ${Yt[n.documentType]} - view`),this.accountPageService.downloadDocument(n.documentUrl,n.documentType)}trackById(n){return n}initUsStocksData(){this.documentsHeading=this.localizeService.getResource(`settings.documents.${this.documentType}`),this.accountPageService.getUsStockDocumentsList(this.documentType).subscribe(n=>{this.documentsList=n.map(i=>({documentType:this.documentType,documentUrl:`${this.kycBaseUrl}${i.documentUrl}`,documentTypeText:this.localizeService.getResource(`settings.documents.${this.documentType}.item`),dateText:(0,d.Yq)(i.documentDate,"MMMM d,yyyy",this.localizeService.registeredLocale),buttonText:this.localizeService.getResource("settings.documents.button.view")})),this.showDocuments()})}showDocuments(){this.loader.applyHide(),this.isLoading=!1,this.cdr.detectChanges()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X),t.rXU(Et),t.rXU(k.c),t.rXU(t.gRc),t.rXU("infrastruct.services.loader"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-documents"]],inputs:{documentType:"documentType"},decls:1,vars:1,consts:[[3,"documentsHeading","documentsList","documentClicked",4,"ngIf"],[3,"documentsHeading","documentsList","documentClicked"]],template:function(n,i){1&n&&t.DNE(0,pp,1,2,"et-documents-list",0),2&n&&t.Y8G("ngIf",!i.isLoading)},dependencies:[d.bT,Tn],changeDetection:0}),a})();function mp(e,a){if(1&e&&(t.qex(0),t.nrm(1,"et-documents-list",3),t.nI1(2,"translate"),t.nI1(3,"async"),t.bVm()),2&e){const o=t.XpG(),n=t.sdS(3),i=t.sdS(5);t.R7$(1),t.Y8G("buttonTemplate",n)("documentFooter",i)("documentsHeading",t.bMT(2,4,"settings.documents.taxReport"))("groupedDocumentsList",t.bMT(3,6,o.groupedDocumentsList$))}}function hp(e,a){if(1&e){const o=t.RV6();t.j41(0,"a",8),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(3);return t.Njj(s.downloadTaxReport(r.documentId,r.extension))}),t.k0s()}if(2&e){const o=a.$implicit;t.ZvI("icon icon-export-",o.extension,""),t.BMQ("automation-id","settings-documents-document-link-"+o.extension)}}function fp(e,a){if(1&e&&(t.j41(0,"div",6),t.DNE(1,hp,1,4,"a",7),t.k0s()),2&e){const o=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",o.formats)}}function _p(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG();return t.Njj(r.onDocumentButtonClick(i))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&e){const o=t.XpG().$implicit,n=t.XpG();t.AVh("in-progress",n.isInProgress(o.buttonStatus)),t.R7$(1),t.SpI(" ",t.bMT(2,3,"settings.documents.taxReport."+o.buttonStatus)," ")}}function Cp(e,a){if(1&e&&(t.DNE(0,fp,2,1,"div",4),t.DNE(1,_p,3,5,"ng-template",null,5,t.C5r)),2&e){const o=a.$implicit,n=t.sdS(2);t.Y8G("ngIf",null==o.formats?null:o.formats.length)("ngIfElse",n)}}function vp(e,a){if(1&e){const o=t.RV6();t.qex(0),t.j41(1,"p",12),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"a",13),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.openLinkInNewTabByKey("settings.documents.taxReport.footerUsaHref"))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.bVm()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"settings.documents.taxReport.footerUsaText")," "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"settings.documents.taxReport.footerUsaLink")," "))}function bp(e,a){if(1&e){const o=t.RV6();t.j41(0,"p",12),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.openLinkInNewTabByKey("settings.documents.taxReport.footerHref"))}),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&e&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"settings.documents.taxReport.footerText")," "),t.R7$(3),t.SpI(" ",t.bMT(5,4,"settings.documents.taxReport.footerLink")," "))}function yp(e,a){if(1&e&&(t.DNE(0,vp,7,6,"ng-container",10),t.DNE(1,bp,6,6,"ng-template",null,11,t.C5r)),2&e){const o=t.sdS(2),n=t.XpG();t.Y8G("ngIf",n.isUsaUser)("ngIfElse",o)}}let xp=(()=>{var e;class a{constructor(n,i,r,s,l,g,p,u){this.localizeService=n,this.translatePipe=i,this.accountPageService=r,this.$analytics=s,this.authService=l,this.cdr=g,this.countriesService=p,this.loader=u,this.groupedDocumentsList$=this.accountPageService.groupedAccountDocumentList$}get isUsaUser(){return this.countriesService.isUsaCountry(this.authService.user.countryId)}ngOnInit(){this.loader.applyShow(),this.isLoading=!0,this.initTaxReportData()}onDocumentButtonClick(n){n.status===D.Sent?this.downloadTaxReport(n.documentId):(this.accountPageService.openTaxGenerate(n),n.buttonStatus=this.accountPageService.getButtonStatus(D.Requested),n.status=D.Requested)}downloadTaxReport(n,i="pdf"){this.accountPageService.downloadTaxReport(n,"."+i)}isInProgress(n){return n===ft.InProgress}openLinkInNewTabByKey(n){const i=this.translatePipe.transform(n);window.open(i,"_blank")}initTaxReportData(){this.accountPageService.groupedAccountDocumentList$.subscribe(()=>{this.showDocuments()}),this.accountPageService.initTaxReportList()}showDocuments(){this.loader.applyHide(),this.isLoading=!1,this.cdr.detectChanges()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(x.X),t.rXU(h.D),t.rXU(Et),t.rXU(k.c),t.rXU(U.u),t.rXU(t.gRc),t.rXU(dn.C),t.rXU("infrastruct.services.loader"))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings-tax-reports"]],decls:6,vars:3,consts:[[4,"ngIf"],["buttonTemplate",""],["footerTemplate",""],[3,"buttonTemplate","documentFooter","documentsHeading","groupedDocumentsList"],["automation-id","settings-documents-document-multiformat-view","class","formats-container",4,"ngIf","ngIfElse"],["defaultButton",""],["automation-id","settings-documents-document-multiformat-view",1,"formats-container"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["automation-id","settings-documents-document-link","type","button",1,"ets-button-basic","ets-button-small","ets-button-primary","ets-button-basic-outline","settings-documents-document-button",3,"click"],[4,"ngIf","ngIfElse"],["nonUsaUser",""],[1,"ets-info"],["automation-id","tax-report-usa-faq-link",1,"ets-link","ets-link-primary",3,"click"],["automation-id","tax-report-faq-link",1,"ets-link","ets-link-primary",3,"click"]],template:function(n,i){1&n&&(t.DNE(0,mp,4,8,"ng-container",0),t.nI1(1,"async"),t.DNE(2,Cp,3,2,"ng-template",null,1,t.C5r),t.DNE(4,yp,3,2,"ng-template",null,2,t.C5r)),2&n&&t.Y8G("ngIf",!i.isLoading&&t.bMT(1,1,i.groupedDocumentsList$))},dependencies:[d.Sq,d.bT,Tn,d.Jj,h.D],styles:[".settings-documents-document-button[disabled][_ngcontent-%COMP%]{pointer-events:none}.settings-documents-document-button.in-progress[_ngcontent-%COMP%]{pointer-events:none;border:none}.formats-container[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;text-align:center}.formats-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 8px;width:27px;height:35px;background-position:center center;background-repeat:no-repeat;background-size:contain;display:inline-flex;cursor:pointer;pointer-events:auto;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-empty.svg)}.formats-container[_ngcontent-%COMP%]   .icon.icon-export-pdf[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-pdf.svg)}.formats-container[_ngcontent-%COMP%]   .icon.icon-export-txf[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-txf.svg)}.formats-container[_ngcontent-%COMP%]   .icon.icon-export-csv[_ngcontent-%COMP%]{background-image:url(https://etoro-cdn.etorostatic.com/web-client/img/account-statement/icon-export-csv.svg)}"],changeDetection:0}),a})();var Pp=c(22478),Mp=c(89475),Ct=function(e){return e.STATEMENT="options-account-statement",e.CONFIRMATION="options-trade-confirmations",e.TAX="options-tax-documents",e}(Ct||{}),me=function(e){return e.AccountStatement="AccountStatement",e.Tax="1099",e}(me||{});const kp={[Ct.TAX]:"options.settings.documents.tax",[Ct.STATEMENT]:"options.settings.documents.statements",[Ct.CONFIRMATION]:"options.settings.documents.confirmations"};function Op(e,a){if(1&e){const o=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){const r=t.eBV(o).$implicit,s=t.XpG(4);return t.Njj(s.navigateToFile(r))}),t.EFF(1),t.k0s()}if(2&e){const o=a.$implicit;t.R7$(1),t.SpI(" ",o.name," ")}}function wp(e,a){if(1&e&&(t.j41(0,"div",5),t.DNE(1,Op,2,1,"button",6),t.k0s()),2&e){const o=t.XpG(2).ngIf;t.R7$(1),t.Y8G("ngForOf",o)}}function Sp(e,a){1&e&&(t.j41(0,"div",8),t.nrm(1,"div",9),t.j41(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&e&&(t.R7$(3),t.JRh(t.bMT(4,1,"settings.documents.empty")))}function Tp(e,a){if(1&e&&(t.qex(0),t.DNE(1,wp,2,1,"div",3),t.DNE(2,Sp,5,3,"ng-template",null,4,t.C5r),t.bVm()),2&e){const o=t.sdS(3),n=t.XpG().ngIf;t.R7$(1),t.Y8G("ngIf",n.length>0)("ngIfElse",o)}}function Ip(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,Tp,4,2,"ng-container",1),t.bVm()),2&e){const o=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,o.title)),t.R7$(2),t.Y8G("ngIf",!o.isLoading)}}let Rp=(()=>{var e;class a{constructor(n,i,r,s,l,g){this.http=n,this.breakpointsService=i,this.loaderService=r,this.appConfigService=s,this.window=l,this.uiUserAgentService=g}get isMobile(){return this.breakpointsService.isMobile}get title(){return kp[this.documentType]||"options.settings.documents.all"}ngOnInit(){this.baseUrl=this.appConfigService.dynamics.options.apiDomain,this.isLoading=!0,this.loaderService.show(),this.setDocumentList()}setDocumentList(){this.documentList$=this.getOptionsDocuments()}getOptionsDocuments(){const i=`${this.baseUrl}/service/trade-service/api/v3/documents/${this.documentType===Ct.CONFIRMATION?"confirmations":"statements"}`,r=new Pp.c({interceptorConfig:{addHeaders:{accessToken:!0,applicationIdentifier:!0}}});return this.http.get(i,{params:r}).pipe((0,tt.T)(s=>s.items.filter(({type:l})=>this.documentType!==Ct.TAX||l===me.Tax).map(l=>({...l,name:l.type===me.Tax?Number(l.date.substring(l.date.length-4))-1+" - 1099":l.date}))),(0,K.W)(s=>(0,ct.of)([])),(0,Mp.j)(()=>{this.loaderService.hide(),this.isLoading=!1}))}navigateToFile(n){this.window.open(n.url,this.uiUserAgentService.isAndroid?"_system":"_blank")}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU(Z.Qq),t.rXU(m.MB),t.rXU(ht.Z),t.rXU(y.R),t.rXU("window"),t.rXU(Wt.a))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-options-account-documents"]],inputs:{documentType:"documentType"},decls:3,vars:3,consts:[[1,"main-container"],[4,"ngIf"],[1,"ets-title-secondary","ets-bold"],["class","documents-container",4,"ngIf","ngIfElse"],["emptyScreen",""],[1,"documents-container"],["class","ets-button-basic ets-button-tertiary file-button",3,"click",4,"ngFor","ngForOf"],[1,"ets-button-basic","ets-button-tertiary","file-button",3,"click"],["automation-id","settings-documents-empty",1,"settings-documents-empty"],[1,"settings-documents-empty-icon"],[1,"settings-documents-empty-text","ts-title-secondary"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.DNE(1,Ip,5,4,"ng-container",1),t.nI1(2,"async"),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngIf",t.bMT(2,1,i.documentList$)))},dependencies:[d.Sq,d.bT,d.Jj,h.D],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}.main-container[_ngcontent-%COMP%]{width:50%;background:var(--neutral-secondary-bg);margin-top:10px}@media (max-width: 767px){.main-container[_ngcontent-%COMP%]{width:100%}}.ets-title-secondary[_ngcontent-%COMP%]{text-transform:none;letter-spacing:-.5px;color:var(--primary-neutral-text);border-bottom:1px solid var(--tertiary-divider);padding:30px;margin:0}.documents-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 0}.documents-container[_ngcontent-%COMP%]   .ets-button-basic[_ngcontent-%COMP%]{margin-bottom:10px}.settings-documents-empty[_ngcontent-%COMP%]{margin:50px 0}.settings-documents-empty[_ngcontent-%COMP%]   .settings-documents-empty-icon[_ngcontent-%COMP%]{height:95px;margin-bottom:13px;background-size:100px 95px;background-repeat:no-repeat;background-position:center;background-image:url(https://etoro-cdn.etorostatic.com/web-client/img//account-statement/empty-documents.svg)}.settings-documents-empty[_ngcontent-%COMP%]   .settings-documents-empty-text[_ngcontent-%COMP%]{opacity:.2;text-align:center}"]}),a})();const Ap=["notificationsContainer"];function Fp(e,a){if(1&e){const o=t.RV6();t.j41(0,"et-verify-email-nudge",9),t.bIt("onClose",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.shouldShowEmailNudge=!1)})("onVerifyClick",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.trackEmailNudgeVerifyClick())}),t.k0s()}}function Ep(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.mainPageTitle"))))}function Dp(e,a){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,o.isThemeABTest?"settingsGeneral.dispaly":"settings.tabsGeneral")))}}function Up(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.tabsAccount"))))}function $p(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.tabsTrade"))))}function Gp(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.tabsNotifications"))))}function jp(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.tabsPrivacy"))))}function Bp(e,a){1&e&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.nI1(3,"titlecase"),t.nI1(4,"translate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,t.bMT(4,3,"settings.tabsVerificationCenter"))))}function Vp(e,a){1&e&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.nI1(3,"titlecase"),t.nI1(4,"translate"),t.k0s(),t.bVm()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,t.bMT(4,3,"settings.tabsProfile"))))}function Np(e,a){if(1&e&&(t.qex(0),t.DNE(1,Bp,5,5,"ng-container",15),t.DNE(2,Vp,5,5,"ng-container",15),t.bVm()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("ngIf",o.verificationCenterEnabled),t.R7$(1),t.Y8G("ngIf",!o.verificationCenterEnabled)}}function Xp(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.tabsPaymentsV2"))))}function Lp(e,a){1&e&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"titlecase"),t.nI1(3,"translate"),t.k0s()),2&e&&(t.R7$(1),t.JRh(t.bMT(2,1,t.bMT(3,3,"settings.tabsDocuments"))))}function Yp(e,a){if(1&e){const o=t.RV6();t.j41(0,"div",10)(1,"div",11),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.redirectTo("/settings/"))}),t.j41(2,"div",12),t.nrm(3,"i",13),t.k0s(),t.j41(4,"div",14),t.DNE(5,Ep,4,5,"span",3),t.DNE(6,Dp,4,5,"span",3),t.DNE(7,Up,4,5,"span",3),t.DNE(8,$p,4,5,"span",3),t.DNE(9,Gp,4,5,"span",3),t.DNE(10,jp,4,5,"span",3),t.DNE(11,Np,3,2,"ng-container",3),t.DNE(12,Xp,4,5,"span",3),t.DNE(13,Lp,4,5,"span",3),t.k0s()()()}if(2&e){const o=t.XpG();t.R7$(4),t.Y8G("ngSwitch",o.activeSection),t.R7$(1),t.Y8G("ngSwitchCase",null),t.R7$(1),t.Y8G("ngSwitchCase","general"),t.R7$(1),t.Y8G("ngSwitchCase","account"),t.R7$(1),t.Y8G("ngSwitchCase","trade"),t.R7$(1),t.Y8G("ngSwitchCase","notifications"),t.R7$(1),t.Y8G("ngSwitchCase","privacy"),t.R7$(1),t.Y8G("ngSwitchCase","profile"),t.R7$(1),t.Y8G("ngSwitchCase","payments"),t.R7$(1),t.Y8G("ngSwitchCase","documents")}}function Hp(e,a){if(1&e&&(t.qex(0),t.nrm(1,"et-verification-center",16),t.bVm()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("usersSettings",o.usersSettings)}}function zp(e,a){if(1&e&&(t.qex(0),t.nrm(1,"et-settings-profile",17),t.bVm()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("usersSettings",o.usersSettings)}}function Kp(e,a){if(1&e&&(t.qex(0),t.DNE(1,Hp,2,1,"ng-container",15),t.DNE(2,zp,2,1,"ng-container",15),t.bVm()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngIf",o.verificationCenterEnabled),t.R7$(1),t.Y8G("ngIf",!o.verificationCenterEnabled)}}function Jp(e,a){if(1&e&&t.nrm(0,"et-settings-general",18),2&e){const o=t.XpG();t.Y8G("showThemeToggle",o.showThemeToggle)}}function Wp(e,a){if(1&e&&t.nrm(0,"et-settings-account",19),2&e){const o=t.XpG();t.Y8G("usersSettings",o.usersSettings)}}function qp(e,a){1&e&&t.nrm(0,"et-settings-tax-reports",23)}function Qp(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"et-options-account-documents",24),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("documentType",o.documentType)}}function Zp(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"et-options-account-documents",24),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("documentType",o.documentType)}}function tu(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"et-options-account-documents",24),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("documentType",o.documentType)}}function eu(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"et-settings-documents",25),t.k0s()),2&e){const o=t.XpG(2);t.R7$(1),t.Y8G("documentType",o.documentType)}}function nu(e,a){if(1&e&&(t.qex(0)(1,20),t.DNE(2,qp,1,0,"et-settings-tax-reports",21),t.DNE(3,Qp,2,1,"div",3),t.DNE(4,Zp,2,1,"div",3),t.DNE(5,tu,2,1,"div",3),t.DNE(6,eu,2,1,"div",22),t.bVm()()),2&e){const o=t.XpG();t.R7$(1),t.Y8G("ngSwitch",o.documentType),t.R7$(1),t.Y8G("ngSwitchCase","taxreport"),t.R7$(1),t.Y8G("ngSwitchCase","options-account-statement"),t.R7$(1),t.Y8G("ngSwitchCase","options-trade-confirmations"),t.R7$(1),t.Y8G("ngSwitchCase","options-tax-documents")}}function iu(e,a){1&e&&t.nrm(0,"et-settings-trading",26)}function ou(e,a){}function au(e,a){1&e&&(t.qex(0),t.DNE(1,ou,0,0,"ng-template",null,27,t.C5r),t.bVm())}function ru(e,a){if(1&e&&t.nrm(0,"et-settings-privacy",28),2&e){const o=t.XpG();t.Y8G("usersSettings",o.usersSettings)}}function su(e,a){1&e&&t.nrm(0,"et-settings-payments-tab")}function cu(e,a){if(1&e&&t.nrm(0,"et-settings-home",29),2&e){const o=t.XpG();t.Y8G("usersSettings",o.usersSettings)}}let lu=(()=>{var e;class a{get verificationCenterEnabled(){return this.verificationCenterService.verificationCenterEnabled}constructor(n,i,r,s,l,g,p,u,_,b){this.$location=n,this.userSettingsService=i,this.uiBreakpointsService=r,this.layoutService=s,this.verifyEmailNudgeService=l,this.analyticsService=g,this.authService=p,this.infraNotificationsService=u,this.loginPopupDarkModeExpService=_,this.cdr=b,this.verificationCenterService=(0,t.WQX)(q),this.settingsTitle="",this.tabs=["general","profile","account","trade","notifications","privacy","payments","documents"],this.shouldShowEmailNudge=!1,this.subscriptions=[],this.destroyRef=(0,t.WQX)(t.abz)}get isMobileWide(){return this.uiBreakpointsService.isMobileWide}get showEmailNudgesSub(){return this.verifyEmailNudgeService.showEmailNudges}ngOnInit(){var n;this.loginPopupDarkModeExpService.isThemeABTest$.pipe((0,Y.pQ)(this.destroyRef)).subscribe(i=>{this.isThemeABTest=i,this.cdr.markForCheck()}),this.analyticsService.eventTrack("Settings - Page View"),-1===this.tabs.indexOf(this.activeSection)?this.activeSection=null:this.settingsTitle=`setting.${this.activeSection}`,this.handleVerificationCenterExperiment(),this.initListeners(),"verifyemail"===(null===(n=this.$location.search())||void 0===n?void 0:n.action)&&!this.authService.user.isEmailVerified&&this.openEmailDialog()}ngAfterViewInit(){"notifications"===this.activeSection&&this.loadNotificationsComponent()}ngOnDestroy(){this.removeResumeListener(),this.subscriptions.forEach(n=>n&&n.unsubscribe()),this.showHeaderIfNeeded(),this.showFooterIfNeeded()}redirectTo(n){return"documents"===this.activeSection&&(n="/settings/account"),this.activeSection=null,this.userSettingsService.shouldHidePageLayoutMobileHeader?this.layoutService.navigateBack():this.$location.url(n)}trackEmailNudgeVerifyClick(){this.analyticsService.eventTrack("Settings - Item Clicked",{"Element Name":"Email Verification","Element Subname":"Verify"})}get shouldShowSettingsHeader(){return!!this.userSettingsService.shouldHidePageLayoutMobileHeader||this.activeSection}refreshData(){this.userSettingsService.get(!0).then(n=>{this.usersSettings=n})}addResumeListener(){this._resumeEventListenerBinder=this.refreshData.bind(this),document.addEventListener("resume",this._resumeEventListenerBinder)}removeResumeListener(){document.removeEventListener("resume",this._resumeEventListenerBinder)}initListeners(){this.addResumeListener(),this.subscriptions.push(this.uiBreakpointsService.observe(E.r.MobileWide).subscribe(n=>{this.handleBreakpointsChange()})),this.setEmailNudgeVisibility()}handleBreakpointsChange(){this.renderTemplateIfNeeded()}renderTemplateIfNeeded(){this.userSettingsService.shouldHidePageLayoutMobileHeader?(this.layoutService.hideHeader(),this.isLayoutHeaderHidden=!0):this.showHeaderIfNeeded(),this.userSettingsService.shouldHidePageLayoutMobileFooter?(this.layoutService.hideFooter(),this.isLayoutFooterHidden=!0):this.showFooterIfNeeded()}showHeaderIfNeeded(){this.isLayoutHeaderHidden&&(this.layoutService.showHeader(),this.isLayoutHeaderHidden=!1)}showFooterIfNeeded(){this.isLayoutFooterHidden&&(this.layoutService.showFooter(),this.isLayoutFooterHidden=!1)}handleVerificationCenterExperiment(){this.verificationCenterService.abTest=this.abTestsResults}setEmailNudgeVisibility(){this.shouldShowEmailNudge=this.verifyEmailNudgeService.setEmailVerificationNudges(),this.cdr.markForCheck()}openEmailDialog(){const{comp:n,ref:i}=this.verifyEmailNudgeService.openEmailDialog();this.subscriptions.push(n.eventOnClose.subscribe(()=>{i.close(),this.$location.search("action",null)})),this.subscriptions.push(n.eventOnVerificationSuccess.subscribe(()=>{this.authService.user.isEmailVerified=!0,this.verifyEmailNudgeService.showEmailNudges.next(!1),i.close(),this.infraNotificationsService.emailverificationVerifiedSuccess(),this.$location.search("action",null)}))}loadNotificationsComponent(){var n=this;return(0,v.A)(function*(){try{const{NotificationsComponent:i}=yield c.e("libs_settings_src_lib_ui_notifications_notifications_component_ts").then(c.bind(c,58057));n.notificationsContainer.clear(),n.notificationsContainer.createComponent(i)}catch(i){console.error("Failed to load notifications component:",i),n.activeSection=null}n.cdr.detectChanges()})()}}return(e=a).\u0275fac=function(n){return new(n||e)(t.rXU("$location"),t.rXU(lt.A),t.rXU(E.M),t.rXU(Ji.Y),t.rXU(Bt.g),t.rXU(k.c),t.rXU(U.u),t.rXU(Ie.y),t.rXU(Mt.n),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["et-settings"]],viewQuery:function(n,i){if(1&n&&t.GBs(Ap,5,t.c1b),2&n){let r;t.mGM(r=t.lsd())&&(i.notificationsContainer=r.first)}},inputs:{activeSection:"activeSection",usersSettings:["userSettings","usersSettings"],documentType:"documentType",abTestsResults:"abTestsResults"},decls:13,vars:16,consts:[[3,"onClose","onVerifyClick",4,"ngIf"],["class","et-direction-start settings-back et-layout-sub-sticky-header",4,"ngIf"],["etUiLayoutPageScroll","",3,"ngClass","ngSwitch"],[4,"ngSwitchCase"],["automation-id","settings-general-page",3,"showThemeToggle",4,"ngSwitchCase"],["automation-id","settings-account-page",3,"usersSettings",4,"ngSwitchCase"],["automation-id","settings-trading-page",4,"ngSwitchCase"],["automation-id","settings-privacy-page",3,"usersSettings",4,"ngSwitchCase"],["automation-id","settings-home-page",3,"usersSettings",4,"ngSwitchDefault"],[3,"onClose","onVerifyClick"],[1,"et-direction-start","settings-back","et-layout-sub-sticky-header"],["automation-id","settings-home-back-button",1,"settings-back-button",3,"click"],[1,"arrow-link"],[1,"icon-arrow-left"],[1,"back-title","ets-title-main",3,"ngSwitch"],[4,"ngIf"],[3,"usersSettings"],["automation-id","settings-profile-page",3,"usersSettings"],["automation-id","settings-general-page",3,"showThemeToggle"],["automation-id","settings-account-page",3,"usersSettings"],[3,"ngSwitch"],["automation-id","settings-documents-page",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["automation-id","settings-documents-page"],[3,"documentType"],["automation-id","settings-documents-page",3,"documentType"],["automation-id","settings-trading-page"],["notificationsContainer",""],["automation-id","settings-privacy-page",3,"usersSettings"],["automation-id","settings-home-page",3,"usersSettings"]],template:function(n,i){1&n&&(t.DNE(0,Fp,1,0,"et-verify-email-nudge",0),t.nI1(1,"async"),t.DNE(2,Yp,14,10,"div",1),t.j41(3,"div",2),t.DNE(4,Kp,3,2,"ng-container",3),t.DNE(5,Jp,1,1,"et-settings-general",4),t.DNE(6,Wp,1,1,"et-settings-account",5),t.DNE(7,nu,7,5,"ng-container",3),t.DNE(8,iu,1,0,"et-settings-trading",6),t.DNE(9,au,3,0,"ng-container",3),t.DNE(10,ru,1,1,"et-settings-privacy",7),t.DNE(11,su,1,0,"et-settings-payments-tab",3),t.DNE(12,cu,1,1,"et-settings-home",8),t.k0s()),2&n&&(t.Y8G("ngIf",!i.isMobileWide&&null===i.activeSection&&i.shouldShowEmailNudge&&t.bMT(1,14,i.showEmailNudgesSub)),t.R7$(2),t.Y8G("ngIf",i.shouldShowSettingsHeader),t.R7$(1),t.AVh("tab-pane-vc",i.verificationCenterEnabled),t.Y8G("ngClass",null!==i.activeSection?"tab-pane":"tab-pane-home")("ngSwitch",i.activeSection),t.R7$(1),t.Y8G("ngSwitchCase","profile"),t.R7$(1),t.Y8G("ngSwitchCase","general"),t.R7$(1),t.Y8G("ngSwitchCase","account"),t.R7$(1),t.Y8G("ngSwitchCase","documents"),t.R7$(1),t.Y8G("ngSwitchCase","trade"),t.R7$(1),t.Y8G("ngSwitchCase","notifications"),t.R7$(1),t.Y8G("ngSwitchCase","privacy"),t.R7$(1),t.Y8G("ngSwitchCase","payments"))},dependencies:[d.YU,d.bT,d.ux,d.e1,d.fG,Wi.W,ya,Ve.w,Me,tr,Ar,$r,dl,hg,Eg,up,xp,Rp,d.Jj,d.PV,h.D],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;color:var(--primary-neutral-text)}.rtl-direction[_nghost-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]:before, .rtl-direction   [_nghost-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]:before{content:"\\e905"}.rtl-direction[_nghost-%COMP%]   .arrow-link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .arrow-link[_ngcontent-%COMP%]{margin:0 0 0 15px}@media (max-width: 767px){.rtl-direction[_nghost-%COMP%]   .back-title[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .back-title[_ngcontent-%COMP%]{padding:0 0 0 1.5rem}.rtl-direction[_nghost-%COMP%]   .arrow-link[_ngcontent-%COMP%], .rtl-direction   [_nghost-%COMP%]   .arrow-link[_ngcontent-%COMP%]{margin:0}}.settings-back[_ngcontent-%COMP%]{z-index:10;background-color:var(--neutral-secondary-bg);padding:1rem;height:3.75rem;border-bottom:1px solid var(--tertiary-divider);display:flex}.settings-back-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:-moz-fit-content;width:fit-content;cursor:pointer}@media (max-width: 1024px){.settings-back-button[_ngcontent-%COMP%]{width:100%}}.arrow-link[_ngcontent-%COMP%]{margin-right:15px}.arrow-link[_ngcontent-%COMP%]   .icon-arrow-left[_ngcontent-%COMP%]{display:flex;font-size:1.1rem;color:var(--secondary-neutral-text)}.tab-pane[_ngcontent-%COMP%]{flex:1;-webkit-overflow-scrolling:auto!important}.tab-pane-home[_ngcontent-%COMP%]{flex:1}@media (max-width: 767px){.tab-pane-home[_ngcontent-%COMP%]{margin-top:0;background-color:var(--neutral-secondary-bg)}}@media (min-width: 768px) and (max-width: 1024px){.tab-pane-home[_ngcontent-%COMP%]{padding-left:0}}@media (min-width: 768px){.tab-pane-vc[_ngcontent-%COMP%]{display:flex;justify-content:center}}@media (max-width: 1024px){.back-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300;justify-self:center;padding-right:1.5rem;margin-left:auto;margin-right:auto}}']}),a})();var du=c(94048),gu=c(45315),pu=c(9073)},6130:(In,Gt,c)=>{c.d(Gt,{A:()=>C});const C=function d(at,rt){return null==at||at!=at?rt:at}}}]);
//# sourceMappingURL=libs_settings_src_index_ts.b97b297af775f8b5.js.map