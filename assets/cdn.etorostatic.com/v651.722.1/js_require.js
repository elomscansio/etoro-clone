(function(){window.requireStubs = window.requireStubs || []; window.rA = (window.rA || []).concat([["apps/components/metaTags/templates/discover/discover-new/index.view.html",[]],["apps/components/metaTags/templates/discover/funds/index.view.html",[]],["apps/components/metaTags/templates/discover/market-cap.view.html",[]],["apps/components/metaTags/templates/discover/markets/cryptoCategoryResult.view.html",[]],["apps/components/metaTags/templates/discover/markets/index.view.html",[]],["apps/components/metaTags/templates/discover/markets/instrumentTypeResults.view.html",[]],["apps/components/metaTags/templates/discover/markets/market-movers.view.html",[]],["apps/components/metaTags/templates/discover/markets/results.view.html",[]],["apps/components/metaTags/templates/discover/markets/stocksExchangeResults.view.html",[]],["apps/components/metaTags/templates/discover/markets/stocksIndustryResults.view.html",[]],["apps/components/metaTags/templates/discover/people/index.view.html",[]],["apps/components/metaTags/templates/discover/people/results.view.html",[]],["apps/components/metaTags/templates/discover/popular.view.html",[]],["apps/components/metaTags/templates/discover/recently-added.view.html",[]],["apps/components/metaTags/templates/discover/trending.view.html",[]],["apps/components/metaTags/templates/feed/posts.view.html",[]],["apps/components/metaTags/templates/learn-more/learn-more.view.html",[]],["apps/components/metaTags/templates/login/login.view.html",[]],["apps/components/metaTags/templates/markets/chart.view.html",[]],["apps/components/metaTags/templates/markets/index.view.html",[]],["apps/components/metaTags/templates/markets/news.view.html",[]],["apps/components/metaTags/templates/markets/stats.view.html",[]],["apps/components/metaTags/templates/metaTagsDefaults.view.html",[]],["apps/components/metaTags/templates/people/index.view.html",[]],["apps/components/metaTags/templates/procharts/index.view.html",[]],["apps/components/metaTags/templates/refer-a-friend/refer-a-friend.view.html",[]],["apps/components/metaTags/templates/sign-up/sign-up.view.html",[]],["apps/discovery/people/homeUS/copyTraderPopup/copytrader-popup.view.html",[]],["apps/widgets/discover-people-embed/discover-people-embed.view.html",[]],["infrastruct/ui/digital-signature/digital-signature.view.html",[]],["infrastruct/ui/inputNumberIncrementer/inputNumberIncrementer.view.html",[]],["infrastruct/ui/table/editColumns/editColumns.view.html",[]],["infrastruct/ui/uiTabs/views/tab.view.html",[]],["infrastruct/ui/uiTabs/views/tabTitle.view.html",[]],["infrastruct/ui/uiTabs/views/tabWrapper.view.html",[]],["integrations/wallet/redeem/cancelPopup/cancel.redeem.popup.view.html",[]],["integrations/wallet/redeem/redeemPopup/redeem.popup.view.html",[]],["infrastruct/libs/angular/angular",[null]],["infrastruct/libs/highcharts/highcharts",[]],["apps/components/layout/layoutCtrl",[]],["apps/login/routes",[]],["apps/procharts/routes",[]],["apps/sign-up/routes",[]],["apps/widgets/discover-people-embed/routes",[]],["apps/widgets/login/services/communication/post-message-comm",[]],["apps/widgets/login/services/login-decorator.service",[]],["apps/widgets/login/services/secure-storage-decorator.service",[]],["apps/widgets/login/services/session-decorator.service",[]],["apps/widgets/login/services/sms-verification-decorator.service",[]],["apps/widgets/login/services/wallet/login-decorator.service",[]],["apps/widgets/login/services/wallet/maintenance-navigator-decorator",[]],["apps/widgets/login/services/wallet/session-storage-decorator.service",[]],["apps/widgets/login/services/wallet/social/apple.service",[]],["apps/widgets/login/services/wallet/social/fb.service",[]],["apps/widgets/login/services/wallet/social/google.service",[]],["apps/widgets/login/services/wallet/social/sso.service",[]],["bl/factories/session/base/session-ab-test-headers-interceptor.factory",[]],["bl/factories/session/base/session-auth-injector.factory",[]],["bl/factories/session/base/session-classification-injector.factory",[]],["bl/factories/session/base/session-headers-injector.factory",[]],["config/build-config",[]],["config/china",[]],["config/config-adjustment",[]],["config/configs-by-domain/compliance",[]],["config/configs-by-domain/customer-data",[]],["config/configs-by-domain/customer-insights",[]],["config/configs-by-domain/experience",[]],["config/configs-by-domain/general",[]],["config/configs-by-domain/infra",[]],["config/configs-by-domain/market-data",[]],["config/configs-by-domain/money",[]],["config/configs-by-domain/trading",[]],["config/configs-by-domain/wallet",[]],["config/static",[]],["config/usa",[]],["embed/discover-people",[]],["embed/etoro-connect/etoro-connect",[]],["embed/login",[]],["embed/sign-up",[]],["infrastruct/filters/currencyParser",[]],["infrastruct/filters/formatRate",[]],["infrastruct/filters/tofixed",[]],["infrastruct/filters/unitsOpenClose",[]],["infrastruct/libs/angular/angular-animate",[]],["infrastruct/libs/angular/angular-cookies",[]],["infrastruct/libs/angular/angular-messages",[]],["infrastruct/libs/angular/angular-route",[]],["infrastruct/libs/angular/angular-sanitize",[]],["infrastruct/libs/hammerjs/hammer.min",[]],["infrastruct/libs/hpack/hpack",[]],["infrastruct/libs/json2/json2",[]],["infrastruct/libs/livereload/livereload",[]],["infrastruct/libs/prototypes_NEED_TO_REMOVE",[]],["infrastruct/libs/requirejs/etoro-bundle-require-decleration",[]],["infrastruct/libs/requirejs/etoro-bundle-require",[]],["infrastruct/libs/requirejs/etoro-require",[]],["infrastruct/libs/requirejs/require",[]],["infrastruct/libs/signature-pad/signature-pad",[]],["infrastruct/libs/swiper/swiper",[]],["infrastruct/libs/ua-parser/ua-parser",[]],["infrastruct/services/analytics/analyticsProvider",[]],["infrastruct/services/charts/charts",[]],["infrastruct/services/experiments/models/experiment",[]],["infrastruct/services/loader",[]],["infrastruct/services/utils/guid",[]],["infrastruct/ui/uiElementInView",[]],["integrations/liveAgent/routes",[]],["loaders/client-silent-login",[]],["loaders/helpers/app-config",[]],["loaders/helpers/bootstrap-sign-up",[]],["loaders/helpers/image",[]],["loaders/helpers/network-request-accelerator",[]],["loaders/helpers/page-load-start",[]],["loaders/helpers/perf.min",[]],["loaders/helpers/scripts",[]],["loaders/helpers/single-log",[]],["loaders/helpers/xhr",[]],["loaders/index",[]],["tools/browser-support",[]],["workers/push-worker",[]],["infrastruct/libs/fastclick/fastclick",[]],["apps/components/layout/loader/loader.component",[null]],["apps/discovery/people/homeUS/copyTraderPopup/copytrader-popup.component",[27]],["apps/upgrades/routes",[]],["apps/widgets/login/services/communication/comm-iframe-child",[44]],["apps/widgets/login/services/communication/comm-iframe-parent",[44]],["apps/widgets/login/services/communication.service",[124]],["bl/factories/session/base/session-storage.service",[]],["config/native-android",[null]],["config/native-ios",[null]],["infrastruct/filters/math",[]],["infrastruct/models/base",[]],["infrastruct/services/experiments/experiments.service",[102]],["infrastruct/services/httpHandler",[]],["infrastruct/services/locationParams",[]],["infrastruct/services/utils/syncObjects",[]],["infrastruct/ui/click-outside",[]],["infrastruct/ui/tooltip",[]],["integrations/wallet/redeem/redeem.service",[]],["infrastruct/libs/jquery/jquery-ui",[]],["bl/factories/countries/models/country",[null]],["config/dynamic-defaults",[62,null]],["infrastruct/services/sorter",[]],["infrastruct/ui/mobileInputType",[null]],["infrastruct/ui/sortable",[null]],["infrastruct/ui/sticky",[null]],["infrastruct/ui/uiSwipeActions/ui-swipe-actions-service",[88]],["infrastruct/libs/upgrade/upgrade-static",[]],["apps/discovery/funds/discoverFundsApp",[]],["apps/discovery/markets/routes",[]],["apps/payments/etoro-money/etoro-money.app",[]],["apps/payments/withdraw/withdrawApp",[]],["apps/widgets/login/layout/layout.component",[]],["apps/widgets/login/services/copy-trader-funnel-mock.service",[]],["apps/widgets/login/services/funnel-loader-mock.service",[]],["apps/widgets/login/services/guideMock",[]],["apps/widgets/login/services/instruments-groups-factory-mock.service",[]],["apps/widgets/login/services/wallet/customize-links.service",[]],["apps/widgets/login/services/wallet/customize-routes.service",[]],["bl/factories/session/base/session-classification.service",[]],["bl/factories/session/base/session",[]],["bl/factories/session/copy-trader-funnel.service",[]],["bl/factories/session/default-screen.service",[]],["bl/factories/session/funnel-loader.service",[]],["infrastruct/filters/percentageParser",[]],["infrastruct/filters/zeroesFormater",[]],["infrastruct/libs/angular/angular-deps",[]],["infrastruct/services/analytics/analyticsDirective",[]],["infrastruct/services/analytics/ecommerce-tracking.service",[]],["infrastruct/services/auth-check.service",[]],["infrastruct/services/http-circuit-breaker",[]],["infrastruct/services/httpBackupUrlRetry",[]],["infrastruct/services/httpCloudFlare",[]],["infrastruct/services/httpFallback",[]],["infrastruct/services/httpRetries",[]],["infrastruct/services/new-angular-ready",[]],["infrastruct/services/roostNotifications",[]],["infrastruct/services/storage",[]],["infrastruct/services/viewKeeper",[]],["infrastruct/ui/clipboardCopy",[]],["infrastruct/ui/dialog",[]],["infrastruct/ui/forms/compareTo",[]],["infrastruct/ui/iframeOnLoad",[]],["infrastruct/ui/touch/touch",[null]],["infrastruct/utils/ctrl-inherit",[]],["infrastruct/utils/di-func-inherit",[]],["integrations/guide",[]],["infrastruct/utils/moduleDefiner",[]],["apps/components/layout/layout",[39]],["apps/discovery/people/homeUS/copyTraderPopup/swipeDirection.directive",[]],["apps/widgets/discover-people-embed/discover-people-embed.component",[28]],["apps/widgets/login/services/headers-injector",[null]],["apps/widgets/login/services/wallet/customize-ui.service",[null]],["bl/factories/feed/feed",[null,null,null]],["bl/factories/session/models/session-user.model",[104]],["infrastruct/services/analytics/providers/intercom",[null]],["infrastruct/services/experiments/experiments.module",[132]],["infrastruct/services/http-resource-version.factory",[null]],["infrastruct/services/httpBackup",[89]],["infrastruct/services/localeRouting",[null,166]],["infrastruct/services/localization/localizeFactory",[]],["infrastruct/services/postRedirect",[]],["infrastruct/ui/component-include",[]],["infrastruct/ui/infiniteScroll",[]],["infrastruct/ui/table/editColumns/editColumns.component",[31]],["infrastruct/ui/uiIfBreakpoint",[]],["infrastruct/utils/ctrl-resolver",[]],["integrations/wallet/redeem/cancelPopup/cancel.redeem.popup.component",[35]],["integrations/wallet/redeem/redeemPopup/redeem.popup.component",[36]],["apps/login/loginApp",[null,null]],["apps/payments/deposit/depositApp",[null]],["apps/people/peopleApp",[]],["apps/widgets/discover-people-embed/discoverPeopleEmbedApp",[null,190]],["apps/widgets/login/routes",[40,42]],["bl/factories/countries/countries.module",[null,140]],["bl/factories/feed/share/shareChartFactory",[]],["bl/factories/feed/share/shareTextFactory",[]],["bl/factories/session/session-account.service",[104]],["infrastruct/models/models",[131,null]],["infrastruct/services/analytics/providers/ga",[null,null]],["infrastruct/services/analytics/providers/mixpanel",[null]],["infrastruct/services/localization/localizeTemplatesDecorator",[]],["infrastruct/services/localization/localizeTemplatesFactory",[]],["infrastruct/services/maintenance-navigation",[null,null]],["infrastruct/services/qs",[104]],["infrastruct/ui/digital-signature/digital-signature",[29,97]],["infrastruct/ui/inputScrollto",[99]],["infrastruct/ui/navigation",[183]],["infrastruct/ui/speech/speech",[]],["infrastruct/ui/uiReactToScroll",[183]],["infrastruct/ui/uiSwipeActions/ui-swipe-actions.directive",[146]],["infrastruct/ui/uiSwipeActions/ui-swipe.directive",[88]],["infrastruct/utils/appLogger",[null]],["infrastruct/utils/logger",[141]],["apps/components/metaTags/metaTags",[null,22]],["apps/discovery/people/discoverPeopleApp",[122,189]],["apps/options/optionsApp",[206,null]],["apps/trader/history/historyApp",[206,null]],["infrastruct/infrastruct",[null,null,218]],["infrastruct/services/analytics/providers/googleTagManager",[null,233]],["infrastruct/ui/dropDownMenu",[183]],["infrastruct/ui/inputNumberIncrementer/inputNumberIncrementer",[183,30,null,226]],["infrastruct/ui/onOverflow",[183]],["infrastruct/ui/table/table",[204,205]],["infrastruct/ui/uiFunScroll",[183]],["integrations/wallet/wallet.module",[208,207,138]],["bl/factories/login/login.module",[224,177,null,null]],["bl/factories/session/session-app.service",[185,160,194]],["infrastruct/services/analytics/analytics",[100,167,168]],["infrastruct/services/localization/localization",[200,222,221,null]],["apps/trader/traderApp",[null,245,237]],["bl/factories/session/index",[null,247,217,162,161,163]],["infrastruct/services/utils/config",[141,73,99,177,104]],["infrastruct/ui/uiSwipeActions/index",[183,252,88,231,230]],["infrastruct/ui/uiTabs/tabs",[34,32,33,252]],["config/config-domain-aggregator",[63,64,65,66,67,68,69,71,72,70]],["infrastruct/filters/filters",[249,81,82,80,79,164,165,130]],["bl/factories/session/base/index",[166,199,185,252,160,59,57,127,58,159,56]],["apps/widgets/login/services/wallet/wallet-login.module",[252,192,157,158,223,172,53,54,52,55,50,51,49]],["infrastruct/ui/ui",[183,180,240,203,227,242,144,145,137,244,241,205,181,254,179,226,182,202,243,143,229,253,136]],["infrastruct/services/services",[178,134,224,103,101,104,169,174,173,198,172,201,142,177,252,196,248,219,195,220,239,249,197,223,170,175]],["apps/widgets/login/login-app",[166,104,248,249,199,201,182,232,133,172,209,258,223,224,103,152,213,47,191,45,46,48,153,180,205,134,154,126,155,156,175,214,245]],["apps/etoroApp",[166,92,185,149,123,41,43,42,40,106,252,199,171,232,206,211,236,250,209,235,148,210,151,150,234,188,193,251,186,219,260,133,238,259,133]]]); window.requireStubs.push([["require"] , function(){requireMap(window.rA,"/v651.722.1/js_require/?r[]=infrastruct/libs/requirejs/etoro-require&r[]=amd-config&r[]=apps/etoroApp", true)}]);;
var requireBridge={};(function(r,e){function t(r,e){for(var t=[],n=0;n<e.length;n++){var i=m(e[n]);g.test(i)||r.specified(i)||t.push(i)}return u(r,s,t)}function n(r,e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=d[i];o?r.specified(o)||t.push(o?o:i):t.push(o?o:i)}return t}function i(r){return r=r.sort(),"https://cdn.etorostatic.com/v651.722.1/js_files/?p[]="+(r.length>1?r.join("&p[]="):r[0])}function o(r,e,t,n){var i=e[n],u=i&&i.deps;if(u&&u.length)for(var a=0;a<u.length;a++){var s=m(u[a]);-1!=t.indexOf(s)||r.specified(n)||(t.push(s),o(r,e,t,s))}}function u(r,e,t){t=t||[];for(var n=0;n<t.length;n++){var i=m(t[n]);-1!=t.indexOf(i)||r.specified(i)||t.push(i),o(r,e,t,i)}return t}function a(e){return function(){c.config(l).apply(r,M[e])}}var s={},f=window,c=f.require,l={context:"etoro",onNodeCreated:function(r,e,t,n){0===n.indexOf("https://cdn.etorostatic.com/v651.722.1")&&r.setAttribute("crossorigin","anonymous")}},p=f.define,v=c.config(l),g=/\/\//i,h=c.s.contexts.etoro.config,d={},y=[],x=[],q=function(r,t){var n=this;e.require[r]=function(){var e=arguments;return t?c[r].apply(n,t.apply(this,e)):c[r].apply(n,e)}},m=function(r){isNaN(r)||(r=sdfsdf[r]);var e=h.paths[r]||r;if(g.test(e)){e=v.toUrl(e);var t=e.split(h.baseUrl);return 1==t.length?t[0]:t[1]}return e};requirejs.onError=function(r){f.onModuleError&&f.onModuleError(r)};var B=e.require=function(r){var e,o=arguments,u=this,a={},s=v;if(r&&r.length&&(e=t(s,r)),e&&e.length){var f=i(n(s,e));return a[f]=e,c.config({context:"etoro",bundles:a}),v.apply(u,o)}return v.apply(u,o)};r.requireMap=function(r,e,t){function n(e){var t=[];if(e&&e.length)for(var n=0;n<=e.length;n++){var i=e[n],o=r[i];o&&t.push(o[0])}return t}if(t)for(var i=0;i<r.length;i++){var o,u=r[i],a=u[0],f=u[1],c=u[2];c&&(o={script:e,fy:c[0],ty:c[1],fx:c[2],tx:c[3]});var l=s[a];l&&l.position||(s[a]={deps:n(f),position:o})}else for(var p in r)s[p]={deps:r[p]}},B.all=function(r,e,t){var n=B.getModulesByRegex(r);return B(n,e,t)},B.getModulesByRegex=function(r){var e=[];for(var t in r){var n=r[t];for(var i in s)n.test(i)&&e.push(i)}return e},B.laterByRegex=function(r){x.push(r)},B.later=function(r){y=y.concat(r)},c.config({context:"etoro",baseUrl:"https://cdn.etorostatic.com/v651.722.1/js_files/?p[]="}),r.depsMap=s,setTimeout(function(){function r(){var r=B.getModulesByRegex(x).concat(y);x.length=y.length=0,B.laterByRegex=B.all,B.later=B,v(r)}var e=h.requireLaterAt;!isNaN(e)&&e>0?setTimeout(r,2e3):r()},500),q("config",function(r){var e=r&&r.paths;if(e)for(var t in e)d[e[t]]=t;return arguments}),q("toUrl"),r.define=p;var M=r.requireStubs=f.requireStubs||[];if(M&&M.length)for(var b=0;b<M.length;b++)setTimeout(a(b),4);M.push=function(e){c.config(l).apply(r,e)}}).call(this,this,requireBridge);var require=requireBridge.require;requirejs.config({"waitSeconds":18,"context":"etoro","paths":{"underscore":"infrastruct/libs/underscore/underscore","moduleDefiner":rA[187][0],"angular":rA[37][0],"jquery":"infrastruct/libs/jquery/jquery","jquery-sortable":rA[139][0],"highcharts":rA[38][0],"fastClick":rA[120][0],"leanTech":"https://cdn.leantech.me/link/loader/prod/ae/latest/lean-link-loader.min"},"withoutTrace":["angular","highcharts","underscore","jquery","infrastruct/libs/lightstreamer/lightstreamer",rA[96][0],"integrations/embed/*","embed/*","sem-etoro-ng/*",rA[113][0]],"alwaysInclude":["angular","underscore","jquery","moduleDefiner"],"requireLaterAt":30000,"eToroRegisterMap":true,"shim":{"angular":{"deps":["jquery","fastClick"],"exports":"angular"},"jquery":{"exports":"jQuery"},"underscore":{"exports":"_"},"highcharts":{"exports":"Highcharts","deps":["jquery"]}}});define(rA[262][0],["moduleDefiner","angular","underscore",rA[166][0],rA[92][0],rA[185][0],rA[149][0],rA[123][0],rA[41][0],rA[43][0],rA[42][0],rA[40][0],rA[106][0],rA[252][0],rA[199][0],rA[171][0],rA[232][0],rA[206][0],rA[211][0],rA[236][0],rA[250][0],rA[209][0],rA[235][0],rA[148][0],rA[210][0],rA[151][0],rA[150][0],rA[234][0],rA[188][0],rA[193][0],rA[251][0],rA[186][0],rA[219][0],rA[260][0],rA[133][0],rA[238][0],rA[259][0],rA[133][0]],function(e,r,s,o,t,n,i,a,u,c,p,l,d,g){"use strict";var f=s.toArray(arguments),v=13,m=f.slice(v,f.length),y=e("etoroApp",["ngCookies","ngRoute","ngSanitize","ngMessages",n.ngModule.name].concat(m));return y.constant("_",s),y.config(["$provide","$routeProvider","$httpProvider","$compileProvider","$locationProvider","$anchorScrollProvider","$analyticsProvider","infrastruct.services.configProvider","ctrlResolverProvider",function(e,r,s,o,t,n,f,v){var m;o.commentDirectivesEnabled(!1),o.cssClassDirectivesEnabled(!1),t.html5Mode({enabled:!0,requireBase:!1}),s.useApplyAsync(!0),s.defaults.headers["delete"]={"Content-Type":"application/json"},v.setInitialConfig(y.initialParams),f.firstPageview(!0),f.virtualPageviews(!0),m=[].concat(u,a,i,p,l,c,d,g),m.forEach(function(e){r.when(e.url,e.config)}),r.otherwise({redirectTo:"/"})}]),y.run(["$rootScope","$location","$log","$cookies","$injector","infrastruct.services.localization.localizeFactory","bl.factories.session.sessionFactory","infrastruct.services.config","$analytics","bl.factories.payments.kycProvider","infrastruct.services.authCheckService",function(e,r,s,o,t,n,i,a,u,c,p){function l(e,o,t,n){o.$$route&&"standalone"===o.$$route.id?(s.error("embed $routeChangeError",r.url()),o.$$route.resolve&&o.$$route.resolve.errorRedirectUrl?window.location=o.$$route.resolve.errorRedirectUrl():r.url("/app/error/standalone/standalonegeneric")):n&&"maintenance"===n.reason?r.url("/app/error/maintenance/"+n.source):(s.error("$routeChangeError",r.url()),r.url("/"))}function d(r,s){s?(clearTimeout(f),v&&(a.dynamics.enableReloadOnVisibility?location.reload():(e.$emit("app:refreshPortfolio"),e.$emit("appSettings:refresh:request"),v=!1))):f=setTimeout(function(){v=!0,e.$broadcast("app:shutdown")},18e5)}function g(){u.setGlobalEventProperties({Username:function(){return e.session.isLoggedIn?e.session.user.username:"Visitor"},UserToken:function(){return e.session.isLoggedIn?e.session.user.externalId:a.dynamics.userSession},Portfolio:function(){var r=t.get("bl.factories.trading.portfolio.accountFacade").account;return e.session.isLoggedIn&&r?r.type:"Real"},AppVersion:a.statics.ApplicationVersion,Language:function(){return n.language},userCountry:function(){return e.session.isLoggedIn?e.session.user.country.displayName:"not available"},"Country Name":function(){return e.session.isLoggedIn?e.session.user.country.name:void 0},"Player Level ID":function(){return e.session.isLoggedIn?e.session.user.playerLevelId:void 0},"Regulation ID":function(){return e.session.isLoggedIn?e.session.user.regulationId:void 0},"Designated Regulation ID":function(){return e.session.isLoggedIn?e.session.user.designatedRegulationId:void 0}}),a.dynamics.whenReady().then(function(){var e=a.dynamics.rolloutVersion;if(e&&e.enabled){var r=o.get("rolloutVersion"),s=/(true|false)$/.exec(r);u.setGlobalEventProperties({"Rollout Group":s&&"true"===s[1]?"B":"A","Rollout ID":e.rolloutId,"Rollout Participant":!!s})}})}var f,v=!1;performance.mark("perf:lightstreamer:simulatedAtBootstrap"),e.session=i,e.$on("$routeChangeStart",p.authCheck.bind(p)),e.$on("$routeChangeError",l),e.$on("app:visiblity:change",d),n.setLanguage(),g(),i.restore()["finally"](function(){e.$broadcast("app:ready"),window.etoroSplash&&window.etoroSplash.reportProgress(100),window.bootstrapTimer&&clearTimeout(window.bootstrapTimer)})}]),y});define("angular",[],function(){return window.angular});define("underscore",[],function(){return window._});define("jquery",[],function(){return window.jQuery});define("moduleDefiner",["angular"],function(r){function n(n){try{return r.module(n)}catch(e){return null}}function e(t,u){var o=r.isObject(t)?t:n(t);return u=e.names(u),o?u.length>0&&r.forEach(u,function(r){-1===o.requires.indexOf(r)&&o.requires.push(r)}):o=r.module(t,u||[]),o}var t=r.module;return r.module=function(){var n=t.apply(r,arguments);return n.inheritController=function(r,n,e){return this.controller(r,["$scope","$controller","$injector",function(r,t,u){var o={$scope:r};return e.prototype=t(n,o),o.superCtrl=e.prototype,u.instantiate(e,o)}]),this},n},e.names=function(n){var e,t,u,o=[];if(!n)return o;for(t=0,u=n.length;u>t;t++)e=n[t],r.isString(e)?o.push(e):e&&e.name&&o.push(e.name);return o},e});!function(){var n=function(){!function(n,e){"use strict";function t(n,e,t){if(!n)throw pe("areq","Argument '{0}' is {1}",e||"?",t||"required");return n}function r(n,e){return n||e?n?e?(V(n)&&(n=n.join(" ")),V(e)&&(e=e.join(" ")),n+" "+e):n:e:""}function a(n){var e={};return n&&(n.to||n.from)&&(e.to=n.to,e.from=n.from),e}function i(n,e,t){var r="";return n=V(n)?n:n&&ne(n)&&n.length?n.split(/\s+/):[],G(n,function(n,a){n&&n.length>0&&(r+=a>0?" ":"",r+=t?e+n:n+e)}),r}function o(n,e){var t=n.indexOf(e);e>=0&&n.splice(t,1)}function s(n){if(n instanceof te)switch(n.length){case 0:return n;case 1:if(n[0].nodeType===R)return n;break;default:return te(u(n))}return n.nodeType===R?te(n):void 0}function u(n){if(!n[0])return n;for(var e=0;e<n.length;e++){var t=n[e];if(t.nodeType===R)return t}}function l(n,e,t){G(e,function(e){n.addClass(e,t)})}function c(n,e,t){G(e,function(e){n.removeClass(e,t)})}function f(n){return function(e,t){t.addClass&&(l(n,e,t.addClass),t.addClass=null),t.removeClass&&(c(n,e,t.removeClass),t.removeClass=null)}}function d(n){if(n=n||{},!n.$$prepared){var e=n.domOperation||re;n.domOperation=function(){n.$$domOperationFired=!0,e(),e=re},n.$$prepared=!0}return n}function m(n,e){v(n,e),p(n,e)}function v(n,e){e.from&&(n.css(e.from),e.from=null)}function p(n,e){e.to&&(n.css(e.to),e.to=null)}function h(n,e,t){var r=e.options||{},a=t.options||{},i=(r.addClass||"")+" "+(a.addClass||""),o=(r.removeClass||"")+" "+(a.removeClass||""),s=g(n.attr("class"),i,o);a.preparationClasses&&(r.preparationClasses=D(a.preparationClasses,r.preparationClasses),delete a.preparationClasses);var u=r.domOperation!==re?r.domOperation:null;return Q(r,a),u&&(r.domOperation=u),r.addClass=s.addClass?s.addClass:null,r.removeClass=s.removeClass?s.removeClass:null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function g(n,e,t){function r(n){ne(n)&&(n=n.split(" "));var e={};return G(n,function(n){n.length&&(e[n]=!0)}),e}var a=1,i=-1,o={};n=r(n),e=r(e),G(e,function(n,e){o[e]=a}),t=r(t),G(t,function(n,e){o[e]=o[e]===a?null:i});var s={addClass:"",removeClass:""};return G(o,function(e,t){var r,o;e===a?(r="addClass",o=!n[t]||n[t+L]):e===i&&(r="removeClass",o=n[t]||n[t+q]),o&&(s[r].length&&(s[r]+=" "),s[r]+=t)}),s}function $(n){return n instanceof te?n[0]:n}function C(n,e,t){var r="";e&&(r=i(e,U,!0)),t.addClass&&(r=D(r,i(t.addClass,q))),t.removeClass&&(r=D(r,i(t.removeClass,L))),r.length&&(t.preparationClasses=r,n.addClass(r))}function y(n,e){e.preparationClasses&&(n.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(n.removeClass(e.activeClasses),e.activeClasses=null)}function b(n,e){var t=e?"-"+e+"s":"";return k(n,[me,t]),[me,t]}function w(n,e){var t=e?"paused":"",r=I+le;return k(n,[r,t]),[r,t]}function k(n,e){var t=e[0],r=e[1];n.style[t]=r}function D(n,e){return n?e?n+" "+e:n:e}function x(n){return[de,n+"s"]}function A(n,e){var t=e?fe:me;return[t,n+"s"]}function S(n,e,t){var r=Object.create(null),a=n.getComputedStyle(e)||{};return G(t,function(n,e){var t=a[n];if(t){var i=t.charAt(0);("-"===i||"+"===i||i>=0)&&(t=T(t)),0===t&&(t=null),r[e]=t}}),r}function T(n){var e=0,t=n.split(/\s*,\s*/);return G(t,function(n){"s"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n=parseFloat(n)||0,e=e?Math.max(n,e):n}),e}function M(n){return 0===n||null!=n}function j(n,e){var t=P,r=n+"s";return e?t+=ae:r+=" linear all",[t,r]}function O(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(e){var t=n[e];return t?t.total:0},get:function(e){var t=n[e];return t&&t.value},put:function(e,t){n[e]?n[e].total++:n[e]={total:1,value:t}}}}function E(n,e,t){G(t,function(t){n[t]=_(n[t])?n[t]:e.style.getPropertyValue(t)})}var P,N,I,F,R=1,q="-add",L="-remove",U="ng-",z="-active",H="-prepare",B="ng-animate",J="$$ngAnimateChildren",W="";void 0===n.ontransitionend&&void 0!==n.onwebkittransitionend?(W="-webkit-",P="WebkitTransition",N="webkitTransitionEnd transitionend"):(P="transition",N="transitionend"),void 0===n.onanimationend&&void 0!==n.onwebkitanimationend?(W="-webkit-",I="WebkitAnimation",F="webkitAnimationEnd animationend"):(I="animation",F="animationend");var K,Q,G,V,_,X,Y,Z,ne,ee,te,re,ae="Duration",ie="Property",oe="Delay",se="TimingFunction",ue="IterationCount",le="PlayState",ce=9999,fe=I+oe,de=I+ae,me=P+oe,ve=P+ae,pe=e.$$minErr("ng"),he=["$$rAF",function(n){function e(n){r=r.concat(n),t()}function t(){if(r.length){for(var e=r.shift(),i=0;i<e.length;i++)e[i]();a||n(function(){a||t()})}}var r,a;return r=e.queue=[],e.waitUntilQuiet=function(e){a&&a(),a=n(function(){a=null,e(),t()})},e}],ge=["$interpolate",function(n){return{link:function(e,t,r){function a(n){n="on"===n||"true"===n,t.data(J,n)}var i=r.ngAnimateChildren;ne(i)&&0===i.length?t.data(J,!0):(a(n(i)(e)),r.$observe("ngAnimateChildren",a))}}}],$e="$$animateCss",Ce=1e3,ye=3,be=1.5,we={transitionDuration:ve,transitionDelay:me,transitionProperty:P+ie,animationDuration:de,animationDelay:fe,animationIterationCount:I+ue},ke={transitionDuration:ve,transitionDelay:me,animationDuration:de,animationDelay:fe},De=["$animateProvider",function(){var n=O(),e=O();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,r,s,u,l,c,h,g){function C(n,e){var t="$$ngAnimateParentKey",r=n.parentNode,a=r[t]||(r[t]=++H);return a+"-"+n.getAttribute("class")+"-"+e}function y(e,r,a,i){var o=n.get(a);return o||(o=S(t,e,i),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),n.put(a,o),o}function D(a,o,s,u){var l;if(n.count(s)>0&&(l=e.get(s),!l)){var c=i(o,"-stagger");r.addClass(a,c),l=S(t,a,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(a,c),e.put(s,l)}return l||{}}function T(t){B.push(t),h.waitUntilQuiet(function(){n.flush(),e.flush();for(var t=l(),r=0;r<B.length;r++)B[r](t);B.length=0})}function O(n,e,t){var r=y(n,e,t,we),a=r.animationDelay,i=r.transitionDelay;return r.maxDelay=a&&i?Math.max(a,i):a||i,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var R=f(r),H=0,B=[];return function(e,t){function l(){h()}function f(){h(!0)}function h(n){if(!(_||Y&&X)){_=!0,X=!1,J.$$skipPreparationClasses||r.removeClass(e,we),r.removeClass(e,xe),w(Q,!1),b(Q,!1),G(le,function(n){Q.style[n[0]]=""}),R(e,J),m(e,J),Object.keys(W).length&&G(W,function(n,e){n?Q.style.setProperty(e,n):Q.style.removeProperty(e)}),J.onDone&&J.onDone(),me&&me.length&&e.off(me.join(" "),H);var t=e.data($e);t&&(u.cancel(t[0].timer),e.removeData($e)),Z&&Z.complete(!n)}}function y(n){Le.blockTransition&&b(Q,n),Le.blockKeyframeAnimation&&w(Q,!!n)}function S(){return Z=new s({end:l,cancel:f}),T(re),h(),{$$willAnimate:!1,start:function(){return Z},end:l}}function H(n){n.stopPropagation();var e=n.originalEvent||n,t=e.$manualTimeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(ye));Math.max(t-ue,0)>=te&&r>=ae&&(Y=!0,h())}function B(){function n(){if(!_){if(y(!1),G(le,function(n){var e=n[0],t=n[1];Q.style[e]=t}),R(e,J),r.addClass(e,xe),Le.recalculateTimingStyles){if(De=Q.className+" "+we,Te=C(Q,De),Re=O(Q,De,Te),qe=Re.maxDelay,ee=Math.max(qe,0),ae=Re.maxDuration,0===ae)return void h();Le.hasTransitions=Re.transitionDuration>0,Le.hasAnimations=Re.animationDuration>0}if(Le.applyAnimationDelay&&(qe="boolean"!=typeof J.delay&&M(J.delay)?parseFloat(J.delay):qe,ee=Math.max(qe,0),Re.animationDelay=qe,Ue=A(qe,!0),le.push(Ue),Q.style[Ue[0]]=Ue[1]),te=ee*Ce,oe=ae*Ce,J.easing){var n,a=J.easing;Le.hasTransitions&&(n=P+se,le.push([n,a]),Q.style[n]=a),Le.hasAnimations&&(n=I+se,le.push([n,a]),Q.style[n]=a)}Re.transitionDuration&&me.push(N),Re.animationDuration&&me.push(F),ue=Date.now();var i=te+be*oe,o=ue+i,s=e.data($e)||[],l=!0;if(s.length){var c=s[0];l=o>c.expectedEndTime,l?u.cancel(c.timer):s.push(h)}if(l){var f=u(t,i,!1);s[0]={timer:f,expectedEndTime:o},s.push(h),e.data($e,s)}me.length&&e.on(me.join(" "),H),J.to&&(J.cleanupStyles&&E(W,Q,Object.keys(J.to)),p(e,J))}}function t(){var n=e.data($e);if(n){for(var t=1;t<n.length;t++)n[t]();e.removeData($e)}}if(!_){if(!Q.parentNode)return void h();var a=function(n){if(Y)X&&n&&(X=!1,h());else if(X=!n,Re.animationDuration){var e=w(Q,X);X?le.push(e):o(le,e)}},i=Ie>0&&(Re.transitionDuration&&0===Me.transitionDuration||Re.animationDuration&&0===Me.animationDuration)&&Math.max(Me.animationDelay,Me.transitionDelay);i?u(n,Math.floor(i*Ie*Ce),!1):n(),ne.resume=function(){a(!0)},ne.pause=function(){a(!1)}}}var J=t||{};J.$$prepared||(J=d(K(J)));var W={},Q=$(e);if(!Q||!Q.parentNode||!g.enabled())return S();var _,X,Y,Z,ne,ee,te,ae,oe,ue,le=[],fe=e.attr("class"),de=a(J),me=[];if(0===J.duration||!c.animations&&!c.transitions)return S();var ve=J.event&&V(J.event)?J.event.join(" "):J.event,pe=ve&&J.structural,he="",ge="";pe?he=i(ve,U,!0):ve&&(he=ve),J.addClass&&(ge+=i(J.addClass,q)),J.removeClass&&(ge.length&&(ge+=" "),ge+=i(J.removeClass,L)),J.applyClassesEarly&&ge.length&&R(e,J);var we=[he,ge].join(" ").trim(),De=fe+" "+we,xe=i(we,z),Ae=de.to&&Object.keys(de.to).length>0,Se=(J.keyframeStyle||"").length>0;if(!Se&&!Ae&&!we)return S();var Te,Me;if(J.stagger>0){var je=parseFloat(J.stagger);Me={transitionDelay:je,animationDelay:je,transitionDuration:0,animationDuration:0}}else Te=C(Q,De),Me=D(Q,we,Te,ke);J.$$skipPreparationClasses||r.addClass(e,we);var Oe;if(J.transitionStyle){var Ee=[P,J.transitionStyle];k(Q,Ee),le.push(Ee)}if(J.duration>=0){Oe=Q.style[P].length>0;var Pe=j(J.duration,Oe);k(Q,Pe),le.push(Pe)}if(J.keyframeStyle){var Ne=[I,J.keyframeStyle];k(Q,Ne),le.push(Ne)}var Ie=Me?J.staggerIndex>=0?J.staggerIndex:n.count(Te):0,Fe=0===Ie;Fe&&!J.skipBlocking&&b(Q,ce);var Re=O(Q,De,Te),qe=Re.maxDelay;ee=Math.max(qe,0),ae=Re.maxDuration;var Le={};if(Le.hasTransitions=Re.transitionDuration>0,Le.hasAnimations=Re.animationDuration>0,Le.hasTransitionAll=Le.hasTransitions&&"all"===Re.transitionProperty,Le.applyTransitionDuration=Ae&&(Le.hasTransitions&&!Le.hasTransitionAll||Le.hasAnimations&&!Le.hasTransitions),Le.applyAnimationDuration=J.duration&&Le.hasAnimations,Le.applyTransitionDelay=M(J.delay)&&(Le.applyTransitionDuration||Le.hasTransitions),Le.applyAnimationDelay=M(J.delay)&&Le.hasAnimations,Le.recalculateTimingStyles=ge.length>0,(Le.applyTransitionDuration||Le.applyAnimationDuration)&&(ae=J.duration?parseFloat(J.duration):ae,Le.applyTransitionDuration&&(Le.hasTransitions=!0,Re.transitionDuration=ae,Oe=Q.style[P+ie].length>0,le.push(j(ae,Oe))),Le.applyAnimationDuration&&(Le.hasAnimations=!0,Re.animationDuration=ae,le.push(x(ae)))),0===ae&&!Le.recalculateTimingStyles)return S();if(null!=J.delay){var Ue;"boolean"!=typeof J.delay&&(Ue=parseFloat(J.delay),ee=Math.max(Ue,0)),Le.applyTransitionDelay&&le.push(A(Ue)),Le.applyAnimationDelay&&le.push(A(Ue,!0))}return null==J.duration&&Re.transitionDuration>0&&(Le.recalculateTimingStyles=Le.recalculateTimingStyles||Fe),te=ee*Ce,oe=ae*Ce,J.skipBlocking||(Le.blockTransition=Re.transitionDuration>0,Le.blockKeyframeAnimation=Re.animationDuration>0&&Me.animationDelay>0&&0===Me.animationDuration),J.from&&(J.cleanupStyles&&E(W,Q,Object.keys(J.from)),v(e,J)),Le.blockTransition||Le.blockKeyframeAnimation?y(ae):J.skipBlocking||b(Q,!1),{$$willAnimate:!0,end:l,start:function(){return _?void 0:(ne={end:l,cancel:f,resume:null,pause:null},Z=new s(ne),T(B),Z)}}}}]}],xe=["$$animationProvider",function(n){function e(n){return n.parentNode&&11===n.parentNode.nodeType}n.drivers.push("$$animateCssDriver");var t="ng-animate-shim",r="ng-anchor",a="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(n,o,s,u,l,c,f){function d(n){return n.replace(/\bng-\S+\b/g,"")}function m(n,e){return ne(n)&&(n=n.split(" ")),ne(e)&&(e=e.split(" ")),n.filter(function(n){return-1===e.indexOf(n)}).join(" ")}function v(e,o,u){function l(n){var e={},t=$(n).getBoundingClientRect();return G(["width","height","top","left"],function(n){var r=t[n];switch(n){case"top":r+=g.scrollTop;break;case"left":r+=g.scrollLeft}e[n]=Math.floor(r)+"px"}),e}function c(){var e=n(h,{addClass:a,delay:!0,from:l(o)});return e.$$willAnimate?e:null}function f(n){return n.attr("class")||""}function v(){var e=d(f(u)),t=m(e,C),r=m(C,e),o=n(h,{to:l(u),addClass:i+" "+t,removeClass:a+" "+r,delay:!0});return o.$$willAnimate?o:null}function p(){h.remove(),o.removeClass(t),u.removeClass(t)}var h=te($(o).cloneNode(!0)),C=d(f(h));o.addClass(t),u.addClass(t),h.addClass(r),y.append(h);var b,w=c();if(!w&&(b=v(),!b))return p();var k=w||b;return{start:function(){function n(){t&&t.end()}var e,t=k.start();return t.done(function(){return t=null,!b&&(b=v())?(t=b.start(),t.done(function(){t=null,p(),e.complete()}),t):(p(),void e.complete())}),e=new s({end:n,cancel:n})}}}function p(n,e,t,r){var a=h(n,re),i=h(e,re),o=[];return G(r,function(n){var e=n.out,r=n["in"],a=v(t,e,r);a&&o.push(a)}),a||i||0!==o.length?{start:function(){function n(){G(e,function(n){n.end()})}var e=[];a&&e.push(a.start()),i&&e.push(i.start()),G(o,function(n){e.push(n.start())});var t=new s({end:n,cancel:n});return s.all(e,function(n){t.complete(n)}),t}}:void 0}function h(e){var t=e.element,r=e.options||{};e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=D(r.event,r.preparationClasses));var a=n(t,r);return a.$$willAnimate?a:null}if(!l.animations&&!l.transitions)return re;var g=f[0].body,C=$(u),y=te(e(C)||g.contains(C)?C:g);return function(n){return n.from&&n.to?p(n.from,n.to,n.classes,n.anchors):h(n)}}]}],Ae=["$animateProvider",function(n){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,t,r){function a(t){t=V(t)?t:t.split(" ");for(var r=[],a={},i=0;i<t.length;i++){var o=t[i],s=n.$$registeredAnimations[o];s&&!a[o]&&(r.push(e.get(s)),a[o]=!0)}return r}var i=f(r);return function(n,e,r,o){function s(){o.domOperation(),i(n,o)}function u(){v=!0,s(),m(n,o)}function l(n,e,r,a,i){var o;switch(r){case"animate":o=[e,a.from,a.to,i];break;case"setClass":o=[e,g,$,i];break;case"addClass":o=[e,g,i];break;case"removeClass":o=[e,$,i];break;default:o=[e,i]}o.push(a);var s=n.apply(n,o);if(s)if(Y(s.start)&&(s=s.start()),s instanceof t)s.done(i);else if(Y(s))return s;return re}function c(n,e,r,a,i){var o=[];return G(a,function(a){var s=a[i];s&&o.push(function(){var a,i,o=!1,u=function(n){o||(o=!0,(i||re)(n),a.complete(!n))};return a=new t({end:function(){u()},cancel:function(){u(!0)}}),i=l(s,n,e,r,function(n){var e=n===!1;u(e)}),a})}),o}function f(n,e,r,a,i){var o=c(n,e,r,a,i);if(0===o.length){var s,u;"beforeSetClass"===i?(s=c(n,"removeClass",r,a,"beforeRemoveClass"),u=c(n,"addClass",r,a,"beforeAddClass")):"setClass"===i&&(s=c(n,"removeClass",r,a,"removeClass"),u=c(n,"addClass",r,a,"addClass")),s&&(o=o.concat(s)),u&&(o=o.concat(u))}return 0!==o.length?function(n){var e=[];return o.length&&G(o,function(n){e.push(n())}),e.length?t.all(e,n):n(),function(n){G(e,function(e){n?e.cancel():e.end()})}}:void 0}var v=!1;3===arguments.length&&Z(r)&&(o=r,r=null),o=d(o),r||(r=n.attr("class")||"",o.addClass&&(r+=" "+o.addClass),o.removeClass&&(r+=" "+o.removeClass));var p,h,g=o.addClass,$=o.removeClass,C=a(r);if(C.length){var y,b;"leave"===e?(b="leave",y="afterLeave"):(b="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(p=f(n,e,o,C,b)),h=f(n,e,o,C,y)}if(p||h){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(u(),w=new t,w.complete(!0)),w},start:function(){function n(n){u(n),w.complete(n)}function e(e){v||((r||re)(e),n(e))}if(w)return w;w=new t;var r,a=[];return p&&a.push(function(n){r=p(n)}),a.length?a.push(function(n){s(),n(!0)}):s(),h&&a.push(function(n){r=h(n)}),w.setHost({end:function(){e()},cancel:function(){e(!0)}}),t.chain(a,n),w}}}}}]}],Se=["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(n,e){function t(e){var t=e.element,r=e.event,a=e.options,i=e.classes;return n(t,r,i,a)}return function(n){if(n.from&&n.to){var r=t(n.from),a=t(n.to);if(!r&&!a)return;return{start:function(){function n(){return function(){G(i,function(n){n.end()})}}function t(n){o.complete(n)}var i=[];r&&i.push(r.start()),a&&i.push(a.start()),e.all(i,t);var o=new e({end:n(),cancel:n()});return o}}}return t(n)}}]}],Te="data-ng-animate",Me="$ngAnimatePin",je=["$animateProvider",function(e){function r(n){if(!n)return null;var e=n.split(v),t=Object.create(null);return G(e,function(n){t[n]=!0}),t}function a(n,e){if(n&&e){var t=r(e);return n.split(v).some(function(n){return t[n]})}}function i(n,e,t,r){return p[n].some(function(n){return n(e,t,r)})}function o(n,e){var t=(n.addClass||"").length>0,r=(n.removeClass||"").length>0;return e?t&&r:t||r}var l=1,c=2,v=" ",p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(n,e){return!e.structural&&o(e)}),p.skip.push(function(n,e){return!e.structural&&!o(e)}),p.skip.push(function(n,e,t){return"leave"===t.event&&e.structural}),p.skip.push(function(n,e,t){return t.structural&&t.state===c&&!e.structural}),p.cancel.push(function(n,e,t){return t.structural&&e.structural}),p.cancel.push(function(n,e,t){return t.state===c&&e.structural}),p.cancel.push(function(n,e,t){if(t.structural)return!1;var r=e.addClass,i=e.removeClass,o=t.addClass,s=t.removeClass;return ee(r)&&ee(i)||ee(o)&&ee(s)?!1:a(r,s)||a(i,o)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(r,a,v,p,g,b,w,k,D){function x(){var n=!1;return function(e){n?e():a.$$postDigest(function(){n=!0,e()})}}function A(n,e){return h(n,e,{})}function S(n,e,t){var r=$(e),a=$(n),i=[],o=z[t];return o&&G(o,function(n){Y.call(n.node,r)?i.push(n.callback):"leave"===t&&Y.call(n.node,a)&&i.push(n.callback)}),i}function T(n,e,t){var r=u(e);return n.filter(function(n){var e=n.node===r&&(!t||n.callback===t);return!e})}function M(n,e){"close"!==n||e[0].parentNode||re.off(e)}function j(n,e,t){function u(e,t,a,i){T(function(){var e=S(g,n,t);e.length?r(function(){G(e,function(e){e(n,a,i)}),M(a,n)}):M(a,n)}),e.progress(t,a,i)}function f(e){y(n,k),W(n,k),m(n,k),k.domOperation(),D.complete(!e)}var v,g,k=K(t);n=s(n),n&&(v=$(n),g=n.parent()),k=d(k);var D=new w,T=x();if(V(k.addClass)&&(k.addClass=k.addClass.join(" ")),k.addClass&&!ne(k.addClass)&&(k.addClass=null),V(k.removeClass)&&(k.removeClass=k.removeClass.join(" ")),k.removeClass&&!ne(k.removeClass)&&(k.removeClass=null),k.from&&!Z(k.from)&&(k.from=null),k.to&&!Z(k.to)&&(k.to=null),!v)return f(),D;var j=[v.className,k.addClass,k.removeClass].join(" ");if(!B(j))return f(),D;var P=["enter","move","leave"].indexOf(e)>=0,R=p[0].hidden,U=!L||R||q.get(v),z=!U&&F.get(v)||{},H=!!z.state;if(U||H&&z.state===l||(U=!N(n,g,e)),U)return R&&u(D,e,"start"),f(),R&&u(D,e,"close"),D;P&&O(n);var J={structural:P,element:n,event:e,addClass:k.addClass,removeClass:k.removeClass,close:f,options:k,runner:D};if(H){var Q=i("skip",n,J,z);if(Q)return z.state===c?(f(),D):(h(n,z,J),z.runner);var _=i("cancel",n,J,z);if(_)if(z.state===c)z.runner.end();else{if(!z.structural)return h(n,z,J),z.runner;z.close()}else{var X=i("join",n,J,z);if(X){if(z.state!==c)return C(n,P?e:null,k),e=J.event=z.event,k=h(n,z,J),z.runner;A(n,J)}}}else A(n,J);var Y=J.structural;if(Y||(Y="animate"===J.event&&Object.keys(J.options.to||{}).length>0||o(J)),!Y)return f(),E(n),D;var ee=(z.counter||0)+1;return J.counter=ee,I(n,l,J),a.$$postDigest(function(){var t=F.get(v),r=!t;t=t||{};var a=n.parent()||[],i=a.length>0&&("animate"===t.event||t.structural||o(t));if(r||t.counter!==ee||!i)return r&&(W(n,k),m(n,k)),(r||P&&t.event!==e)&&(k.domOperation(),D.end()),void(i||E(n));e=!t.structural&&o(t,!0)?"setClass":t.event,I(n,c);var s=b(n,e,t.options);D.setHost(s),u(D,e,"start",{}),s.done(function(t){f(!t);var r=F.get(v);r&&r.counter===ee&&E($(n)),u(D,e,"close",{})})}),D}function O(n){var e=$(n),t=e.querySelectorAll("["+Te+"]");G(t,function(n){var e=parseInt(n.getAttribute(Te),10),t=F.get(n);if(t)switch(e){case c:t.runner.end();case l:F.remove(n)}})}function E(n){var e=$(n);e.removeAttribute(Te),F.remove(e)}function P(n,e){return $(n)===$(e)}function N(n,e){var t,r=te(p[0].body),a=P(n,r)||"HTML"===n[0].nodeName,i=P(n,v),o=!1,s=q.get($(n)),u=te.data(n[0],Me);for(u&&(e=u),e=$(e);e&&(i||(i=P(e,v)),e.nodeType===R);){var l=F.get(e)||{};if(!o){var c=q.get(e);if(c===!0&&s!==!1){s=!0;break}c===!1&&(s=!1),o=l.structural}if(ee(t)||t===!0){var f=te.data(e,J);_(f)&&(t=f)}if(o&&t===!1)break;if(a||(a=P(e,r)),a&&i)break;e=i||!(u=te.data(e,Me))?e.parentNode:$(u)}var d=(!o||t)&&s!==!0;return d&&i&&a}function I(n,e,t){t=t||{},t.state=e;var r=$(n);r.setAttribute(Te,e);var a=F.get(r),i=a?Q(a,t):t;F.put(r,i)}var F=new g,q=new g,L=null,U=a.$watch(function(){return 0===k.totalPendingRequests},function(n){n&&(U(),a.$$postDigest(function(){a.$$postDigest(function(){null===L&&(L=!0)})}))}),z=Object.create(null),H=e.classNameFilter(),B=H?function(n){return H.test(n)}:function(){return!0},W=f(D),Y=n.Node.prototype.contains||function(n){return this===n||!!(16&this.compareDocumentPosition(n))},re={on:function(n,e,t){var r=u(e);z[n]=z[n]||[],z[n].push({node:r,callback:t}),te(e).on("$destroy",function(){var a=F.get(r);a||re.off(n,e,t)})},off:function(n,e,t){if(1!==arguments.length||ne(arguments[0])){var r=z[n];r&&(z[n]=1===arguments.length?null:T(r,e,t))}else{e=arguments[0];for(var a in z)z[a]=T(z[a],e)}},pin:function(n,e){t(X(n),"element","not an element"),t(X(e),"parentElement","not an element"),n.data(Me,e)},push:function(n,e,t,r){return t=t||{},t.domOperation=r,j(n,e,t)},enabled:function(n,e){var t=arguments.length;if(0===t)e=!!L;else{var r=X(n);if(r){var a=$(n);1===t?e=!q.get(a):q.put(a,!e)}else e=L=!!n}return e}};return re}]}],Oe=["$animateProvider",function(){function n(n,e){n.data(o,e)}function e(n){n.removeData(o)}function t(n){return n.data(o)}var a="ng-animate-ref",i=this.drivers=[],o="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(o,s,u,l,c,v){function p(n){function e(n){if(n.processed)return n;n.processed=!0;var t=n.domNode,r=t.parentNode;i.put(t,n);for(var o;r;){if(o=i.get(r)){o.processed||(o=e(o));break}r=r.parentNode}return(o||a).children.push(n),n}function t(n){var e,t=[],r=[];for(e=0;e<n.children.length;e++)r.push(n.children[e]);var a=r.length,i=0,o=[];for(e=0;e<r.length;e++){var s=r[e];0>=a&&(a=i,i=0,t.push(o),o=[]),o.push(s.fn),s.children.forEach(function(n){i++,r.push(n)}),a--}return o.length&&t.push(o),t}var r,a={children:[]},i=new c;for(r=0;r<n.length;r++){var o=n[r];i.put(o.domNode,n[r]={domNode:o.domNode,fn:o.fn,children:[]})}for(r=0;r<n.length;r++)e(n[r]);return t(a)}var h=[],g=f(o);return function(c,f,C){function y(n){var e="["+a+"]",t=n.hasAttribute(a)?[n]:n.querySelectorAll(e),r=[];return G(t,function(n){var e=n.getAttribute(a);e&&e.length&&r.push(n)}),r}function b(n){var e=[],t={};G(n,function(n,r){var i=n.element,o=$(i),s=n.event,u=["enter","move"].indexOf(s)>=0,l=n.structural?y(o):[];if(l.length){var c=u?"to":"from";G(l,function(n){var e=n.getAttribute(a);t[e]=t[e]||{},t[e][c]={animationID:r,element:te(n)}})}else e.push(n)});var r={},i={};return G(t,function(t){var a=t.from,o=t.to;if(!a||!o){var s=a?a.animationID:o.animationID,u=s.toString();return void(r[u]||(r[u]=!0,e.push(n[s])))}var l=n[a.animationID],c=n[o.animationID],f=a.animationID.toString();if(!i[f]){var d=i[f]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:w(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?e.push(d):(e.push(l),e.push(c))}i[f].anchors.push({out:a.element,"in":o.element})}),e}function w(n,e){n=n.split(" "),e=e.split(" ");for(var t=[],r=0;r<n.length;r++){var a=n[r];if("ng-"!==a.substring(0,3))for(var i=0;i<e.length;i++)if(a===e[i]){t.push(a);break}}return t.join(" ")}function k(n){for(var e=i.length-1;e>=0;e--){var t=i[e],r=u.get(t),a=r(n);if(a)return a}}function D(){c.addClass(B),O&&o.addClass(c,O),E&&(o.removeClass(c,E),E=null)}function x(n,e){function r(n){var r=t(n);r&&r.setHost(e)}n.from&&n.to?(r(n.from.element),r(n.to.element)):r(n.element)}function A(){var n=t(c);!n||"leave"===f&&C.$$domOperationFired||n.end()}function S(n){c.off("$destroy",A),e(c),g(c,C),m(c,C),C.domOperation(),O&&o.removeClass(c,O),c.removeClass(B),M.complete(!n)}C=d(C);var T=["enter","move","leave"].indexOf(f)>=0,M=new l({end:function(){S()},cancel:function(){S(!0)}});if(!i.length)return S(),M;n(c,M);var j=r(c.attr("class"),r(C.addClass,C.removeClass)),O=C.tempClasses;O&&(j+=" "+O,C.tempClasses=null);var E;return T&&(E="ng-"+f+H,o.addClass(c,E)),h.push({element:c,classes:j,event:f,structural:T,options:C,beforeStart:D,close:S}),c.on("$destroy",A),h.length>1?M:(s.$$postDigest(function(){var n=[];G(h,function(e){t(e.element)?n.push(e):e.close()}),h.length=0;var e=b(n),r=[];G(e,function(n){r.push({domNode:$(n.from?n.from.element:n.element),fn:function(){n.beforeStart();var e,r=n.close,a=n.anchors?n.from.element||n.to.element:n.element;if(t(a)){var i=k(n);i&&(e=i.start)}if(e){var o=e();o.done(function(n){r(!n)}),x(n,o)}else r()}})}),v(p(r))}),M)}}]}],Ee=["$animate","$rootScope",function(n){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,t,r,a,i){var o,s;e.$watchCollection(r.ngAnimateSwap||r["for"],function(r){o&&n.leave(o),s&&(s.$destroy(),s=null),(r||0===r)&&(s=e.$new(),i(s,function(e){o=e,n.enter(e,null,t)}))})}}}];e.module("ngAnimate",[],function(){re=e.noop,K=e.copy,Q=e.extend,te=e.element,G=e.forEach,V=e.isArray,ne=e.isString,Z=e.isObject,ee=e.isUndefined,_=e.isDefined,Y=e.isFunction,X=e.isElement}).directive("ngAnimateSwap",Ee).directive("ngAnimateChildren",ge).factory("$$rAFScheduler",he).provider("$$animateQueue",je).provider("$$animation",Oe).provider("$animateCss",De).provider("$$animateCssDriver",xe).provider("$$animateJs",Ae).provider("$$animateJsDriver",Se)}(window,window.angular),!function(n,e){"use strict";function t(n,e){if(s(n)){e=e||[];for(var t=0,r=n.length;r>t;t++)e[t]=n[t]}else if(u(n)){e=e||{};for(var a in n)("$"!==a.charAt(0)||"$"!==a.charAt(1))&&(e[a]=n[a])}return e||n}function r(){function n(n,t){return e.extend(Object.create(n),t)}function r(n,e){var t=e.caseInsensitiveMatch,r={originalPath:n,regexp:n},a=r.keys=[];return n=n.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(n,e,t,r){var i="?"===r||"*?"===r?"?":null,o="*"===r||"*?"===r?"*":null;return a.push({name:t,optional:!!i}),e=e||"",""+(i?"":e)+"(?:"+(i?e:"")+(o&&"(.+?)"||"([^/]+)")+(i||"")+")"+(i||"")}).replace(/([/$*])/g,"\\$1"),r.regexp=new RegExp("^"+n+"$",t?"i":""),r}s=e.isArray,u=e.isObject;var a={};this.when=function(n,i){var o=t(i);if(e.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),e.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),a[n]=e.extend(o,n&&r(n,o)),n){var s="/"===n[n.length-1]?n.substr(0,n.length-1):n+"/";a[s]=e.extend({redirectTo:n},r(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(n){return"string"==typeof n&&(n={redirectTo:n}),this.when(null,n),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(t,r,i,o,s,u,l){function f(n,e){var t=e.keys,r={};if(!e.regexp)return null;var a=e.regexp.exec(n);if(!a)return null;for(var i=1,o=a.length;o>i;++i){var s=t[i-1],u=a[i];s&&u&&(r[s.name]=u)}return r}function d(n){var r=b.current;$=h(),C=$&&r&&$.$$route===r.$$route&&e.equals($.pathParams,r.pathParams)&&!$.reloadOnSearch&&!y,C||!r&&!$||t.$broadcast("$routeChangeStart",$,r).defaultPrevented&&n&&n.preventDefault()}function m(){var n=b.current,a=$;C?(n.params=a.params,e.copy(n.params,i),t.$broadcast("$routeUpdate",n)):(a||n)&&(y=!1,b.current=a,a&&a.redirectTo&&(e.isString(a.redirectTo)?r.path(g(a.redirectTo,a.params)).search(a.params).replace():r.url(a.redirectTo(a.pathParams,r.path(),r.search())).replace()),o.when(a).then(v).then(function(r){a===b.current&&(a&&(a.locals=r,e.copy(a.params,i)),t.$broadcast("$routeChangeSuccess",a,n))},function(e){a===b.current&&t.$broadcast("$routeChangeError",a,n,e)}))}function v(n){if(n){var t=e.extend({},n.resolve);e.forEach(t,function(n,r){t[r]=e.isString(n)?s.get(n):s.invoke(n,null,null,r)});var r=p(n);return e.isDefined(r)&&(t.$template=r),o.all(t)}}function p(n){var t,r;return e.isDefined(t=n.template)?e.isFunction(t)&&(t=t(n.params)):e.isDefined(r=n.templateUrl)&&(e.isFunction(r)&&(r=r(n.params)),e.isDefined(r)&&(n.loadedTemplateUrl=l.valueOf(r),t=u(r))),t}function h(){var t,i;return e.forEach(a,function(a){!i&&(t=f(r.path(),a))&&(i=n(a,{params:e.extend({},r.search(),t),pathParams:t}),i.$$route=a)}),i||a[null]&&n(a[null],{params:{},pathParams:{}})}function g(n,t){var r=[];return e.forEach((n||"").split(":"),function(n,e){if(0===e)r.push(n);else{var a=n.match(/(\w+)(?:[?*])?(.*)/),i=a[1];r.push(t[i]),r.push(a[2]||""),delete t[i]}}),r.join("")}var $,C,y=!1,b={routes:a,reload:function(){y=!0;var n={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,y=!1}};t.$evalAsync(function(){d(n),n.defaultPrevented||m()})},updateParams:function(n){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route when with no current route");n=e.extend({},this.current.params,n),r.path(g(this.current.$$route.originalPath,n)),r.search(n)}};return t.$on("$locationChangeStart",d),t.$on("$locationChangeSuccess",m),b}]}function a(){this.$get=function(){return{}}}function i(n,t,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,s,u){function l(){m&&(r.cancel(m),m=null),f&&(f.$destroy(),f=null),d&&(m=r.leave(d),m.done(function(n){n!==!1&&(m=null)}),d=null)}function c(){var o=n.current&&n.current.locals,s=o&&o.$template;if(e.isDefined(s)){var c=a.$new(),m=n.current,h=u(c,function(n){r.enter(n,null,d||i).done(function(n){n===!1||!e.isDefined(v)||v&&!a.$eval(v)||t()}),l()});d=h,f=m.scope=c,f.$emit("$viewContentLoaded"),f.$eval(p)}else l()}var f,d,m,v=o.autoscroll,p=o.onload||"";a.$on("$routeChangeSuccess",c),c()}}}function o(n,e,t){return{restrict:"ECA",priority:-400,link:function(r,a){var i=t.current,o=i.locals;a.html(o.$template);var s=n(a.contents());if(i.controller){o.$scope=r;var u=e(i.controller,o);i.controllerAs&&(r[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}r[i.resolveAs||"$resolve"]=o,s(r)}}}var s,u,l=e.module("ngRoute",["ng"]).provider("$route",r),c=e.$$minErr("ngRoute");l.provider("$routeParams",a),l.directive("ngView",i),l.directive("ngView",o),i.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(n,e){"use strict";function t(){function t(n,e){var t,r={},a=n.split(",");for(t=0;t<a.length;t++)r[e?u(a[t]):a[t]]=!0;return r}function r(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e),$.innerHTML=e;var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,n.document.documentMode&&h($),e=$.innerHTML,$.innerHTML=e}while(e!==$.innerHTML);for(var a=$.firstChild;a;){switch(a.nodeType){case 1:t.start(a.nodeName.toLowerCase(),m(a.attributes));break;case 3:t.chars(a.textContent)}var i;if(!(i=a.firstChild)&&(1===a.nodeType&&t.end(a.nodeName.toLowerCase()),i=a.nextSibling,!i))for(;null==i&&(a=a.parentNode,a!==$);)i=a.nextSibling,1===a.nodeType&&t.end(a.nodeName.toLowerCase());a=i}for(;a=$.firstChild;)$.removeChild(a)}function m(n){for(var e={},t=0,r=n.length;r>t;t++){var a=n[t];e[a.name]=a.value}return e}function v(n){return n.replace(/&/g,"&amp;").replace(C,function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return"&#"+(1024*(e-55296)+(t-56320)+65536)+";"}).replace(y,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(n,e){var t=!1,r=a(n,n.push);return{start:function(n,a){n=u(n),!t&&T[n]&&(t=n),t||M[n]!==!0||(r("<"),r(n),o(a,function(t,a){var i=u(a),o="img"===n&&"src"===i||"background"===i;P[i]!==!0||j[i]===!0&&!e(t,o)||(r(" "),r(a),r('="'),r(v(t)),r('"'))}),r(">"))},end:function(n){n=u(n),t||M[n]!==!0||b[n]===!0||(r("</"),r(n),r(">")),n==t&&(t=!1)},chars:function(n){t||r(v(n))}}}function h(e){for(;e;){if(e.nodeType===n.Node.ELEMENT_NODE)for(var t=e.attributes,r=0,a=t.length;a>r;r++){var i=t[r],o=i.name.toLowerCase();("xmlns:ns1"===o||0===o.lastIndexOf("ns1:",0))&&(e.removeAttributeNode(i),r--,a--)}var s=e.firstChild;s&&h(s),e=e.nextSibling}}var g=!1;this.$get=["$$sanitizeUri",function(n){return g&&i(M,S),function(e){var t=[];return c(e,f(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return s(n)?(g=n,this):g},a=e.bind,i=e.extend,o=e.forEach,s=e.isDefined,u=e.lowercase,l=e.noop,c=r,f=p;var $,C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^#-~ |!])/g,b=t("area,br,col,hr,img,wbr"),w=t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=t("rp,rt"),D=i({},k,w),x=i({},w,t("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=i({},k,t("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=t("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),T=t("script,style"),M=i({},b,x,A,D),j=t("background,cite,href,longdesc,src,xlink:href"),O=t("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),E=t("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),P=i({},j,E,O);!function(n){var e;if(!n.document||!n.document.implementation)throw d("noinert","Can't create an inert html document");e=n.document.implementation.createHTMLDocument("inert");var t=e.documentElement||e.getDocumentElement(),r=t.getElementsByTagName("body");if(1===r.length)$=r[0];else{var a=e.createElement("html");$=e.createElement("body"),a.appendChild($),e.appendChild(a)}}(n)}function r(n){var e=[],t=f(e,l);return t.chars(n),e.join("")}var a,i,o,s,u,l,c,f,d=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",t),e.module("ngSanitize").filter("linky",["$sanitize",function(n){var t=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,a=/^mailto:/i,i=e.$$minErr("linky"),o=e.isDefined,s=e.isFunction,u=e.isObject,l=e.isString;return function(e,c,f){function d(n){n&&C.push(r(n))}function m(n,e){var t,r=g(n);C.push("<a ");for(t in r)C.push(t+'="'+r[t]+'" ');!o(c)||"target"in r||C.push('target="',c,'" '),C.push('href="',n.replace(/"/g,"&quot;"),'">'),d(e),C.push("</a>")}if(null==e||""===e)return e;if(!l(e))throw i("notstring","Expected string but received: {0}",e);for(var v,p,h,g=s(f)?f:u(f)?function(){return f}:function(){return{}},$=e,C=[];v=$.match(t);)p=v[0],v[2]||v[4]||(p=(v[3]?"http://":"mailto:")+p),h=v.index,d($.substr(0,h)),m(p,v[0].replace(a,"")),$=$.substring(h+v[0].length);return d($),n(C.join(""))}}])}(window,window.angular),!function(n,e){"use strict";function t(n,t,r){function a(n,r,a){var o,s;a=a||{},s=a.expires,o=e.isDefined(a.path)?a.path:i,e.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),e.isString(s)&&(s=new Date(s));var u=encodeURIComponent(n)+"="+encodeURIComponent(r);u+=o?";path="+o:"",u+=a.domain?";domain="+a.domain:"",u+=s?";expires="+s.toUTCString():"",u+=a.secure?";secure":"";var l=u.length+1;return l>4096&&t.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),u}var i=r.baseHref(),o=n[0];return function(n,e,t){o.cookie=a(n,e,t)}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){function n(n){return n?e.extend({},t,n):t}var t=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(t,r){return{get:function(n){return t()[n]},getObject:function(n){var t=this.get(n);return t?e.fromJson(t):t},getAll:function(){return t()},put:function(e,t,a){r(e,t,n(a))},putObject:function(n,t,r){this.put(n,e.toJson(t),r)},remove:function(e,t){r(e,void 0,n(t))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(e){return n.getObject(e)},put:function(e,t){n.putObject(e,t)},remove:function(e){n.remove(e)}}}]),t.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=t})}(window,window.angular),!function(n,e){"use strict";function t(){function n(n,e){return n?a(n)?n.indexOf(e)>=0:n.hasOwnProperty(e):void 0}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,r,i,o,s){var u,l=r[0],c=i.ngMessage||i.when,f=i.ngMessageExp||i.whenExp,d=function(n){u=n?a(n)?n:n.split(/[\s,]+/):null,o.reRender()};f?(d(t.$eval(f)),t.$watchCollection(f,d)):d(c);var m,v;o.register(l,v={test:function(e){return n(u,e)},attach:function(){m||s(function(n,t){e.enter(n,null,r),m=n;var a=m.$$attachId=o.getAttachId();m.on("$destroy",function(){m&&m.$$attachId===a&&(o.deregister(l),v.detach()),t.$destroy()})})},detach:function(){if(m){var n=m;m=null,e.leave(n)}}})}}}]}var r,a,i,o;e.module("ngMessages",[],function(){r=e.forEach,a=e.isArray,i=e.isString,o=e.element}).directive("ngMessages",["$animate",function(n){function e(n,e){return i(e)&&0===e.length||t(n.$eval(e))}function t(n){return i(n)?n.length:!!n}var a="ng-active",o="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(i,s,u){function l(n,e){for(var t=e,r=[];t&&t!==n;){var a=t.$$ngMessageNode;if(a&&a.length)return g[a];t.childNodes.length&&-1===r.indexOf(t)?(r.push(t),t=t.childNodes[t.childNodes.length-1]):t.previousSibling?t=t.previousSibling:(t=t.parentNode,r.push(t))}}function c(n,e,t){var r=g[t];if(d.head){var a=l(n,e);a?(r.next=a.next,a.next=r):(r.next=d.head,d.head=r)}else d.head=r}function f(n,e,t){var r=g[t],a=l(n,e);a?a.next=r.next:d.head=r.next}var d=this,m=0,v=0;this.getAttachId=function(){return v++};var p,h,g=this.messages={};this.render=function(l){l=l||{},p=!1,h=l;for(var c=e(s,u.ngMessagesMultiple)||e(s,u.multiple),f=[],m={},v=d.head,g=!1,$=0;null!=v;){$++;var C=v.message,y=!1;g||r(l,function(n,e){if(!y&&t(n)&&C.test(e)){if(m[e])return;m[e]=!0,y=!0,C.attach()}}),y?g=!c:f.push(C),v=v.next}r(f,function(n){n.detach()}),f.length!==$?n.setClass(i,a,o):n.setClass(i,o,a)},s.$watchCollection(u.ngMessages||u["for"],d.render),i.on("$destroy",function(){r(g,function(n){n.message.detach()})}),this.reRender=function(){p||(p=!0,s.$evalAsync(function(){p&&h&&d.render(h)}))},this.register=function(n,e){var t=m.toString();g[t]={message:e},c(i[0],n,t),n.$$ngMessageNode=t,m++,d.reRender()},this.deregister=function(n){var e=n.$$ngMessageNode;delete n.$$ngMessageNode,f(i[0],n,e),delete g[e],d.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(n,e,t){function r(n,r){var a=t.$$createComment?t.$$createComment("ngMessagesInclude",r):e[0].createComment(" ngMessagesInclude: "+r+" "),i=o(a);n.after(i),n.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(e,a,o){var s=o.ngMessagesInclude||o.src;n(s).then(function(n){e.$$destroyed||(i(n)&&!n.trim()?r(a,s):t(n)(e,function(n){a.after(n),r(a,s)}))})}}}]).directive("ngMessage",t()).directive("ngMessageExp",t())}(window,window.angular)};define(rA[166][0],["angular"],function(){return n(),"ready"})}();define(rA[92][0],[],function(){function r(r,t){if(0===r||isNaN(r))return r;var n=Math.pow(10,t);return Math.round(r*n)/n}function t(r){return r&&"string"==typeof r?Number(r.replace(/[^0-9\-\.]+/g,"")):r}function o(r,t){var o=parseInt(t)||0;if(-20>o||o>100)throw new RangeError("Precision of "+o+" fractional digits is out of range");var i=Number(r);if(isNaN(i))return 0/0;r=Number(r);var e="";if(0>=i&&(e="-",i=-i),i>=Math.pow(10,21))return e+i.toString();var u,a=Math.pow(10,o);if(n=Math.floor(i*a),Math.abs(n/a-i)>=Math.abs((n+1)/a-i)&&++n,u=0==n?"0":n.toString(),0==o)return e+u;var p=u.length;if(o>=p){var f=Math.pow(10,o+1-p).toString().substring(1);u=f+u,p=o+1}if(o>0){var s=u.substring(0,p-o),g=u.substring(p-o);u=s+"."+g}return 0===r?r+u:e+u}function i(r,t){return r*t/100}return Number.prototype.toNumberFixed=function(t){return r(this,t)},String.prototype.toNumberFixed=function(t){var n=parseFloat(this);return r(n,t)},String.prototype.format=String.prototype.format||function(){var r=arguments;return this.replace(/\{\{|\}\}|\{(\d+)\}/g,function(t,n){return"{{"==t?"{":"}}"==t?"}":r[n]})},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),window.parseToFloat=t,window.toFixed=r,window.toFixedSting=o,window.numberFromPercent=i,window.stringFormatApply=function(r,t){return String.prototype.format.apply(r,t)},!0});define(rA[185][0],["angular"],function(t){"use strict";function e(t){return n=t,r}function r(e,r){return i(e)&&i(r)&&(e.inheritsFrom(r),e.prototype.runBaseCtor=function(e){n=n||t.element(document.body).injector(),n.invoke(r,this,e)}),e}var n,i=t.isFunction,o=t.module("infrastruct.utils.diFuncInheritance",[]);return o.service("infrastruct.utils.diFuncInheritance",e),o.run(["infrastruct.utils.diFuncInheritance",function(){}]),e.$inject=["$injector"],r.ngModule=o,Function.prototype.inheritsFrom=function(t){var e=this.prototype;this.prototype=Object.create(t.prototype);for(var r in e){var n=Object.getOwnPropertyDescriptor(e,r);n&&(n.get||n.set)?Object.defineProperty(this.prototype,r,{get:n.get,set:n.set,enumerable:!0,configurable:!0}):this.prototype[r]=e[r]}this.prototype.constructor=this,Object.defineProperty(this.prototype,"constructor",{enumerable:!1,value:this})},r});define(rA[149][0],["angular"],function(e){function r(e){return/^[a-z0-9-_]*$/i.test(e)}var t={instrumentsGroups:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}]};return[{url:"/discover/markets",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoveryPage"},template:"",resolve:e.extend({},t,{isUserFromUs:["$rootScope","$location","infrastruct.services.config",function(e,r){var t=e.session.isUsUser(),s="/discover";return r.replace(),r.path(s),t}]}),metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/index.view.html"},mainNavId:"discoverMarkets"}},{url:"/discover/markets/results",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:"<et-route-renderer></et-route-renderer>",reloadOnSearch:!1,resolve:t,mainNavId:"discoverMarkets"}},{url:"/discover/markets/top-markets",config:{sharePages:{showShareButton:!0,urlKey:"TopMarketsDiscoverySearchPage"},template:"<et-route-renderer></et-route-renderer>",reloadOnSearch:!1,resolve:{queryResolver:["discoveryService",function(e){return e.getTopMarkets().then(function(e){if(e&&e.length){var r=e.map(function(e){return e.instrument});return{id:"topMarkets",instruments:r,showInstrumentsDropdown:!1}}$location.path("/")})["catch"](function(){$location.path("/")})}]},mainNavId:"discoverTopMarkets"}},{url:"/discover/markets/market-movers",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory","infrastruct.services.localStorage",function(e,r){return r.init().then(function(){return e.getLazyTopMovers({instrumentsCount:50}).then(function(e){return{id:"moversAndShakers",instruments:e,showInstrumentsDropdown:!1}})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/market-movers.view.html"},mainNavId:"discoverMarkets"}},{url:"/discover/markets/stocks/market-movers",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory",function(e,r){return r.init().then(function(){return e.getLazyTopMovers({instrumentsCount:50,type:"Stocks"}).then(function(e){return{showInstrumentsDropdown:!1,newDiscoverCategories:{preset:"moversAndShakers"},InstrumentTypeID:5,id:"moversAndShakers",instruments:e}})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/market-movers.view.html"},mainNavId:"discoverMarkets"}},{url:"/discover/markets/cryptocurrencies/market-movers",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory",function(e,r){return r.init().then(function(){var t=r.getCryptoCategoryByName("coins"),s={showInstrumentsDropdown:!1};return t&&(s.InstrumentTypeSubCategoryID=t.CryptoCategoryID),e.getLazyTopMovers({instrumentsCount:130,type:"Crypto"}).then(function(e){return s.id="moversAndShakers",s.newDiscoverCategories={preset:"moversAndShakers"},s.instruments=e,s})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/market-movers.view.html"},mainNavId:"discoverMarkets"}},{url:"/discover/popular-:id",config:{mainNavId:"discoverPopular",sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:e.extend({},t,{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory","$route","$q","infrastruct.services.locationParams","$location",function(e,t,s,n,o,a){var i="commodities"===s.current.params.id;return i?n(function(r,s){return t.init().then(function(){var t=o.search("commoditySubType");return e.getLazySubCategories("CommoditiesResults",{subType:t}).then(function(e){r({instruments:e,id:2,InstrumentTypeID:2})})["catch"](function(){a.path("/discover"),s()})})}):r(s.current.params.id)?t.init().then(function(){return e.loadFilteredInstruments(s.current.params.id,50).then(function(e){return{id:s.current.params.id,instruments:e,showInstrumentsDropdown:i}})}):n.reject()}]}),metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/popular.view.html"}}},{url:"/discover/trending",config:{mainNavId:"discoverTrending",sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory","infrastruct.services.locationParams",function(e,r,t){var s=t.search("assetTypes"),n={instrumentsCount:50};return"stocks-crypto"===s&&(n.assetTypes="stocks,crypto"),r.init().then(function(){return e.getLazyInstruments("MostPopularInstruments",n).then(function(e){return{id:"trending",instruments:e}})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/trending.view.html"}}},{url:"/discover/markets/cryptocurrencies/trending",config:{mainNavId:"discoverMarkets",sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory",function(e,r){return r.init().then(function(){var t=r.getCryptoCategoryByName("coins"),s={},s={showInstrumentsDropdown:!1};return t&&(s.InstrumentTypeSubCategoryID=t.CryptoCategoryID),e.getLazyInstruments("MostPopularInstruments",{instrumentsCount:130,type:"Crypto"}).then(function(e){return s.id="trending",s.newDiscoverCategories={preset:"trending"},s.instruments=e,s})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/trending.view.html"}}},{url:"/discover/markets/stocks/trending",config:{mainNavId:"discoverMarkets",sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory","$rootScope",function(e,r,t){return r.init().then(function(){var r={showInstrumentsDropdown:!1},s=t.session.isUsUser()&&t.session.user&&8!==t.session.user.designatedRegulationId;return e.getLazyInstruments("MostPopularInstruments",{instrumentsCount:s?500:50,type:"stocks"}).then(function(e){return r.newDiscoverCategories={instrumentType:"Stocks",baseUrl:"/discover/markets/stocks",stocksIndustryTitle:"Trending Markets"},r.instruments=e,r})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/trending.view.html"}}},{url:"/discover/markets/cryptocurrencies/by-market-cap",config:{mainNavId:"discoverMarkets",template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory",function(e,r){return r.init().then(function(){var t=r.getCryptoCategoryByName("coins"),s={showInstrumentsDropdown:!1};return t&&(s.InstrumentTypeSubCategoryID=t.CryptoCategoryID),e.getLazyMarketCapInstruments("CryptoMarketCap",{instrumentsCount:130}).then(function(e){return s.id="CryptoMarketCap",s.instruments=e,s.newDiscoverCategories={preset:"trendingAnalysis"},s})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/market-cap.view.html"}}},{url:"/discover/stocks/analysis",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory",function(e,r){return r.init().then(function(){var r={showInstrumentsDropdown:!1};return e.getLazyTrendingAnalysis("TrendingAnalysis",{instrumentsCount:50}).then(function(e){return r.id="markets",r.newDiscoverCategories={preset:"trendingAnalysis"},r.instruments=e,r.InstrumentTypeID=5,r})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/trending.view.html"}}},{url:"/discover/stocks/trending-analysis",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',resolve:{items:["discoveryService","$q","$location",function(e,r,t){return r(function(r){return e.loadTrendingAnalysis().then(function(e){r(e)})["catch"](function(){t.path("/discover/markets/stocks")})})}]},mainNavId:"discoverStocksTrendingAnalysis"}},{url:"/discover/collections/:collectionType",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{items:["discoveryService","$q","$location","$route","UIBreakpointsService",function(e,r,t,s,n){return n.isDesktop?void t.path("/discover"):r(function(r){var n=s.current.params.collectionType;return n||t.path("/discover"),e.loadCollectionResults(n).then(function(e){return e&&e.length?void r(e):void t.path("/discover")})["catch"](function(){t.path("/discover")})})}]}}},{url:"/discover/recently-added",config:{mainNavId:"discoverRecentlyAdded",sharePages:{showShareButton:!0,urlKey:"test"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["discoveryService","bl.factories.trading.instruments.instrumentsGroupsFactory",function(e,r){return r.init().then(function(){return e.getLazyInstruments("NewlyListedInstruments",{instrumentsCount:50}).then(function(e){return{id:"recentlyAdded",instruments:e,showInstrumentsDropdown:!1}})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/recently-added.view.html"}}},{url:"/discover/markets/:instrumentType",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:e.extend({},t,{queryResolver:["$q","$location","bl.factories.trading.instruments.instrumentsGroupsFactory","infrastruct.services.locationParams","$route","discoveryService","userSessionService",function(e,r,t,s,n,o,a){return e(function(e,i){t.init().then(function(){var c,u,m=s.search("commoditySubType");u=o.isDiscoveryCategory(n.current.params.instrumentType),c=t.getTypeByUrlName(n.current.params.instrumentType);var l="etf"===n.current.params.instrumentType?"etfs":n.current.params.instrumentType;if(u)if("etfs"===l){var v=s.search("exchangeName");v&&(v=v.split("_").join(" ")),a.isUsUser()&&v&&"NYSE"!==v&&"Nasdaq"!==v&&(v="",r.search("exchangeName",void 0)),o.getLazySubEtfResult(v?{exchangeName:v,itemsCount:1e3}:{itemsCount:1e3}).then(function(r){var t=r.instruments,s=r.etfExchangeOptions;e({instruments:t,id:c.InstrumentTypeID,InstrumentTypeID:c.InstrumentTypeID,etfExchangeOptions:s})})["catch"](function(){r.path("/discover"),i()})}else{var d=m?{subType:m}:{instrumentType:l,instrumentsCount:400};o.getLazySubCategories(m?"CommoditiesResults":"CategoryResults",d).then(function(r){e({instruments:r,id:c.InstrumentTypeID,InstrumentTypeID:c.InstrumentTypeID})})["catch"](function(){r.path("/discover"),i()})}else r.path("/discover"),i()})["catch"](function(){r.path("/discover"),i()})})}]}),metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/instrumentTypeResults.view.html",resolve:["$q","bl.factories.trading.instruments.instrumentsGroupsFactory","$route",function(e,r,t){return e(function(e,s){"cryptocurrencies"===t.current.params.instrumentType&&e({InstrumentTypeID:10,Url:"/discover/markets/cryptocurrencies"});var n=r.getTypeByUrlName(t.current.params.instrumentType);n?e(n):s({})})}]},mainNavId:"discoverMarkets"}},{url:"/discover/markets/stocks/industry/:stocksIndustryName",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:e.extend({},t,{queryResolver:["$q","$location","bl.factories.trading.instruments.instrumentsGroupsFactory","infrastruct.services.locationParams","$route","discoveryService",function(e,t,s,n,o,a){return e(function(e,i){s.init().then(function(){var c,u;if((c=n.search("StocksIndustryID"))&&r(c))return a.getLazyAssetTypes(),void e({StocksIndustryID:c});if(u=s.getIndustryByUrlName(o.current.params.stocksIndustryName))return a.getLazyAssetTypes(),void e({StocksIndustryID:u.IndustryID});if(u=o.current.params.stocksIndustryName,u&&r(u)){var m=u.split("-").map(function(e){return e=e[0].toUpperCase()+e.slice(1)});return m=m.join(" "),a.getLazySubCategories("StocksSubCategoryResults",{title:m,type:"Industry"}).then(function(r){r&&r.length&&e({newDiscoverCategories:{stocksIndustryUrl:u,stocksIndustryTitle:m,instrumentType:"Stocks",type:"industry",baseUrl:"/discover/markets/stocks"},instruments:r}),i()})["catch"](function(){t.path("/discover/markets/"),i()})}t.path("/discover/markets/"),i()})["catch"](function(){t.path("/discover/markets"),i()})})}]}),metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/stocksIndustryResults.view.html",resolve:["infrastruct.services.locationParams","$q","bl.factories.trading.instruments.instrumentsGroupsFactory","$route",function(e,r,t,s){return r(function(e,r){var n=t.getIndustryByUrlName(s.current.params.stocksIndustryName);n?e(n):r({})})}]},mainNavId:"discoverMarkets"}},{url:"/discover/markets/stocks/sector/:stocksIndustryName",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:{queryResolver:["$q","$location","$route","discoveryService",function(e,t,s,n){return e(function(e,o){var a;if(a=s.current.params.stocksIndustryName,a&&r(a)){var i=a.split("-").map(function(e){return e=e[0].toUpperCase()+e.slice(1)});return i=i.join(" "),n.getLazySubCategories("StocksSubCategoryResults",{title:i,type:"Sector"}).then(function(r){r&&r.length&&e({newDiscoverCategories:{stocksIndustryUrl:a,stocksIndustryTitle:i,instrumentType:"Stocks",type:"sector",baseUrl:"/discover/markets/stocks"},instruments:r}),o()})["catch"](function(){t.path("/discover/markets/"),o()})}t.path("/discover/markets/"),o()})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/stocksIndustryResults.view.html",resolve:["infrastruct.services.locationParams","$q","bl.factories.trading.instruments.instrumentsGroupsFactory","$route",function(e,r,t,s){return r(function(e,r){var n=t.getIndustryByUrlName(s.current.params.stocksIndustryName);n?e(n):r({})})}]},mainNavId:"discoverMarkets"}},{url:"/discover/markets/stocks/exchange/:exchangeName",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:e.extend({},t,{queryResolver:["$q","$location","bl.factories.trading.instruments.instrumentsGroupsFactory","infrastruct.services.locationParams","$route","discoveryService",function(e,t,s,n,o,a){return e(function(e,i){s.init().then(function(){var c,u,m=o.current.params.exchangeName;if(c=n.search("ExchangeID"),c&&r(c))a.configureParams("StockExchangeResult",c,null,50).then(function(r){var t=r.instruments;t&&t.length?e({id:"exchanges",instruments:t,count:r.count,ExchangeID:c,componentType:"StockExchangeResult"}):i()})["catch"](function(){t.path("/discover"),i()});else if(r(m)&&(u=s.getExchangeByUrlName(m)))return void e({ExchangeID:u.ExchangeID})})["catch"](function(){t.path("/discover"),i()})})}],discoveryService:["discoveryService",function(e){return Promise.resolve(e)}]}),metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/stocksExchangeResults.view.html",resolve:["infrastruct.services.locationParams","$q","bl.factories.trading.instruments.instrumentsGroupsFactory","$route",function(e,r,t,s){return r(function(r,n){var o;o=(exchangeId=e.search("ExchangeID"))?t.getExchangeById(exchangeId):t.getExchangeByUrlName(s.current.params.exchangeName),o?r(o):n({})})}]},mainNavId:"discoverMarkets"}},{url:"/discover/markets/cryptocurrencies/:cryptoCategoryName",config:{sharePages:{showShareButton:!0,urlKey:"MarketsDiscoverySearchPage"},template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,resolve:e.extend({},t,{queryResolver:["$q","$location","bl.factories.trading.instruments.instrumentsGroupsFactory","infrastruct.services.locationParams","$route","discoveryService",function(e,r,t,s,n,o){return e(function(e,s){t.init().then(function(){var r;return(r=t.getCryptoCategoryByName(n.current.params.cryptoCategoryName))?(o.getLazyAssetTypes(),void e({InstrumentTypeSubCategoryID:r.CryptoCategoryID})):void s()})["catch"](function(){r.path("/discover/markets"),s()})})}]}),metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/markets/cryptoCategoryResult.view.html",resolve:["infrastruct.services.locationParams","$q","bl.factories.trading.instruments.instrumentsGroupsFactory","$route",function(e,r,t,s){return r(function(e,r){var n=t.getCryptoCategoryByName(s.current.params.cryptoCategoryName);n?e(n):r({})})}]},mainNavId:"discoverMarkets"}}]});define(rA[123][0],["underscore"],function(e){function t(e){return/^[a-z0-9-_]*$/i.test(e)}function r(e){return/^[a-z0-9-_.]*$/i.test(e)}function n(e,t,r,n,a,o){return e(function(e,s){a.mark("marketPageResolver_getInstrumentBySymbol_start"),r.init().then(function(){a.mark("marketPageResolver_getInstrumentBySymbol_end");var r=null;if(t.current&&t.current.params&&t.current.params.symbol){var i=o.session.user&&4===o.session.user.playerLevelId&&n.allowInvisibleInstruments();r=n.getBySymbol(t.current.params.symbol,!1,i)}r?e(r):s()})["catch"](s)})}function a(e,t,r,n){return e(function(e,a){r.mark("marketPageResolver_getInstrumentBySymbol_start"),t.current&&t.current.params&&t.current.params.symbol?n.getBySymbol$(t.current.params.symbol).subscribe({next:function(t){r.mark("marketPageResolver_getInstrumentBySymbol_end"),t?e(t):a()},error:function(e){a(e)}}):a()})}function o(e){var t="/discover"+(e?"/"+e:"");"crypto"===e&&(t="/discover/markets/cryptocurrencies"),"stocks"===e&&(t="/discover/markets/stocks");var r={smartportfolios:"/etoro/apps/components/metaTags/templates/discover/funds/index.view.html","default":"/etoro/apps/components/metaTags/templates/discover/discover-new/index.view.html",people:"/etoro/apps/components/metaTags/templates/discover/people/index.view.html",crypto:"/etoro/apps/components/metaTags/templates/discover/markets/instrumentTypeResults.view.html",stocks:"/etoro/apps/components/metaTags/templates/discover/markets/instrumentTypeResults.view.html"},n=r[e]||r["default"];return{url:t,config:{abTests:[{projectName:"Retention",experimentName:"discover_adding_gradient_to_tab_bar",request:["UIBreakpointsService",function(e){return e.isMobile}]},{projectName:"Acquisition",experimentName:"discover_core_portfolios_reorder",request:["$rootScope",function(t){return!e&&t.session&&t.session.isLoggedIn}]},{projectName:"Retention",experimentName:"stock_screener_product_tour",request:["$rootScope","infrastruct.services.config","UIBreakpointsService",function(t,r,n){return r.dynamics.discovery.screener.isScreenerProductTourEnabled&&n.isExtraWideDesktop&&"screener"===e&&t.session&&t.session.isLoggedIn}]},{projectName:"Retention",experimentName:"stock_screener_update_the_default_columns",request:["infrastruct.services.localStorage","$rootScope","infrastruct.services.config",function(t,r,n){if(n.dynamics.discovery.screener.isChangeDefaultCoulmnsExperimentEnabled&&"screener"===e&&r.session&&r.session.isLoggedIn){var a=r.session.user&&r.session.user.gcid,o=t.getItem("uiTable"),s="stockScreener"+a;return o&&o[s]?!1:!0}return!1}]}],reloadOnSearch:!1,template:function(){var t='<et-route-renderer [$resolve]="$resolve"></et-route-renderer>';return"screener"===e?'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>':"people"===e?'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>':t},resolve:{isUsUser:["$rootScope","$location","infrastruct.services.config",function(t,r,n){var a=t.session.isUsUser(),o=a&&!t.session.isLoggedIn,s=a&&t.session&&t.session.user&&n.dynamics.discovery.usaRegulationsAllowedOverviewTab.includes(t.session.user.designatedRegulationId);return e||!a||s||o||(r.replace(),r.path("/discover/markets/cryptocurrencies")),"smartportfolios"===e&&a&&(r.replace(),r.path("/discover")),"crypto"===e&&t.session.user&&n.dynamics.discovery.regulationsForbiddenCryptoTab.includes(t.session.user.designatedRegulationId)&&(r.replace(),r.path("/discover")),a}],assetPage:["discoveryService",function(t){return t.getAssetPage(e)}],instrumentsReady:["bl.factories.trading.instruments.instrumentsGroupsFactory","$rootScope",function(e,t){return t.session.isLoggedIn?!0:e.init()}],componentsOrder:["discoveryService","$rootScope","$location",function(t,r,n){var a=r.session.isUsUser();if(!("screener"===e||"people"===e&&a)){var o=t.getAssetPage(e);return t.getComponentsOrder(o)["catch"](function(){n.path("/")})}}],screenerInitialData:["infrastruct.services.config","initialDataService","$location",function(t,r){if("screener"===e){var n=t.dynamics.urls.etoroCdn+t.dynamics.discovery.screener.initialDataFilePath;return fetch(n).then(function(e){return e.json()}).then(function(e){return r.data=e,e})}}],isUserAllowedForOptions:["$q","$rootScope","$location","infrastruct.services.config","genericAbTestService","optionsService",function(t,r,n,a,o,s){return"options"!==e?!1:void s.isOptionsAvailableAsync().then(function(e){return e?!0:(n.replace(),n.path("/discover"),!1)})["catch"](function(){return n.replace(),n.path("/discover"),!1})}]},mainNavId:"discovery",contentLoaderId:"people"===e?"":"discover",metaTags:{templateUrl:n,resolve:["$q","bl.factories.trading.instruments.instrumentsGroupsFactory",function(t,r){return t(function(t){if("crypto"===e)t({InstrumentTypeID:10,Url:"/discover/markets/cryptocurrencies"});else if("stocks"===e){var n=r.getTypeByUrlName("stocks");t(n?n:{})}else t({})})}]}}}}var s={isAllowed:["$rootScope","$q",function(e,t){return e.session.user.isPi||"fund"===e.session.user.SubType?t.resolve(e.session.user):t.reject()}],copiersData:["bl.factories.trading.piStats.piStatsService",function(e){return e.getCopiersData()}],activeTab:["$route","$q",function(e,t){var r=e.current&&e.current.params&&e.current.params.type,n=["left","joined"];return r=n[0]===r?r:n[1],t.resolve(r)}]},i={chart:"MarketPageChart",research:"MarketPageResearchNew",stats:"MarketPageStats"},c={feed:"feed",research:"research",stats:"stats",chart:"chart",news:"news"},u={accountSummary:"",closedPositions:"closed-positions",financialSummary:"financial-summary",activity:"activity",dividends:"dividends"};return[{url:"/",config:{template:"",authRoles:["user"],resolve:{whichPage:["$rootScope","$route","$q","bl.factories.settings.homepage","$location","bl.factories.session.copyTraderFunnelService","infrastruct.services.config","bl.factories.session.funnelLoaderService","kycRolloutService","infrastruct.services.localStorage","infrastruct.services.appDataService","genericAbTestService",function(e,t,r,n,a,o,s){return r(function(r){o.getEnabledParams().then(function(o){return o.isEnabledRedirectTo?void r():void n.getCurrentPage().then(function(n){var o=n.url;if((!s.dynamics.isNotificationDeepLinkCalled||"/"===a.path())&&t.current&&t.current.params&&"1"!==t.current.params.isEtoroMoneyAccount){e.session._redirectLoggedUserPatchActivate&&e.session._redirectLoggedUserPatchActivate();var i=a.search();a.url(o).search(i),e.$evalAsync()}setTimeout(function(){s.setDynamicKey("isNotificationDeepLinkCalled",!1)},3e3),r()})["catch"](function(){a.url("/home"),e.$evalAsync()})})})}]}}},{url:"/app/sub-accounts/:providerName/:path/:flow?",config:{mainNavId:"sub-accounts",authRoles:["user"],template:'<iframe src="about:blank" id="sub-account-iframe" style="width: 100%; height: 100%; border: none;"></iframe>',resolve:{providerPageResolver:["IsaAccountService","WealthFranceService","$route","$q",function(e,t,r,n){var a=r.current&&r.current.params||{},o=a.providerName;switch(o){case"moneyfarm":return e.isAllowedToAccessIframePage(a.flow).then(function(t){return t&&e.handleIframeRoute(a.flow),t?n.resolve():n.reject()});case"wealthfrance":return t.isAllowedToAccessIframePage(a.flow).then(function(e){return e&&t.handleIframeRoute(a.flow),e?n.resolve():n.reject()});default:return n.reject()}}]}}},{url:"/documents/stockslending",config:{mainNavId:"documents",id:"stockslending",authRoles:["user"],template:"<et-route-renderer></et-route-renderer>"}},{url:"/documents/stockslending/:from/:to/:activeTab?",config:{activeTab:u.monthlyEarningReports,mainNavId:"documents",id:"stockslending",authRoles:["user"],template:"<et-route-renderer></et-route-renderer>"}},{url:"/documents/accountstatement",config:{mainNavId:"documents",id:"accountstatement",authRoles:["user"],template:"<et-route-renderer></et-route-renderer>"}},{url:"/documents/accountstatement/:from/:to/:activeTab?",config:{activeTab:u.accountSummary,mainNavId:"documents",id:"accountstatement",authRoles:["user"],resolve:{degradedMode:["$rootScope","$route","$q","$location","infrastruct.services.config",function(e,t,r,n,a){return r(function(t){a.dynamics.accountstatement.degradeMode&&(n.url("documents/accountstatement"),e.$evalAsync()),t()})}]},template:"<et-route-renderer></et-route-renderer>"}},{url:"/documents/:documentType?",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',mainNavId:"documents",authRoles:["user"],resolve:{documentType:["$route","$q",function(e,r){var n=e.current&&e.current.params&&e.current.params.documentType;return n&&t(n)?r.resolve(n):r.reject()}],activeSection:function(){return"documents"}}}},{url:"/twitter",config:{resolve:{whichPage:["$route","bl.factories.trading.instruments.instrumentsFactory","bl.factories.trading.instruments.instrumentsGroupsFactory","$location","twitterRoutingService","infrastruct.services.config","$window","$log",function(e,t,r,n,a,o,s,i){o.dynamics.whenReady().then(function(){r.init().then(function(){var r=e.current&&e.current.params&&e.current.params.ticker&&e.current.params.ticker.toLowerCase(),c=t.getBySymbol(r),u=a.getSupportedLang();if(s.eToroLoadPerformance&&s.eToroLoadPerformance.appLoadStartTime){var l=s.eToroLoadPerformance.appLoadStartTime,m=(new Date).getTime()-l;i.logJSON("info","log",{Categories:["bootstrapPerformance","Twitter"],Message:"Performance Twitter redirect to asset page",totalTime:m,performance:window.eToroLoadPerformance.toJson(),instrument:c&&c.Name||"not exist",Domain:"Trading"})}setTimeout(function(){if(n.replace(),c)n.path(u+"/markets/"+r);else{var e=n.url().match(/\?(.*)/);s.location.href=o.dynamics.onboarding.twitterDefaultLp+(e?e[0]:"")}},50)})["catch"](function(){n.replace(),n.path("/")})})["catch"](function(){n.replace(),n.path("/")})}]}}},{url:"/markets/:symbol/:activeTab?/:mode?",config:{activeTab:c.feed,mainNavId:"markets",contentLoaderId:"markets",isEndingManually:!0,sharePages:{showShareButton:!0,urlKey:function(e){var t=e&&e.params&&e.params.activeTab||{};return i[t]?i[t]:"MarketPage"}},abTests:[{projectName:"Retention",experimentName:"market_page_overview_chart_timeframes",request:["$q","infrastruct.services.config","$rootScope",function(e,t,r){return e(function(e){t.dynamics.whenReady().then(function(){e(r.session&&r.session.isLoggedIn&&t.dynamics.marketPage.isMarketPageChartTimefameExperimentEnabled)})})}]},{projectName:"Retention",experimentName:"view_active_price_alerts_on_chart",request:["$q","infrastruct.services.config","$rootScope","$route",function(e,t,r,n){return e(function(e){t.dynamics.whenReady().then(function(){var a=r.session&&r.session.isLoggedIn,o=t.dynamics&&t.dynamics.marketPage&&t.dynamics.marketPage.isMarketPageChartTabActivePriceAlertsOnChartExperimentEnabled,s=n.current&&n.current.params&&n.current.params.activeTab===c.chart;e(a&&s&&o)})})}]},{projectName:"Retention",experimentName:"market_page_chart_tab_unified_chart_experiments",request:["$q","infrastruct.services.config","$rootScope","$route",function(e,t,r,n){return e(function(e){t.dynamics.whenReady().then(function(){var a=r.session&&r.session.isLoggedIn,o=n.current&&n.current.params&&n.current.params.activeTab===c.chart,s=t.dynamics&&t.dynamics.marketPage&&t.dynamics.marketPage.isMarketPageChartTabUnifiedChartExperimentsEnabled;e(a&&o&&s)})})}]},{projectName:"Retention",experimentName:"market_feed_discoverability_split",request:["$q","infrastruct.services.config","$rootScope","$route",function(e,t,r,n){return e(function(e){t.dynamics.whenReady().then(function(){var a=r.session&&r.session.isLoggedIn,o=t.dynamics.marketPage&&t.dynamics.marketPage.isFeedDiscoverabilityExperimentEnabled,s=n.current&&n.current.params&&!n.current.params.activeTab;return a&&o&&s?void r.session.user.getIsDepositor().then(function(t){e(t)})["catch"](function(){e(!1)}):void e(!1)})})}]}],template:'<et-market-page [active-tab-name]="$resolve.activeTab" [instrument]="$resolve.instrument" [new-instrument]="$resolve.newInstrument" [show-research-tab]="$resolve.showResearchTab" [ab-tests-results]="$resolve.abTestsResults" [options-component-data]="$resolve.optionsComponentData" [is-bridgewise-visable]="$resolve.isBridgewiseVisable"></et-market-page>',resolve:{instrument:["$route","$q","bl.factories.trading.instruments.instrumentsGroupsFactory","bl.factories.trading.instruments.instrumentsFactory","PerformanceService","$rootScope",function(e,t,r,a,o,s){return n(t,e,r,a,o,s)}],newInstrument:["$route","$q","PerformanceService","InstrumentsMetadataFacade",function(e,t,r,n){return a(t,e,r,n)}],optionsComponentData:["optionsService","infrastruct.services.appDataService","infrastruct.services.config","$rootScope",function(e,t,r,n){return Promise.all([e.isOptionsAvailableAndUserEligibleAsync(),n.session.isLoggedIn?t.getItem("OptionsTrading"):Promise.resolve(null),r.dynamics.whenReady()]).then(function(e){var t=e[0],r=e[1]?e[1].assetsPageOptionsTradingCardClosed:null,n=e[2].dynamics.showMarketPageOptionsCloseCardButton;return{optionsAvailableForUser:t,assetsPageOptionsTradingCardClosed:r,showMarketPageOptionsCloseCardButton:n}})}],showResearchTab:["$route","$location","$q","PerformanceService","InstrumentsMetadataFacade",function(e,t,r,n,o){return r(function(s,i){a(r,e,n,o).then(function(r){var n=r.IsCrypto&&1001===r.InstrumentTypeSubCategoryID;21!==r.ExchangeID&&24!==r.ExchangeID&&5===r.InstrumentTypeID||n||r.IsETF?s(!0):(e.current.params.activeTab===c.research&&(e.updateParams({activeTab:c.feed}),t.replace()),s(!1))})["catch"](i)})}],activeTab:["$route","$q",function(e,t){var r=e.current&&e.current.params&&e.current.params.activeTab||"feed",n=["chart","feed","stats","research","news"];return-1===n.indexOf(r.toLowerCase())?t.reject():t.resolve(r)}],isBridgewiseVisable:["$route","$injector","$q",function(e,t){var r=e.current&&e.current.params&&e.current.params.activeTab||"feed";if("stats"===r||"feed"===r){var n=e.current&&e.current.params&&e.current.params.symbol,a=t.get("marketPageBridgewiseAbTestService");return a.shouldShowBridgewise(n).then(function(e){if(e&&"stats"===r){var n=t.get("marketPageBridgewiseService");return n.setBridgeWiseAccessToken().then(function(){return e})}return e})}return!1}]},metaTags:{templateUrl:function(e){if(!e||!e.params)return"/etoro/apps/components/metaTags/templates/markets/index.view.html";switch(e.params.activeTab){case c.stats:return"/etoro/apps/components/metaTags/templates/markets/stats.view.html";case c.chart:return"/etoro/apps/components/metaTags/templates/markets/chart.view.html";case c.news:return"/etoro/apps/components/metaTags/templates/markets/news.view.html";default:return"/etoro/apps/components/metaTags/templates/markets/index.view.html"}},noFollow:function(e){return e&&"research"===e.activeTab},resolve:["$q","$route","infrastruct.services.localization.localizeFactory","PerformanceService","InstrumentsMetadataFacade",function(e,t,r,n,o){return e(function(s,i){var c=t.current&&t.current.params||{};a(e,t,n,o).then(function(e){if(e){var t=e.Url.substr(1).split("/"),n=e.industry?e.industry.IndustryName+",":"",a=t[0]+","+n+e.instrumentType.InstrumentTypeDescription+","+e.SymbolFull,o=r.getResource("market.disclaimer.Currency"+e.SellCurrencyID);s({instrument:e,currency:o,breadcrumbs:a,activeTab:c.activeTab&&c.activeTab.toLowerCase()})}else i({})})})}]}}},{url:"/dashboard",config:{redirectTo:"/dashboard/pi"}},{url:"/dashboard/pi",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',authRoles:["user"],maintenanceId:"rankings",sectionId:"piDashboard",resolve:s}},{url:"/dashboard/copiers/:type?",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',authRoles:["user"],maintenanceId:"rankings",sectionId:"piDashboard",resolve:s}},{url:"/learn-more",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',mainNavId:"help",metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/learn-more/learn-more.view.html"}}},{url:"/selfie-liveliness",config:{authRoles:["user"],redirectTo:"/",resolve:{selfieDeepLinkResolver:["bl.factories.complianceSelfieService",function(e){e.processSelfieFlow({flow:"url"})}]}}},{url:"/selfie-liveliness/:sdkToken",config:{resolve:{selfieDeepLinkResolver:["$route","bl.factories.complianceSelfieService",function(e,t){var n=e.current.params;for(var a in n)if(!r(n[a]))return;var o={step:parseInt(n.step)||void 0,flow:"crossApp",crossAppConfig:{key:n.sdkToken,source:n.source,user_consent:"true"===n.user_consent,gcid:parseInt(n.gcid)||void 0}};t.processSelfieFlow(o)}]}}},{url:"/selfie-liveliness/:source/:step",config:{authRoles:["user"],redirectTo:"/",resolve:{selfieDeepLinkResolver:["$route","bl.factories.complianceSelfieService",function(e,t){var r=e.current.params,n={step:parseInt(r.step)||void 0,flow:"url",source:r.source};t.processSelfieFlow(n)}]}}},{url:"/settings/compliance/esma/ProClub",config:{template:'<et-compliance-typeform [data]="$resolve.typeformParameters" [name]="ESMA"></et-compliance-typeform>',authRoles:["user"],resolve:{typeformParameters:["bl.factories.complianceTypeFormService",function(e){return e.getTypeFormParameters()}]}}},{url:"/settings/compliance/asic/SophisticatedInvestor",config:{template:'<et-compliance-typeform [data]="$resolve.typeformParameters" [name]="Sophisticated"></et-compliance-typeform>',authRoles:["user"],resolve:{typeformParameters:["bl.factories.complianceTypeFormService",function(e){return e.getSophisticatedInvestorTypeFormParameters()}]}}},{url:"/settings/compliance/esma/highleverage",config:{authRoles:["user"],resolve:{esmaDeepLinkRedirect:["$location",function(e){return e.path("/settings/compliance/esma/ProClub")}]}}},{url:"/settings/compliance/AsicTest",config:{template:'<et-compliance-typeform [data]="$resolve.typeformParameters" [name]="AsicTest"></et-compliance-typeform>',authRoles:["user"],resolve:{typeformParameters:["bl.factories.complianceTypeFormService",function(e){return e.getAsicTestTypeFormParameters()}]}}},{url:"/settings/compliance/selfie-verification/by-intent",config:{authRoles:["user"],redirectTo:"/",resolve:{selfieDeepLinkResolver:["bl.factories.compliance.selfieVerificationByIntentService",function(e){e.showDialog()}]}}},{url:"/settings/compliance/gaps/poipoacheck",config:{authRoles:["user"],redirectTo:"/",resolve:{checkPoiPoaGapsResolver:["bl.factories.compliance.gapsService",function(e){return e.updateAboutPoiPoaGaps()}]}}},{url:"/settings/compliance/gaps/stockslandingcheck",config:{authRoles:["user"],redirectTo:"/",resolve:{stocksLandingResolver:["bl.factories.compliance.gapsService",function(e){return e.updateAboutStocksLandingGaps()}]}}},{url:"/settings/compliance/dltcheck/:source",config:{authRoles:["user"],redirectTo:"/",resolve:{dltCheckResolver:["$route","bl.factories.compliance.tradingFlowsService",function(e,t){var r=e.current&&e.current.params&&e.current.params.source;return t.startRealCryptoCheckFlowIfNeeded(!1,r)}]}}},{url:"/settings/:activeTab?",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',authRoles:["user"],mainNavId:"settings",resolve:{activeSection:["$route","$q",function(e,t){var r=e.current&&e.current.params&&e.current.params.activeTab,n=["general","profile","account","trade","notifications","privacy","payments"];return r&&-1===n.indexOf(r)?t.reject():t.resolve(r)}],userSettings:["bl.factories.userSettings",function(e){return e.get()}],pageReady:["bl.factories.userSettings","$q",function(e,t){return t(function(t){e.setSettingsPageLayoutMobileVariation()["finally"](function(){t()})})}]},abTests:[{projectName:"Onboarding",experimentName:"verification_center_master",request:["$q","$rootScope",function(e){return e(function(e){e(!0)})}]}]}},{url:"/watchlists/all",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',showFooter:!0,isCopyMatchmakingAvailableOnWL:!0,maintenanceId:"watchlist",authRoles:["user"],mainNavId:"watchlist",resolve:{watchlists:["bl.factories.watchList.watchListFactory",function(e){var t;return e.init().then(function(r){return t=r,e.initCuratedLists()}).then(function(){return t})}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}]}}},{url:"/dashboard/club",config:{template:"<et-route-renderer></et-route-renderer>",authRoles:["user"],sectionId:"clubDashboard",mainNavId:"dashboardClub",resolve:{auth:["$q","$rootScope","$location",function(e,t,r){return e(function(e,n){t.session&&t.session.user&&12!==t.session.user.designatedRegulationId?e():(r.path("/"),n())})}]}}},{url:"/watchlists/:watchlistId?",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',authRoles:["user"],maintenanceId:"watchlist",mainNavId:"watchlist",contentLoaderId:"watchlist",showFooter:!0,isCopyMatchmakingAvailableOnWL:!0,abTests:[{projectName:"Retention",experimentName:"watchlist_mobile_light_pro_mode",request:["UIBreakpointsService",function(e){return e.isMobile}]},{projectName:"Retention",experimentName:"watch_list_people_filter",request:["$q","bl.factories.watchList.watchListFactory","infrastruct.services.config",function(e,t,r){return e.all([r.dynamics.whenReady(),t.init()]).then(function(){var e=r.dynamics.watchlist.peopleFilterExperimentEnabled,n=t.userDefaultWatchlist.Users.length>5;return e&&n})["catch"](function(){return!1})}]},{projectName:"Retention",experimentName:"watchlist_people_copiers_instead_of_riskscore",request:["UIBreakpointsService",function(e){return e.isMobile}]}],resolve:{watchlist:["$q","$route","$rootScope","$location","bl.factories.watchList.watchListFactory","PerformanceService",function(e,t,r,n,a,o){return e(function(e){return o.mark("watchlistFactory_init_start"),a.init().then(function(){return o.mark("watchlistFactory_init_end"),o.mark("watchListFactory_initCuratedLists_start"),Promise.all([a.initCuratedLists(),a.initEmptyStateExperiment()])}).then(function(){o.mark("watchListFactory_initCuratedLists_end");var r=t.current&&t.current.params&&t.current.params.watchlistId,s=a.getList(r)||a.userDefaultWatchlist||a.recentlyInvestedList;s?e(s):n.path("/app/portfolio-page")})["catch"](function(){r.$applyAsync(function(){n.path("/app/portfolio-page")})})})}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}]}}},{url:"/app/error/maintenance/:service",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',resolve:{errorType:function(){return"maintenance"},service:["$q","$route",function(e,t){var r=t.current&&t.current.params&&t.current.params.service;return/^[a-z0-9-_]*$/i.test(r)||(r=""),e.resolve(r)}]}}},{url:"/app/error/standalone/:service?",config:{id:"standalone",template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',resolve:{errorType:function(){return"standalone"},service:["$q","$route",function(e,t){var r=t.current&&t.current.params&&t.current.params.service;return/^[a-z0-9-_]*$/i.test(r)||(r=""),e.resolve(r)}]}}},{url:"/posts/:postId",config:{template:'<et-post-page [post]="$resolve.post" [source-feed]="$resolve.sourceFeed"></et-post-page>',maintenanceId:"streamsBC",sharePages:{showShareButton:!0},resolve:{post:["$route","$q","$location","bl.factories.feed.feedFactory","infrastruct.services.config","bl.factories.trading.instruments.instrumentsFactory",function(e,t,r,n,a,o){return t(function(t,s){var i=/^[a-z0-9-_]*$/i;if(e.current&&e.current.params&&e.current.params.postId&&i.test(e.current.params.postId)){var c=i.test(e.current.params.commentId)?e.current.params.commentId:null;o.init().then(function(){n.getPost(e.current.params.postId,c).then(function(e){var n=r.path();if(n.includes("0__entry")&&!e.id.startsWith("0__entry")&&!a.dynamics.isWrapper){var o=n.replace(/\/posts\/.*$/,"/posts/"+e.id);r.path(o).replace()}t(e)})["catch"](s)})["catch"](s)}else s()})}],sourceFeed:["$route",function(e){return e.current&&e.current.sourceFeed}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/feed/posts.view.html",noFollow:function(e){if(!e||!e.owner||!e.originalMessage||e.originalMessage.split(" ").length<80)return!0;var t=e.owner.roles.includes("PI"),r=e.owner.roles.includes("SmartPortfolio"),n=e.owner.roles.includes("Analyst");return t||r||n||"YoniAssia"===e.owner.username?!1:!0},resolve:["$route","$q",function(t,r){return r(function(r,n){if(t.current&&t.current.locals&&t.current.locals.post&&angular.isString(t.current.locals.post.originalMessage)){var a=t.current.locals.post||{},o={owner:a.owner,locale:a.locale,url:a.url,appUrl:a.appUrl,noFollow:a.noFollow,baseCanonicalUrl:a.baseCanonicalUrl,attachment:angular.copy(a.attachment),seo:{title:e.unescape(a.originalMessage.split(" ").slice(0,5).join(" ")),description:e.unescape(a.originalMessage.substr(0,a.originalMessage.indexOf(" ",199)))}},s=o.attachment;if(!s||!s.imageExists||s&&s.imageExists&&(s.image.height<200||s.image.width<200)){var i=o.owner;o.ogImage=i&&i.avatars&&i.avatars.large,o.ogImageWidth=225,o.ogImageHeight=225}else{var c=s.image;o.ogImage=c.url,o.ogImageWidth=c.width,o.ogImageHeight=c.height}r(o)}else n({})})}]}}},{url:"/home",config:{authRoles:["user"],mainNavId:"home",contentLoaderId:"home",template:'<et-home [chat-web-site-touch-point]="$resolve.chatWebSiteTouchPoint" [ab-tests-results]="$resolve.abTestsResults" [last-year-chart-data]="$resolve.lastYearChartData" [onboarding-stage]="$resolve.onboardingStage"></et-home>',abTests:[{projectName:"Retention",experimentName:"home_mini_chart_layout",request:["$injector",function(e){var t=e.get("myPortfolioOverviewService");return t.shouldCallAccountOverviewAbTest()["catch"](function(){return!1})}]},{projectName:"Retention",experimentName:"home_page_pi_diversification",request:["bl.factories.session.sessionFactory","infrastruct.services.config",function(e,t){return e.user?t.dynamics.whenReady().then(function(){var r=4===e.user.playerLevelId,n=9===e.user.designatedRegulationId,a=1===e.user.designatedRegulationId&&t.dynamics.home.piDiversification.canAdviceEu;return r||n||a}):!1}]},{projectName:"Trading",experimentName:"stocks_lending",request:["infrastruct.services.config",function(e){return e.dynamics.whenReady().then(function(){return e.dynamics.home.stocksLending.isFeatureEnabled})}]},{projectName:"Retention",experimentName:"hiding_portfolio_balance",request:["UIBreakpointsService",function(e){return e.isMobile}]}],resolve:{homeData:["$injector","$location",function(e,t){var r=e.get("homePageDataService");r.getHomePageDataPromise()["catch"](function(){t.path("/app/portfolio-page")})}],lastYearChartData:["myPortfolioOverviewService",function(e){return e.getLastYearChartData()["catch"](function(){return null})}],onboardingStage:["$injector",function(e){var t=e.get("homePageDataService");return t.getOnboarding()["catch"](function(){return null})}],chatWebSiteTouchPoint:["$location",function(e){var t=e.search();return t.action||""}],isRafPopUp:["$location","RafDeepLinkService",function(e,t){var r=e.search();return"openRafPopUp"===r.action?(t.handleOpenRafPopUpAction(r.action),void e.search("action",null)):void 0}],isWelcomeNotificationPopUp:["$injector","$location",function(e,t){var r=t.search();if("openwelcomenotificationpopup"===r.action){var n=e.get("homePageDataService");return n.openHomeWelcomeNotificationDialog(),void t.search("action",null)}}]}}},{url:"/my/events",config:{authRoles:["user"],mainNavId:"events",template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>'}},{url:"/my/news",config:{authRoles:["user"],mainNavId:"news",template:'<et-news [ab-tests-results]="$resolve.abTestsResults"></et-news>',abTests:[{projectName:"Retention",experimentName:"home_portfolio_news_test",request:["$rootScope","$injector",function(e,t){var r=t.get("homePageDataService"),n=e.session.isLoggedIn;return n?r.getPortfolioInstrumentIds().then(function(e){var t=e&&e.length||0,r=3;return t>=r})["catch"](function(){return!1}):!1}]}]}},{url:"/my/extended-hours",config:{authRoles:["user"],mainNavId:"extendedHours",template:"<et-extended-hours></et-extended-hours>",resolve:{isExtendedHoursActive:["$q","$location","$injector",function(e,t,r){return e(function(e){var n=r.get("extendedHoursService"),a=r.get("bl.factories.watchList.watchListFactory");a.init().then(function(){n.isExtendedHoursActive()?e():t.path("/")})["catch"](function(){t.path("/")})})}]}}},{url:"/invite",config:{mainNavId:"rafPageInvite",template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/refer-a-friend/refer-a-friend.view.html"},resolve:{pageType:function(){return"invite"},pageData:["$q","$location","$injector",function(e,t,r){return e(function(e){var n=r.get("referAFriendPageService");n.waitUntilInvitePageIsReady().then(function(){e()})["catch"](function(){t.path("/")})})}],isRafPopUp:["$location","RafDeepLinkService",function(e,t){var r=e.search();return"openRafPopUp"===r.action?(t.handleOpenRafPopUpAction(r.action),void e.search("action",null)):void 0}]}}},{url:"/invite/referrals",config:{mainNavId:"rafPageReferrals",authRoles:["user"],template:"<et-refer-a-friend-page-main [page-type]=\"'referrals'\"></et-refer-a-friend-page-main>",resolve:{pageData:["$q","$location","$injector",function(e,t,r){return e(function(e){var n=r.get("referAFriendPageService");n.waitUntilReferralsPageIsReady().then(function(){e()})["catch"](function(e){e?n.navigateToInvitePage():t.path("/")})})}]}}},{url:"/wallet",config:{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',mainNavId:"wallet",resolve:{isWalletEligible:["$location","$injector",function(e,t){var r=t.get("etWalletDashboardGuardService"),n=r&&r.canAccess();n||e.path("/")}]}}},{url:"/wallet/account/:assetId",config:{template:"<et-wallet-account></et-wallet-account>",mainNavId:"walletAccount",authRoles:["user"],resolve:{account:["$q","$location","$injector","$route",function(e,t,r,n){var a=n.current&&n.current.params&&n.current.params.assetId,o="/wallet";return e(function(e){r.get("etWalletAccountGuardService").canAccess(a).then(function(r){r?e(r):t.path(o)})["catch"](function(){t.path(o)})})}]}}},{url:"/my/stats",config:{authRoles:["user"],mainNavId:"stats",template:"<et-portfolio-insights></et-portfolio-insights>",resolve:{isVariantActive:["$q","$location","$injector",function(e,t,r){return e(function(e){var n=r.get("portfolioInsightsAbTestService");n.isVariantActive().then(function(r){r?e():t.path("/")})["catch"](function(){t.path("/")})})}]}}},{url:"/my/top-results",config:{authRoles:["user"],mainNavId:"topResults",template:"<et-top-results></et-top-results>",resolve:{isPageAccessible:["$q",function(e){return e.resolve()}]}}},{url:"/my/new-refer-a-friend-page",config:{redirectTo:"/invite"}},{url:"/my/new-refer-a-friend-page/referrals",config:{redirectTo:"/invite/referrals"}},o(),o("smartportfolios"),o("screener"),o("people"),o("crypto"),o("stocks"),o("options")]});define(rA[41][0],[],function(){return[{url:"/app/procharts",config:{id:"procharts",reloadOnSearch:!1,authRoles:["user"],template:'<et-pro-charts [item]="$resolve.item"> </et-pro-charts>',resolve:{item:["$q","$route","bl.factories.trading.instruments.instrumentsFactory","bl.factories.trading.tradeItems.usersFacade",function(r,t,e,n){return r(function(r){var s=t.current&&t.current.params&&t.current.params.instruments,a=e.getBySymbol("AAPL",!1,!0),o=s&&e.getBySymbol(s,!1,!0);o?r(o):n.getByUserNameAsPromise(s).then(function(t){r(t?t:a)})["catch"](function(){r(a)})})}]}}}]});define(rA[43][0],[],function(){var e={countries:["bl.factories.countries.countriesFactory",function(e){return e.init()}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}],isStandalone:function(){return!0},errorRedirectUrl:function(){return"https://pages.etoro.com/lp/welcome/"}};return[{url:"/embed/discover/people",config:{id:"standalone",template:"<discover-people-embed></discover-people-embed>",dynamicAssets:[{name:"discoverPeopleEmbedApp",path:rA[212][0]}],reloadOnSearch:!1,resolve:e}},{url:"/embed/discover/people/results",config:{id:"standalone",template:'<discover-people-embed is-result-page="true"></discover-people-embed>',dynamicAssets:[{name:"discoverPeopleEmbedApp",path:rA[212][0]}],reloadOnSearch:!1,resolve:e}}]});define(rA[42][0],[],function(){return[{url:"/accounts/sign-up",config:{template:'<et-sign-up-box [ab-tests-results]="$resolve.abTestsResults"></et-sign-up-box>',id:"signup",showLoginLink:!0,abTests:[{projectName:"Retention",experimentName:"default_displayed_currency_experiment"}],resolve:{isLoggedIn:["$q","$rootScope",function(e,n){return e(function(e,t){n.session.isLoggedIn?t():e()})}],ssoSignup:["$q","$location","$cookies","bl.factories.social.ssoService","infrastruct.services.config",function(e,n,t,o,i){return e(function(e){var s="true"===n.search().socialSignup,r=t.get("ssoSignup");if(s&&r){var u,c,a,p=i.statics.ssoSignupDomain,g=/^((https?:\/\/)([\w\-\_]+\.))/i;try{u=JSON.parse(r),c=u.id,a=u.network,c&&a?o._connectByAccessToken(a,c)["finally"](e):e()}catch(l){e()}p=p.replace(g,""),t.put("ssoSignup","",{expires:new Date(0),path:"/",domain:p})}else e()})}],countries:["bl.factories.countries.countriesFactory",function(e){return e.init()}],appInfo:["$q","$location","$rootScope","bl.factories.login.loginFactory",function(e,n,t,o){return e(function(e,i){o.getAppInfo().then(function(n){t.session.setApplicationData(n),e(n)})["catch"](function(){n.path("/login/error"),i()})})}],uaePassRedirect:["$q","$location","uaeEidSignupRouteService",function(e,n,t){return e(function(e){t.shouldRedirectFromGeneralSignupToUaeEidSignupPage().then(function(t){t?n.path("/accounts/uae/eid-signup"):e()})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/sign-up/sign-up.view.html"}}},{url:"/accounts/uae/eid-signup",config:{id:"empty",template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',mainNavId:"uaeSignup",resolve:{isLoggedIn:["$q","$rootScope",function(e,n){return e(function(e,t){n.session.isLoggedIn?t():e()})}],isAllowed:["$q","uaeEidSignupRouteService",function(e,n){return e(function(e,t){n.isAllowedToAccessUaeEidSignupPage().then(function(n){n?e():t()})})}]},metaTags:{noFollow:!0,referrer:"same-origin"}}}]});define(rA[40][0],[],function(){function e(){return{isLoggedIn:["$q","$rootScope",function(e,o){return o.session.isLoggedIn?e.reject():e.resolve()}]}}function o(o){return{id:"login",template:o,resolve:e()}}return[{url:"/login",config:{id:"login",template:'<et-login [app-info]="$resolve.appInfo" [ab-tests-results]="$resolve.abTestsResults"  [country-by-ip]="$resolve.countryByIp"></et-login>',abTests:[{projectName:"Onboarding",experimentName:"add_cs_touchpoint_to_login_page_experiment"}],resolve:{isLoggedIn:["$q","$rootScope",function(e,o){return e(function(e,t){o.session.isLoggedIn?t():e()})}],countryByIp:["$q","bl.factories.countries.countriesFactory","infrastruct.services.config",function(e,o,t){return e(function(e){t.dynamics.whenReady().then(function(){o.getCountryByIp().then(function(o){e(o)})["catch"](function(){e()})})})}],appInfo:["$q","$location","$rootScope","bl.factories.login.loginFactory",function(e,o,t,s){return e(function(e,r){s.getAppInfo().then(function(o){t.session.setApplicationData(o),e(o)})["catch"](function(){o.path("/login/error"),r()})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/login/login.view.html"}}},{url:"/login/error",config:{id:"login",template:"<et-login-error></et-login-error>",resolve:{error:["$q",function(e){return e(function(e){e()})}]}}},{url:"/login/twostep",config:o("<et-login-two-step></et-login-two-step>")},{url:"/accounts/logout",config:o("<et-logout-page></et-logout-page>")},{url:"/accounts/forgot-password",config:{id:"login",template:'<et-forgot-password [ab-tests-results]="$resolve.abTestsResults" ></et-forgot-password>',abTests:[{projectName:"Onboarding",experimentName:"add_cs_touchpoint_to_login_page_experiment"}],resolve:e(),metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/forgot-password/reset",config:{id:"login",template:"<et-forgot-password-reset></et-forgot-password-reset>",resolve:e(),reloadOnSearch:!1,metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/forgot-password/reset/success",config:{id:"login",template:"<et-forgot-password-reset-success></et-forgot-password-reset-success>",resolve:e(),metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/reset-password",config:{id:"login",template:"<et-reset-password></et-reset-password>",resolve:e(),metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/reset-password/messages/success",config:{id:"login",template:"<et-reset-password-success></et-reset-password-success>",resolve:e(),metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/reset-password/messages/expired",config:{id:"login",template:"<et-reset-password-expired></et-reset-password-expired>",resolve:e(),metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/reset-password/messages/reset",config:{id:"login",template:"<et-reset-password-message ></et-reset-password-message>",resolve:{isLoggedIn:["$q","$rootScope",function(e,o){return e(function(e,t){o.session.isLoggedIn?t():e()})}]},metaTags:{noFollow:!0,referrer:"same-origin"}}},{url:"/accounts/lost-phone-number",config:{id:"login",shouldEmitEventOnLogoClick:!0,shouldSkipPostLoginPopups:!0,template:"<et-lost-phone-number></et-lost-phone-number>"}},{url:"/accounts/lost-phone-number/verify",config:{id:"login",shouldEmitEventOnLogoClick:!0,shouldSkipPostLoginPopups:!0,template:"<et-lost-phone-number></et-lost-phone-number>",authRoles:["user"]}}]});define(rA[106][0],[],function(){return[{url:"/chat",config:{template:'<et-pre-chat [agent-type]="$resolve.agentType"></et-pre-chat>',authRoles:["user"],id:"empty",resolve:{agentType:["$location",function(e){return e.search().type||""}]}}}]});define(rA[252][0],["angular","underscore",rA[141][0],rA[73][0],rA[99][0],rA[177][0],rA[104][0]],function(e,t,n,i,r,s,o){var a=o(),c=e.module("infrastruct.services.config",[s.name]),u=["EtcdIndex"];return c.provider("infrastruct.services.config",function(){function s(){var s=new r,o=window.location,a=o.hostname,c=o.protocol,g=o.port,v=o.hash,y=v?v.split("?")[1]?v.split("?")[1].split("&"):[]:o.search.slice(1).split("&"),m={},C=window.localConfig||(window.localConfig={}),b=t.extend(i,C);delete window.localConfig,s.setUA(window.navigator.userAgent),y.forEach(function(e){e=e.split("="),e[0]&&(m[e[0]]=decodeURIComponent(e[1]||""))});var w="en-us,zh-tw,nb-no,pt-pt,cs-cz,da-dk,vi-vn,ms-my".split(","),j={},O={languageCode:b.defaultLocale},S=null,A=null,I={query:m,statics:b,browser:{},_getParsedValue:function(e){var t,n,i,r=!1;try{t=JSON.parse(e.toString())}catch(s){r=!0}try{r&&(t=JSON.parse('"'+e.toString()+'"'))}catch(s){i="parseError"}return n={isError:!!i,error:i,parsedValue:t}},setRemoteConfig:function(e,t,n,i){var r,s={},o="appSettings.",a={},c=[];if(s.currentVersion=e,s.targetVersion=S,e&&h.statics.ApplicationVersion!=e)return s.message=o+"skippedChange",s.reason="target version is for a different version",s;if(S&&e!=S)return s.message=o+"skippedChange",s.reason="target version is not specific",s;if(A&&A>t)return s.message=o+"skippedChange",s.reason="target index is lower then current index",s;j||(j={});for(var g in n)-1==u.indexOf(g)&&(r=this._getParsedValue(n[g]),r.isError?a[g]=r.error:(p(j,g.split("."),r.parsedValue),c.push(g)));for(var g in i)-1==u.indexOf(g)&&(l(j,g.split(".")),c.push(g));return this.merge(),S=e,A=t,s.message=o+"changed",s.errors=Object.keys(a).length?a:void 0,s.keysChanged=c,s},prepareConfigKeys:function(e,t){var n=[];for(var i in e){var r=t?t+"."+i:i;e[i]instanceof Object?n=n.concat(this.prepareConfigKeys(e[i],r)):n.push(r)}return n},getChangesComparingRemoteConfig:function(e){var n={};for(var i in e)if(-1===u.indexOf(i)){var r=d(j,i.split(".")),s=e[i],o=s;if(t.isUndefined(r))n[i]=s;else{var a=this._getParsedValue(s);a.isError||(s=a.parsedValue,t.isString(r)||t.isBoolean(r)||(r=JSON.stringify(r),s=JSON.stringify(s)),r!==s&&(n[i]=o))}}return n},setDynamicKey:function(e,t){return p(O,e.split("."),t),this.merge(),d(this.dynamics,e.split("."))},setDynamicKeys:function(t){return e.forEach(t,function(e,t){p(O,t.split("."),e)}),this.merge()},merge:function(){var e=this.dynamics.whenReady;return this.dynamics=f(n,j,O),this.dynamics.whenReady=e,this.dynamics},dynamics:{},calculated:{get isMixpanelActive(){return!I.query.disableMixpanel&&I.dynamics.isMixpanelActive},get languageCode(){var e=I.dynamics.languageCode;return e?-1!==w.indexOf(I.dynamics.languageCode)?I.dynamics.languageCode:e.split("-")[0]:""},get baseUrl(){return I.statics.baseUrl?I.statics.baseUrl:[c.replace(":",""),"://",a,g&&-1===[80,443].indexOf(g)?":"+g:""].join("")},get frontUrl(){return I.statics.isUseAbsoluteDomain?I.calculated.baseUrl:""},get appsFlyerUserId(){var e=localStorage.getItem("appsFlyerUserId");return"string"==typeof e&&(e=e.replace(/\"/g,"")),e},getAccountPushConfig:function(t){var n=t?t.type:"Demo",i=h.dynamics.pushConfig[n];return e.extend({password:{UserAgent:navigator.userAgent,ApplicationVersion:I.statics.ApplicationVersion,ApplicationName:I.statics.ApplicationIdentifier,AccountType:n,ApplicationIdentifier:I.statics.ApplicationIdentifier},accountType:n},i)},get social(){return{get twitter(){return!I.statics.isChinaSocial},get facebook(){return!I.statics.isChinaSocial},get x(){return!I.statics.isChinaSocial}}},get showCryptoInfo(){return void 0!==I.statics.showCryptoInfo?I.statics.showCryptoInfo:!!h.dynamics.portfolio.showCryptoInfoForNewVersion},get isVerify(){return!!I.query.evertoken},get verifyEmail(){return window.atob&&I.query.identifier&&window.atob(decodeURIComponent(I.query.identifier))}},initialParams:{},userAgent:s.getResult()};return I.merge(),I}function c(e,t){var n="etoro_usid",i=e.getEncodedItem(n),r=v||i&&i.session||t();return e.setEncodedItem(n,{session:r}),{hasCache:!(!i||!i.session),sessionGuid:window.eToroSessionGuid||t(),userSession:r}}function g(t,n){for(var i=0,r=n.length;r>i;++i){var s=n[i];if(e.isObject(s)||e.isFunction(s))for(var o=Object.keys(s),a=0,c=o.length;c>a;a++){var u=o[a],f=s[u];e.isObject(f)?e.isDate(f)?t[u]=new Date(f.valueOf()):"[object RegExp]"===toString.call(f)?t[u]=new RegExp(f):Array.isArray(f)?t[u]=f.slice():"__proto__"!==u&&(e.isObject(t[u])||(t[u]={}),g(t[u],[f])):t[u]=f}}return t}function f(e,t,n){return g({},[e,t,n])}function p(e,t,n){var i=t.shift();return 0==t.length?e[i]=n:(e.hasOwnProperty(i)||(e[i]={}),p(e[i],t,n))}function d(e,t){var n=t.shift();return n?e&&e.hasOwnProperty(n)?d(e[n],t):void 0:e}function l(e,t){var n,i=t.shift();return 0===t.length?(n=e[i],delete e[i],n):e&&e.hasOwnProperty(i)?l(e[i],t):void 0}var h=s(),v=null;this.getConfig=function(){return h},this.setInitialConfig=function(t){e.extend(h.initialParams,t)},this.overrideDeviceId=function(e){o.validate(e)&&(v=e,h.deviceIdOverwritten=!0)},this.$get=["$injector","$q","infrastruct.services.localStorage","$rootScope","$log",function(t,n,i,r,s){function o(e){s.logJSON("info","log",{verboseMode:!0,Categories:["AppConfigurations"],Message:e.message,Reason:e.reason,KeysChanged:e.keysChanged,Errors:e.errors,Domain:"Infra"})}function u(t){r.$emit("appConfig:change",{keysChanged:t,includes:function(t){if(e.isString(t))return this.keysChanged.indexOf(t)>=0;for(var n=0,i=this.keysChanged.length;i>n;n++)if(this.keysChanged[n].match(t))return!0;return!1}})}function g(e){var n=t.get("$http"),i=h.statics.ApplicationVersion.split("_")[0];return n({url:"/etag-api/configuration/v2/appsettings/etoro/"+i,categories:["generalConfig"],staticAPI:!0,"public":!0,maxRetries:1,timeout:15e3,jsonBackupKey:"appsettings_retoro"}).then(function(t){var n=t.data;if(n&&n.AppSettings){var i=n.AppSettings;e&&(i=h.getChangesComparingRemoteConfig(n.AppSettings));var r=h.setRemoteConfig(null,0,i);u(r.keysChanged)}})["catch"](function(){})}function f(e,t){var n=h.setRemoteConfig(t.appSettingsKey.Version,t.appSettingsIndex,t.changedKeys,t.removedKeys);o(n),"appSettings.skippedChange"!=n.message&&u(n.keysChanged)}function p(){g(!0)}function d(){g()["finally"](function(){l.resolve(h)})}var l=n.defer();return h.browser.isVisualDebug=!!i.getItem("isVisualDebug"),h.dynamics.whenReady=function(){return l.promise},r.$on("appSettings:configurationChanged",f),r.$on("appSettings:"+h.statics.ApplicationVersion+":configurationChanged",f),r.$on("appSettings:refresh:request",p),setTimeout(d,4),h.setDynamicKeys(c(i,a)),h}]}),c});define(rA[141][0],[rA[62][0],rA[255][0]],function(n,e){var t=Object.values(e).reduce(function(n,e){return Object.assign(n,e)},{}),c=new n;return c.adjustByCountry(t),t});define(rA[62][0],[],function(){function t(){this.urls={Indonesia:{urls:{candlesApi:"https://candle.etoroasia.com.cn",monitoringUrl:"https://etorologsapi.etoroasia.com.cn",billingPciUrl:"https://billing-pci.etoroasia.com.cn/",maintenanceUrl:"https://maintenance.etoroasia.com.cn",wrapperAjaxAbsoluteDomain:"https://www.etoroasia.com.cn",partnersUrl:"https://partners.etoroasia.com.cn",walletUrl:"https://wallet.etoroasia.com.cn"},pushConfig:{Real:{url:"https://push.etoroasia.com.cn"},Demo:{url:"https://push-demo.etoroasia.com.cn"}}},China:{androidMiniSiteURL:"",urls:{candlesApi:"https://candle.etoroasia.com.cn",monitoringUrl:"https://etorologsapi.etoroasia.com.cn",billingPciUrl:"https://billing-pci.etoroasia.com.cn/",maintenanceUrl:"https://maintenance.etoroasia.com.cn",partnersUrl:"https://partners.etoroasia.com.cn",wrapperAjaxAbsoluteDomain:"https://www.etoroasia.com.cn",walletUrl:"https://wallet.etoroasia.com.cn"},pushConfig:{Real:{url:"https://push.etoroasia.com.cn"},Demo:{url:"https://push-demo.etoroasia.com.cn"}}}},this._omitEmptyKeys(this.urls)}return t.prototype={adjustByCountry:function(t){var o=this._safeGetCookie("user-country"),e=this.urls[o];e&&(this.merge(t,{domainChange:{isActive:!0}}),this.merge(t,e))},merge:function(t,o){for(var e in o){var i=t[e],n=o[e];i&&"object"==typeof n&&Object.assign(n,this.merge(i,n))}return Object.assign(t||{},o),t},_safeGetCookie:function(t){try{var o="; "+document.cookie,e=o.split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}catch(i){return}},_omitEmptyKeys:function(t){for(var o in t){var e=t[o];"object"==typeof e?this._omitEmptyKeys(e):e||delete t[o]}}},t});define(rA[255][0],[rA[63][0],rA[64][0],rA[65][0],rA[66][0],rA[67][0],rA[68][0],rA[69][0],rA[71][0],rA[72][0],rA[70][0]],function(n,i,o,a,c,g,e,f,m,r){var t={compliance:n,customerData:i,customerInsights:o,experience:a,general:c,infra:g,marketData:e,trading:f,wallet:m,money:r};return t});define(rA[63][0],[],function(){var e={compliance:{enableTRS:!1,cfdReleaseDisclaimerByRegulation:!1,useTypeformInAppBrowser:!0,enableOnfidoSelfieGapV2:!0,changeTncUsNewStyle:!1,poaExpiredGapNewStyle:!0,poaExpiredGapKycxStyle:!0,enableWalletVideoIdentFlow:!0,enableBankIdentification:!1,enableBankIdentificationGradual2:!0,enableBankIdentificationGradual:!1,enableBankIdentificationPOC:!1,enableBankIdentificationPOC2:!0,programParticipationRegulationIds:[],enableFirstTradePopupV2:[1],enableVideoIdentGreenDesign:[1],funnelsMap:{0:"Unknown"},supportedGapsForMultipleGapsFlow:[],enableMobileSearchCtaIconExperiment:!1,enableCustomKycFunnelForGaps:!0,skipGapsFromCustomKycFunnel:["multiple",5],exchangeIDsForExtendedHoursPopup:[33],enableAsicTypeforms:!0,regulationsForAsicTypeforms:[10],cryptoPromotionStartDate:[],disableReviewProfileButtonOnBlockedPopupForRegulations:[10],checkCryptoPermissionsForCountries:[],disableVideoIdentForCopyFlow:!1,smsfAccount:{enabled:!0,formId:"jUrevZcX",funnelFromId:"65"},verifyMainCtaHistoricalFetchEnabled:!0,selfieWizard:{pendingTimeout:9e5,skipSuccessScreen:!1,applicationId:5,lifeCycleTimeout:720},selfieVerificationGapByIntent:{enabled:!1,pendingTimeout:9e5,funnelTypeVersionReleaseDate:void 0,applicationId:6,lifeCycleTimeout:720},selfieVerificationGapByLogin:{enabled:!0,pendingTimeout:9e5,funnelTypeVersionReleaseDate:void 0,applicationId:6,lifeCycleTimeout:720},isKycNotAsPopupExperimentEnabled:!1,takePhotoWorkaroundExperimentEnabled:!1,userflow:{token:null,enabled:!1},percentsOfUsersWhichLostOnCfd:73,micaDocument:{regulationIds:[],latestDocumentId:0},gapsRecheckCount:{max:4,logThreshold:2},gapAndDeeplinkListenerLoaderTimeoutMs:1e4},kyc:{poiPoaliveAgent:!1,kycxSupportedRegulationIds:[],enableASICSophisticatedGap:!0,permanentResident:!1,availableProvinces:"12,102",isRealStockLeverageFlowEnabled:!0,isRevolvingDoorsFlowEnabled:!0,realStockLoaderTimeout:5e3,dedicatedEVDocumentUrlEnabled:!1,uploadDocRetryDuration:30,uploadDocRetryMaxAttempts:30,isDiamondClubDeepLinkEnabled:!0,phoneCountriesMinLength6:"5,69,151",loadKycInBackgroundEnabled:!1,useAsicSuitabilityTestNewRoute:!1,isFileChooserPluginEnabled:!0,networkTimeout:6e4,closeKYCUiImmediately:!1,splitTradingExScreenByCFD:!0,splitByTradingExToVolumeQuestion:"1",longerTimeToVerifyCountries:{FCA:[],USA:[]},useVideoIdentification:!0,useIdNowTestEnvironment:!0,videoIdentWaitingRoomTimer:1e4,videoIdentWaitingRoomMinShowTimeTimer:5e3,showChangeTncNewStyle:!0,rejectedValuesForApexAddressFields:"^((?!([^a-z]|^)(po box|po\\.|p\\.o\\.|pob|p\\.o\\.b\\.|p\\.o\\.b|pob\\.|box|post office box|post office|office|P\\.O box)([^a-z]|$)).)*$",showKycSingleSelectBox:!0,showKycSingleSelectBoxByABTest:!0,documentUploadRequiredWhenPepMissing:!0,documentUploadRequiredWhenPepMissingMonitorOnly:!1,isNewUserToKycActive:!0,usaRegulationIdsForUpload3210Letter:"8",newPlanToDepositAnswerEnabled:!1,changeAssessmentQuestion:[-1],isInvestedAmountQuestionNeverAnswerEnabled:!1,shouldInitWithoutGender:!0,enableUIPoBoxValidation:!0,ssnRevalidationLoadingTimeInSec:10,spainMaxDepositAmountEnabled:!0,verificationListenerEnabled:!0,removeDisclaimerOnTradingKnowledgeForRegulations:[10],removeDisclaimerOnLeverageInvestingForRegulations:[10],taxIdScreenAfterFinancialStatusCountries:[44,132,183,43],proveUSTerritoriesPhonePrefixList:[1],proveLevel2Delay:1e3,bypassVBTConfirmation:!0,provePhoneVerificationSmsCode:!0,riskAnswerIDsForOptionsUsersDisclaimer:[23,24],excludeCryptoOnMarketSelectionForRegulations:[12]},kycx:{isMigrationRolloutEnabled:!1,chatbotInsait:{enabled:!0,iframeBaseUrl:"https://etoro.insait-internal.com",usernameBypassPrefix:"testInsait__"},oldKycUserNamePrefixEnabled:!0,firstGcid:0,validateOnDebounce:!0,closeBtnPosition:"content",enabled:!1,visaHolderEnabled:!0,selfieWizard:{pendingTimeout:15e3,funnelTypeVersionReleaseDate:void 0,skipSuccessScreen:!0,applicationId:1},questionnaire:{HRCMinimumFTD:!1},emailVerification:{otpCodeLength:6,otpSecondsToResend:60,contactSupportRelativeUrl:"/customer-service/?deepLink=type/verification/verification_subtype/email_verification"},deeplinksSupportedKYCXForModalFlow:["cryptoassessment","uploadid-docs-flow","uploadutilitybill-docs-flow"],deeplinksNotSupportedKYCXForModalFlow:["economicprofile"],taxIdTooltipExperimentEnabled:!1,emphasizeDepositExperimentEnabled:!1,welcomeCardV2Enabled:!1},onfido:{isOnfidoMobileSdkSupported:!1,version:"14.16.0"},onfidoSelfie:{sdkCompleteCloseTimeout:8e3,libUrlWeb:"https://assets.onfido.com/web-sdk-releases/6.20.1/onfido.min.js",libUrlMobile:"https://etoro-cdn.etorostatic.com/web-client/img/onfido-selfie/6.5.0-dev/onfido.min.js",cssUrl:"https://assets.onfido.com/web-sdk-releases/6.20.1/style.css",fixBackNavigation:!0,enableCrossAppV2:!1,checkSupportedBrowser:!0,isSelfieGapTypesEnabled:!1,redirectFromKycToMobileBrowser:!0,removeXButtonRegulations:[1]},verificationCenter:{vcEnabled:!0}};return e});define(rA[64][0],[],function(){var e={allowExecutionWithoutPrivateInstruments:!1,eventsPage:{iframeBaseUrl:"https://etoro.bullsheet.me/calendar"}};return e});define(rA[65][0],[],function(){var n={};return n});define(rA[66][0],[],function(){var e={recurringInvestment:{featureEnabled:!1,edit:{estimatedFixedValue:2,maxDigitsForAmount:4},portfolio:{empty:{imageUrl:"web-client/et/img/rec-investment/calendar-default.svg"},showNewBadge:!0,tooltipMaxCounter:5,hideTooltipTimer:3e3,showTooltip:!0,faqQuestionsCount:5,displayEstimation:!0,refreshDelayAfterCardDeletion:1e3},home:{imageUrl:"web-client/et/img/rec-investment/calendar-default.svg"}},settings:{shouldShowDMBetaLabel:!1,disableVerificationCenterForCorporateAccounts:!1},raf:{isReplaceShareWithRAFdialogActive:!0,isRAFdialogActiveAfterCopy:!0,isRAFdialogActiveAfterDeposit:!0,affiliateIDParam:"55714"},showPiDashboardOverviewNewTooltipText:!1,closeAccount:{closeScreenTimeout:2e3,maxMessageChars:3500},mobileAcquisitionPopup:{isEnabled:!1},avatarMaxFileLengthInBytes:8388608,trackingPermissions:{minVersion:14,minSubVersion:4,maxDevices:20,updateThreshold:6048e5},isAirdropFlowEnabled:!1,newsPage:{iframeBaseUrl:"https://news.bullsheet.me/news"},extendedHoursPage:{iframeBaseUrl:"https://eh.bullsheet.me/eh",numberOfItems:5,mirrorPositionMinInvestedPercentage:.001,marketOpenStockIndication:"ctrp.ch"},chatGpt:{enabled:!1,navCommands:[{text:"gpt.navigation.navCommand1",gptText:"I want to see ",needCompletion:!0,automationId:"search-gpt-nav-i-want-to-see"},{text:"gpt.navigation.navCommand2",gptText:"Find top investors I can copy",path:"/discover/people",automationId:"search-gpt-nav-investors-to-copy"},{text:"gpt.navigation.navCommand3",gptText:"I want to trade commodities",path:"/discover/markets/commodities",automationId:"search-gpt-nav-trade-commodities"},{text:"gpt.navigation.navCommand4",gptText:"I want to invest in Smart Portfolios",path:"/discover/smartportfolios",automationId:"search-gpt-nav-invest-smartportfolios"}]},portfolio:{rateThrottleTime:0,rateThrottlePositionAmount:0,maxSwiperPositions:0,virtualScrollingDefaultLength:10,virtualScrollingBuffer:10,maxTPpercentage:1e3,portfolioTestLogsCIDs:[],demo:{tsl:!1,useOneClickTradingSettings:!1},real:{tsl:!1,useOneClickTradingSettings:!1},uncancelableOrders:{orderTypes:[17,18,19,20],orderSubTypes:[]},showCryptoInfoForNewVersion:!1,showCryptoInfo:!1,privateInstrumentsEnabled:!1,enableW8IntroPopUp:!0,showCloseAllOptionDropDownMenu:!1,isCloseAllEnabled:!1,isSellAllEnabled:!1,performance:{logThrottleTime:3e4}},torii:{suggestedQuestions:{},salesforceUrl:"https://etoro.my.salesforce-scrt.com",salesforceOrgId:"00D24000000d2qa",esDeveloperName:"Customer_Service_Web_Chat_Client",showCSonly:!1,isRestrictedToNonDepositors:!1,skeleton1DelayMs:500,skeleton2DelayMs:3e3,toriiHistoryPageSize:10,englishOnly:!0,csHistoryPageSize:200},discovery:{showCopyTraderHeadline:!1,initialComponentsCount:3,loadMoreComponentsCount:3,structureCacheMins:15,componentsCacheMins:15,topMoversItemsCountForUsUsers:50,topMoversItemsCountForNonUsUsers:15,markets:{us:{shouldShowBanner:!0,shouldShowMainDiscoveryPage:!1},crypto:{coins:[1e5,100001,100003,100005,100022,100032]},general:{indices:[28,27,32,29,30,38],currencies:[1,2,4,5,6,7],commodities:[18,17,19,22,92,93],etf:[3e3,3004,3026,3003,3001,3012]},stocksIndustries:{technology:[1005,1001,1002,1127,1003,1111]},userPresets:{maxItems:20}},assetTypes:{crypto:{isNewUrlEnabled:!0,abPercentage:50,isUsStocksBanner:!0},smartportfolios:{isRedesignPageAvailable:!0,abPercentage:100}},uxRedesign:{assetPagesDisabled:!1,disableOptions:{people:!1,markets:!1,copyportfolios:!1}},people:{revampedCopyResultsPage:!1,presetCardShowBioForUser:!1,widgetPresetsPresentedValue:{preset_one:"baseLineCopiers",preset_two:"gain",preset_three:"winRatio",preset_four:"profitableMonthsPct",preset_five:"gain"}},trendingAnalysis:{trendingAnalysisMaxItems:30},screener:{initialDataFilePath:"/web-client/discover/stocks-screener/initial-data-v3.json",isScreenerProductTourEnabled:!1,isChangeDefaultCoulmnsExperimentEnabled:!1},instrumentsGroups:{allowedExperimentalSubCategoryRegulations:[2,1,11,10]},blackrock:{isEnableInMobile:!1,isEnableInDesktop:!1},etfScreenerIframeBaseUrl:"https://etf-screener-ivory.vercel.app/?",bullSheetEtfScreenerExperimentEnabled:!0,usaRegulationsAllowedOverviewTab:[8,12],regulationsForbiddenCryptoTab:[12],isScreenerPromotionOnStocksTabEnabled:!1},home:{aiNewsTrader:{roundMinTo:100,maximumTotal:5e4,defaultAmount:1e3,loaderInterval:1e3},piDiversification:{maxCopiedPis:1,performanceDeltaMin:-5,canAdviceEu:!1},marketsTickerInstrumentIDs:[27,29,28,30,1e5,1,17],typeGates:{1:0,2:0,4:0,5:0,6:0,10:0,1000:0},isIntercomHomeTourEnabled:!0,promotionsCardsAutoChangeInMs:5e3,interestOnBalance:{isFeatureEnabled:!1,excludedRegulations:[9,11]},successStoryCard:{isFeatureEnabled:!1},clubUpgradeCard:{benefitsLength:5,isEnabled:!0,eligibleClubTiers:[1,5]},promotionCards:{shouldDisplayIsaMoneyFarmCard:!0,shouldDisplayWealthFranceCard:!0},onboardingCard:{isAirdropEnabled:!0,isRequestOnFullHomePageData:!1},accountOverview:{etoroMoneyUpdateTimeoutInMs:3e3,isBasicProgramEligibilityEnabled:!0,displayEtoroMoneyAndOptionsSection:!1,maxIbanVisibilityPopoverCount:1,isAccountOverviewLayoutExperimentEnabled:!0,getAccountsTimeoutInMs:3e3},isHomePromotionAboveFeedExperimentEnabled:!1,isHomeBigMoversExperimentEnabled:!1,isTopNewsFeatureEnabled:!1,homePromotionAboveFeed:{beatTheMarket:!0,marketAnalysis:!0,cmsMarketingCardDescriptionSize:140,cmsMarketingCardTitleSize:55,watchlistEtoroListOnHomePageEnabled:!1},stocksLending:{isFeatureEnabled:!1,minValueForUsdCardFormat:100,maxValueForPercentageCardFormat:.002,minDaysSinceConsentToShowOptInCard:30,minValueToDisplayOptInExactEarnings:5,statementsUrl:"/documents/stockslending"},recurringInvestment:{isFeatureEnabled:!1},topMovers:{gainersCount:20,losersCount:20},ticker:{minItemsForAutoScroll:6},trendingHighDividendsMaxAmount:10,tradingOpportunitiesAssetsAmount:5,tradingOpportunitiesResponseAmount:15},onboarding:{isRegFormDesignVar:!0,isGenericImgByCountryId:[],isButtonsBelowAbEnabled:!1,isLocaleAbEnabled:!1,bitlyInappRoutes:{"3xKiCve":"/portfolio/history/cashflows","3DIPFB6":"/settings/profile","3GifUOg":"/settings/account?action=autokyc&deepLink=uploadutilitybill","3ul0ir0":"/settings/account?action=autokyc&deepLink=uploadID","3uh93SQ":"/settings/account","3HkhCjG":"/settings/account?action=autokyc&deepLink=phoneverification","3Y8pb4L":"/settings/profile?action=add-documents","3jeGkv2":"/deposit","40epsVZ":"/withdraw"},botInAppRoutes:["/portfolio","/accounts","/discover","/deposit","/withdraw","/dashboard","/settings","/learn-more","/portfolio-page","/home","/learn-more"],hostUrlForChatBotIframe:"https://www.etoro.com",twitterDefaultLp:"https://www.etoro.com",isABTwoStepReg:!1,isABAutoUsernameGeneration:!1,isABImplicitTermsAndPolicy:!1,isABProductTourDepositCard:!0,isABProductTourBuyCurrency:!0,isABProductTourExecutionCard:!0,ABTestSkipTime:2e3,isDatadomEnabled:!0,dataDomUrl:"https://dd-js.etoro.com/tags.js",dataDomKey:"0AFF1257D19077E2E1F5ECC8506ED4",dataDomEndpoint:"https://dd-js.etoro.com/js/",onetrustScriptSrc:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",onetrustDomainScript:"f72d065d-437e-4ee9-87c6-475882c9f118",ajaxListenerPath:"etoro.com"},userPage:{topTradedDesktopCount:3,topTradedMobileCount:5,maxVisitRecords:8,officialPages:[318149,18325172,33102123],socialLinkEnabled:!0,bio:{shortBioMaxChars:90,fullBioMaxChars:1e3,socialLinkMaxCount:5},exposure:{isUserExposureTestActive:!1,exposureMaxItems:5,isValidForAnalysts:!1,isValidForSmartPortfolios:!0},shouldShowNewStatsTab:!1,stats:{risk:{minNumberItemsToDisplayDesktop:10,minNumberItemsToDisplayMobile:9,maxNumberItemsToDisplayDesktop:15,maxNumberItemsToDisplayMobile:9},compare:{defaultCompareInstruments:[{name:"SPX500",instrumentid:27},{name:"NSDQ100",instrumentid:28},{name:"EUSTX50",instrumentid:43},{name:"BTC",instrumentid:1e5}],defaultSelectedComparisons:{exchange:0,timeframe:3}}},chart:{defaultTimeframe:"sixMonths",maxItemsOnChart:3,maxUserSuggestions:8}},portfolioInsights:{isPortfolioInsightsTestEnabled:!1,iframeBaseUrl:"https://bullsheet-insights-skeleton.vercel.app",positionMinInvestedPercentage:1e-10,minPortfolioAssetsCount:2},watchlist:{addMarketsGetDefaultInstrumentsTimeout:5e3,shouldUsePresetTables:!0,shouldShowEventMarker:!1,isHideSummaryForOptionsUserEnabled:!1,shouldShowSmartSignals:!1,peopleFilterExperimentEnabled:!0},watchlistTimeOut:1e4,piDashboard:{isRafTouchpointTestActive:!1},help:{isShowHelpNewTag:!0},onboardingScreens:{isEnabled:!1,isAbTestEnabled:!1},ibanVisibility:{isFeatureEnabled:!1},isExtendedHoursBannerEnabled:!1,extendedHoursUpdateIntervalInSec:360,marketPage:{newsTabExperimentPercentage:100,isNewsTabEnabled:!0,isShowNewTagForNewsTab:!1,cityFalconUrl:"https://www.cityfalcon.com/clients/01012006/widget",isMarketPageMobileTradeCtaExperimentEnabled:!1,isCtaBackgroundFeatureEnabled:!1,isMarketPageMobileTradeCtaExperimentForCfdsAndEtfEnabled:!1,isTabsOmissionExperimentEnabled:!1,isMarketPageTradersSentimentExperimentEnabled:!1,isMarketPageChartTabUnifiedChartExperimentsEnabled:!1,shouldShowBridgewise:!1,bridgewiseComponentsTimeout:3e3,isMarketPageChartTimefameExperimentEnabled:!1,isMarketPageChartTabActivePriceAlertsOnChartExperimentEnabled:!1,marketPageChartStyleCustomCssUrl:"css/style4.4.css",isPriceProviderEnabled:!0,exchangeIdsDelayedPricesEnabled:[6,7,9,10,11,12,14,15,16,17,18,21,22,23,24,30,31,32,34,35,36,37,39],academyComponentAllowedInstrumentTypes:[2,4],comparisonChart:{maxItemsOnChart:3,defaultTimeline:"oneWeek"},isFeedDiscoverabilityExperimentEnabled:!0,isStakingExperimentEnabled:!0},feed:{isReadEDMEnabled:!0,isWriteEDMEnabled:!1,maxPostCharsLimit:2048,minPostCharsLimit:40,getMorePostsInterval:30,postReadMinTime:3e3,postCommentsLimit:10,repliesAndLikesPageSize:10,postRepliesLimit:2,maxInitComments:2,fullPageMaxInitComments:20,commentsPageSizeShouldBeAlignWithServer:10,likesPageSizeShouldBeAlignWithServer:10,fullPageCommentsAndLikesPageSize:20,fullPageRepliesAndLikesPageSize:20,postsPageSize:10,maxUrlLengthInSharedPostDefaultText:40,maxInitCommentsForWrapper:2,lastFetchedPostCacheTtlInMs:3e3,deprecatedFeedsStatus:{userTrades:"Active"},attachmentMaxFileLengthInBytes:8388608,maxUserPinnedPostsAllowed:3,maxMarketPinnedPostsAllowed:1,cdn:{isCdnEnabledForUsUsers:!1,clubTiersWithCdnEnabledForUS:"1",bypassCdnTtlInMinutes:-1},seo:{allowedHosts:"*.etoro.com,*.etoro.com.cn,etoro.tw"},newsFeedExperiment:{enabled:!0,newsFeedPercentage:50,mostRelevantPercentage:25,mostRecentPercentage:25},polls:{isFeatureEnabled:!1,isViewPollFeatureEnabled:!1,maxRequestTimeout:2e3,maxPollOptionChars:30,maxPollOptions:4},analytics:{streamIO:{apiKey:"jmzb8hkywamd",refreshInterval:18e5}},tagExtensions:["aero","asia","biz","cat","com","coop","info","int","jobs","mobi","museum","name","net","org","pro","tel","travel","xxx","edu","gov","mil","ac","ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","no","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","dd","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","uk","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","su","rw","sa","sb","sc","sd","se","sg","sh","si","sj","no","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tp","tm","tn","to","tp","tl","tr","tt","tv","tw","tz","ua","ug","uk","us","gov","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xyz","ye","yt","yu","za","zm","zw","tech"],homeNewsFeedWidgetsPositions:[{type:"MarketEvents",position:3},{type:"Trending",position:6},{type:"Recommended",position:9}],isNotifyFollowersEnabled:!0},changePhone:{showChangePhoneButton:!0},lostPhone:{funnelTypeVersionReleaseDate:void 0,contactSupportRelativeUrl:"/customer-service/?deepLink=type/account/account_subtype/2fa/2fa_subtype2/no_longer_access_phone_number_my_account",emailVerificationOpt:{otpCodeLength:6,otpSecondesToResend:30}},phoneTakenCloseOldAccount:{isFeatureEnabled:!1},search:{algoliaApplicationId:"X9RG52M4OJ",algoliaSearchOnlyApiKey:"",debounceTimeInMs:300,maxHits:5,maxInstruments:4,isSmartPortfolioIndexIsEnabled:!1,maxHitsToFetchPerIndex:15,defaultHitsPerIndexInDropper:{Instruments:3,Users:1,SmartPortfolios:1},indices:["prod_Instruments","prod_SmartPortfolios","prod_Users"],recentSearches:{maxRecentSearches:3,localStorageKey:"searchAutocompleteRecentSearches"},topResults:{isTopResultsEvergreenExprimentEnabled:!0,indicesConfig:[{indexName:"prod_Instruments",indexAnalyticsName:"Assets",initialMobilePageSize:3,initialDesktopPageSize:5,mobilePageSize:5,desktopPageSize:5},{indexName:"prod_Users",indexAnalyticsName:"People",initialMobilePageSize:3,initialDesktopPageSize:5,mobilePageSize:5,desktopPageSize:5},{indexName:"prod_SmartPortfolios",indexAnalyticsName:"SmartPortfolios",initialMobilePageSize:3,initialDesktopPageSize:5,mobilePageSize:5,desktopPageSize:5}],maxHitsPerChip:99},isTrendingPresetsResultsEnabled:!1,isSearchShortcutsEnabled:!1,isSearchChatGptButtonEnabled:!1,isEmptyStateExperimentEnabled:!0,futuresSearchAllowedCountries:[191],isFuturesResultsAllowedForAll:!1},emailVerification:{enable:!0},emailVerificationV2:{otpCodeLength:6,otpSecondesToResend:30},funnels:{isEnabled:!1,requestRetryDelay:3e4,requestRetryCount:3},menu:{newRafRedirect:!1,forceNewRafRedirect:!0,shouldShowClubsMenu:!0,shouldShowClubsMenuInUS:!0,rafNewTagRegulations:"4,6,7,8",isUSDiscoveryPeopleAvailable:!0,shouldShowRafAmountLabel:!1,shouldShowAcademyNewLabel:!0,isShowWalletTabNew:!0,shouldShowSideNavIsaAccountNewLabel:!1,isSideNavButtonColorChangeExperimentEnabled:!1,shouldShowSideNavWealthFranceNewLabel:!1},menuBottom:{message:{allowForWalletNavId:!0}},rateUs:{enable:!0,enableSettingsTouchpoint:!0,pnlThreshold:.05,snoozeTime:20160,isAbTestEnable:!0},clubDashboard:{isEnable:!0,webcastMajorLanguages:["en-gb","de-de","es-es","fr-fr","it-it"],walletUrl:"https://etoro.onelink.me/J5bU/d74a056e",activateCardUrl:"https://etoro.onelink.me/J5bU/1cc53fe4",whatsappUrl:"https://api.whatsapp.com/send?phone=447888690053",whatsappAllowedClubTiers:[6,7],minDaysToDisplayRiskDisclaimer:30,shouldDisplayISAMoneyFarm:!1,isRafTouchpointTestActive:!1,interestOnBalanceSilverRate:1.5,interestOnBalanceGoldRate:2,interestOnBalancePlatinumRate:2.4,interestOnBalancePlatinumPlusRate:2.9,interestOnBalanceDiamondRate:5,maxBenefitsToDisplay:8,isWebinarsEnabled:!0,realizedEquityRestrictions:{DesignatedRegulation:2,CountryId:218,InstrumentType:10,IsSettled:!0},offers:{interestOnBalanceIds:[78,94],contactInfoIds:[77],webinarsIds:[82],etoroMoneyIds:[84,97],etoroMoneyIbanToCardIds:[97],offersToIgnoreEmptyState:[97,82],preConfiguredClickableOffers:[{id:"77",name:"dedicated account manager",url:null,isExternalPage:!1,selector:"#accountManager",isClaimedByDefault:!0},{id:"78",name:"interest on balance",url:null,isExternalPage:!1,selector:"#interestOnBalance",isClaimedByDefault:!1},{id:"94",name:"interest on balance-silver tier only",url:null,isExternalPage:!1,selector:"#interestOnBalance",isClaimedByDefault:!1},{id:"82",name:"webinars",url:null,isExternalPage:!1,selector:"#webinars",isClaimedByDefault:!0},{id:"84",name:"etoro money",url:null,isExternalPage:!1,selector:"#etoroMoney",isClaimedByDefault:!0},{id:"97",name:"etoro money-uk",url:null,isExternalPage:!1,selector:"#etoroMoney",isClaimedByDefault:!0}]}},isaAccount:{moneyfarmV4:{isEnabledGeneral:!1,enabledGcidWhitelist:[],redirectUrlGeneral:"https://etoro.moneyfarm.com/?authorization_code={{authorizationCode}}",redirectUrlUserOnboarded:"https://etoro.moneyfarm.com/dashboard?action=add-funds&authorization_code={{authorizationCode}}",redirectUrlForLegacyUser:"https://app.moneyfarm.com/gb/sign-in",shouldOpenRedirectUrlInIframe:!1,registrationDateThresholdIsoFormat:"2025-02-04",registrationDateThresholdCampaignCode:"cashback2025",learnMorePageUrlPath:"/investing/isa/offer/",supportPageUrlPath:"/customer-service/"}},wealthFrance:{isEnabled:!1,enabledGcidWhitelist:[],shouldOpenRedirectUrlInIframe:!1},userSettings:{twoFactorEnabled:!1,twoFactorAdjustmentEnabled:!1,optOutEnabled:!0,twoFactorCallEnabled:!0,shouldShowUserGain:!1,shouldShowRafBanner:!1,shouldShowOptionsAccountStatement:!1,tradingSettingsInstructionsOrder:["EthStaking","CryptoStaking","SWEEP","FPSL"]},registration:{forceShortCountryList:"4,166,86,153,214,189,219",china:{shouldShowICPText:!0},cfdTopDisclaimerRegulations:[2],rafCookieName:"RAF",rafQueryParamName:"ref",isH2BasedOnFunnelFromId:!0,isABTrustPilot:!0,isABLocalizedPages:!0,localizedPage:{infoCount:3,showCountryImages:!1,allowedCountries:[74,79,102,143,191,217,218],uniqueWithDisclaimers:[217,218],uniqueWithReferences:[74,217,218]},trustPilotSlideCountMobile:3,trustPilotSlideCountDesktop:5,trustPilotReviewMinWord:5,trustPilotBusinessUnitId:"4aa6d5d3000064000504b834",trustPilotApiKey:"P7nuARQFAExE4z0u4Qi7QGkuGZQTXZTd",trustPilotApiUrl:"https://api.trustpilot.com/v1/business-units",trustPilotReviewsQueryParam:"stars=5&stars=4&stars=3&language=en&perPage=100",trustPilotUrl:"https://www.trustpilot.com/review/www.etoro.com",airdropUSA:{enabled:!0,finraOnlyStates:["NY","NV","HI","PR","USVI"],rewardAmount:10,rewardImage:"/web-client/et/img/usa-cash-reward/reward.svg"},uaePassRegistration:{isFeatureEnabledGeneral:!1,isFeatureEnabledForWeb:!1,enabledForCountries:[],uaePassAppScheme:"uaepass://",uaePassPackageName:"ae.uaepass.mainapp",userDataPollingIntervalInMs:6e3,userDataPollingQrScreenTimeoutInMs:15e4,userDataPollingAfterSuccessRedirectTimeoutInMs:15e4,userDataPollingBeforeRedirectTimeoutInMs:15e4,userDataPollingAfterErrorRedirectTimeoutInMs:4e3},bannerDisclaimer:{isFeatureEnabled:!1,templateForKey:"banner.disclaimer.{{device}}.regulationId-{{regulationId}}-countryId-{{countryId}}"}},shareTradeWithImage:{isEnabledGeneral:!1,isEnabledWebAndroid:!1,isEnabledWebIOS:!1,isEnabledAppAndroid:!1,isEnabledAppIOS:!1,maxMessageChars:500}};return e});define(rA[67][0],[],function(){var e={iosForceUpdateMinVersion:"1",androidForceUpdateMinVersion:"1",http:{withCredentialsRoutes:"(/api/sts/)|(/api/registration/)"},resourcesVersion:{},isInlinemanualActive:!1,isMixpanelActive:!0,mixpanelAlternativeHost:"analytics.etoro.com",mixpanelPersist:"localStorage",mixpanelOriginalHost:"https://cdn.mxpnl.com",mixpanelAlternativeHostEnabled:!1,isGoogleAnalyticsActive:!0,isGoogleTagManagerActive:!0,privateInstrumentsSyncInterval:18e5,enableMaxRetries:!0,maxRetriesDefaultDelay:500,enableBackupUrlRetries:!0,publicInstrumentsTotalBulks:1,activityAndRatesTotalBulks:1,urls:{candlesApi:"https://candle.etoro.com",etoroCdn:"https://etoro-cdn.etorostatic.com",userstatsApiUrl:"https://userstatsapi.etoro.com",maintenanceUrl:"https://maintenance.etoro.com",monitoringUrl:"https://etorologsapi.etoro.com",billingPciUrl:"https://billing-pci.etoro.com/",partnersUrl:"https://partners.etoro.com",wrapperAjaxAbsoluteDomain:"https://www.etoro.com",staticApiUrl:"https://api.etorostatic.com",landingPagesUrl:"https://go.etoro.com",kycxSchemaUrl:"https://etoro-cdn.etorostatic.com/kycx/schema-all-merged-in.json",walletUrl:"https://wallet.etoro.com"},domainChange:{isActive:!1},openGarden:{threshold:0,landingScreen:"/discover/markets"},copyTraderFunnel:{enable:!0,desktopGuide:68862,deviceGuide:68971,enableDisplayOutsideTheFunnel:!0},appsettingsRefreshThreshold:3e5,forceUpdateLocalizationEnabled:!0,forceUpdateLocalizationOnResume:!0};return e});define(rA[68][0],[],function(){var e={isIntercomActive:!0,nonSelectableLocales:"zh-hk,zh-mo,zh-sg",apisMaintenance:{watchlist:!1,streams:!1,streamsBC:!1,rankings:!1,stats:!1,search:!1,login:!1,withdraw:!1,deposit:!1},userCalssification:!1,logAllOKRequests:!1,isFullstoryActive:!1,loginId:void 0,gcidsForApiKeys:[14704630,1371976],httpCircuitBreaker:{name:"ccm",enabled:!1,activationRegex:null},monitoring:{isFilteringActive:!1,filters:{},blacklist:[],verboseMode:{Infra:!0}},useHttpForInAppRedirect:!0,inAppNotifications:{initThreshold:5e3,welcomeNotificationVideoLangs:["en","it","fr","es","ar"]},ssoLogin:{shouldEnableEditingEmail:!0,apple:{enableDesktopWeb:!0,enableMobileWeb:!1,enableMobileWrapper:!0,shouldShowPassword:!0},facebook:{shouldEnableEditingEmail:!0}},chat:{isAllNonDepositorsBlocked:!1,nonDepositorsBlockedCountriesList:"",blockedClubTiersList:"",isCSInOverload:!1,isVisitorsBlocked:!1,endpointUrl:"https://d.la1-c1-par.salesforceliveagent.com/chat",preChatSdkUrl:"https://c.la1-c1-par.salesforceliveagent.com/content/g/js/42.0/prechat.js",deploymentSdkUrl:"https://c.la1-c1-par.salesforceliveagent.com/content/g/js/42.0/deployment.js",organizationId:"00D24000000d2qa",recordType:"0121p000001138oAAA",etoroMoneyRecordType:"0121p000000oYwbAAE",blockedCountries:[],allowedCountriedForClubsProActiveChat:[79,164],playerLevelIdForClubUpgrade:1,amountToNextClub:1500,liveAgentsHrs:{},snoozeMaxTimes:3,snoozeDays:2592e5,minEquity:0,blockedClubCountries:{1:[],2:[],3:[],4:[],5:[],6:[],7:[]},bot:{enabled:!0,botScriptSrc:"https://service.force.com/embeddedservice/5.0/esw.min.js",chatbotAvatarImgURL:"https://chatdev-etoro-chat.cs106.force.com/resource/Chatbot_Avatar",salesforceBotLink:"https://etoro--fullnew.my.salesforce.com",embededChatSite:"https://fullnew-etoro-chat.cs105.force.com/EmbededChatSite",gslbBaseURL:"https://service.force.com",organizationId:"00D1w0000000j8p",eswLiveAgentName:"eToroEmbededChat",baseLiveAgentContentURL:"https://c.la1-c1cs-cdg.salesforceliveagent.com/content",deploymentId:"5721p000000GqGg",buttonId:"5731w000000CbFe",baseLiveAgentURL:"https://d.la1-c1cs-cdg.salesforceliveagent.com/chat",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I1w000000CasmEAC_17ed32b5237"}},isWrapper:!1,americanCountries:[4,166,86,153,214,189,219],oopsDialog:{isOopsDialogEnabled:!1,isOopsDialogEnabledNew:!1,manualRetries:2},biometric:{initMaxAttempts:2},pushConfig:{Real:{earlyWSOpenEnabled:!0,cookieHandlingRequired:!1,keepaliveInterval:5e3,stalledTimeout:5e3,reconnectTimeout:1e3,maxConnectionRetries:15,url:"https://push-lightstreamer.cloud.etoro.com"},Demo:{earlyWSOpenEnabled:!0,cookieHandlingRequired:!1,keepaliveInterval:5e3,stalledTimeout:5e3,reconnectTimeout:1e3,maxConnectionRetries:15,url:"https://push-demo-lightstreamer.cloud.etoro.com"}},isBiometricLoginEnabled:!0,isBiometricLoginEnabledCountries:"250",authentication:{twoFactor:{phoneNumberValidationMin:6,phoneNumberValidationMax:15,phoneVerificationCodeLength:5,resendTimerInSeconds:30,insistMode:{snoozeLimit:3,delayInHours:48,enableCloseAfterDeadEndError:!0,isAccountRecoveryFlowEnabled:!1,verificationLevelThreshold:0},timers:{push:30,sms:60,phoneCall:60},stsApiOtpNotificationTypeId:{setTwoFactorSms:"9095e8c6-0582-47ae-a067-07b422891dc0",setTwoFactorVoiceCall:"1ca54e23-da22-4c08-8eb1-019885893b56",setDigitalSignatureSms:"7f7c00dd-ff3b-4615-ba0a-084d65e3dae6",setDigitalSignatureVoiceCall:"26c95cbf-a72a-45dc-bd19-cf462f2d9113",changeEmailOtpToPhoneSms:"58a7df2c-67b6-42c2-a619-d029a5ce8b0b",changeEmailOtpToPhoneVoiceCall:"dabc4f20-80db-47c3-8f70-eb0dc1b437e2",paymentsRedeemSms:"b4850df3-4798-49eb-a363-9633e03bcf02",paymentsRedeemVoiceCall:"ff87717e-9b54-4d7e-a929-84e55f3cc4d5",withdrawPaymentMethodSms:"9ded217e-f0bb-4f37-ad93-ad836ed24a8e",withdrawPaymentMethodVoiceCall:"7cb25113-7da9-4b6b-a415-b7925c113c04",generateNonInteractiveKeySms:"7f7c00dd-ff3b-4615-ba0a-084d65e3dae6",generateNonInteractiveKeyVoiceCall:"1ca54e23-da22-4c08-8eb1-019885893b56"}},exchangeGrace:6e4,showLostPhone:!0},sentry:{percent:0,delay:0}};return e});define(rA[69][0],[],function(){var n={};return n});define(rA[71][0],[],function(){var e={shouldShowOnlyPIAllowedCopiedDialog:!1,privateInstrumentsMaxDelayMS:64e3,isInstrumentSpotifyPreviewActive:!0,isInstrumentDropboxPreviewActive:!0,closingPricesUpdateThrottle:18e4,allowPrivateInstrumentsCall:!0,positionOrderState:{receivedDuration:3e3,filledDuration:3e3,rejectedDuration:3e3,educationalEnabled:!1,educationalInterval:5e3},usa:{nonCompliantInstruments:"100030,100270"},isOptionsTradingButtonEnabled:!1,optionsTradingGcidWhitelist:[],gatsbyRedirectUrl:void 0,surveys:{closeCopySurvey:{isShowSurveyAfterCloseCopy:!1,surveyLanguages:{"en-gb":"wkWkTcOy"}}},realPrices:{isEnabled:!0},trading:{usTradingConfig:{usFlavorEnabled:!1,usExchanges:[4,5],usInstrumentTypes:[5,6],usRegulationIds:[8],isUsPrecisionEnabled:!0,restrictedRegulationIds:[7],isRealTimeExchangeLogsEnabled:!1},abTestingConfig:{portfolioColumns:[{countries:[{countryId:250,population:100}],testAccounts:[]}],newStartCopy:[{countries:[{countryId:250,population:100}],testAccounts:[]}],showNewPortfolio:[{countries:[],testAccounts:[]}]},instrumentConfig:{isRatesSubSnapshotEnabled:!1,shouldSkipResyncRatesCall:!1,ignoreOldRateUpdate:!1,logOldRate:!1,pushRateUpdateDelay:1e3,isSplitActivityAndRates:!1},showNewPortfolio:!0,suitabilityConfig:{suitability2022:{enable:!1}},mirrorConfig:{isUnrealizedEnabled:!1,isOldUnrealizedVer:!1},newPortfolioEduConfig:{enable:!0},squad:{showLocalCurrency:!0},openPosition:{isDuplicationProtectionEnabled:!0,enableLogComplianceFlow:[79],enableRecurringInvestmentLink:!1},closePosition:{enableClosePositionComplianceFlow:!1,enableLogComplianceFlow:[79],enableCfdOnlyOnComplianceException:[79],maxCorrectionAllowed:6},shouldUseClubTieringServiceForProCharts:!0,localCurrency:{moneyTimeoutMS:500,transferMoneyTimeoutMS:1e4,toastMessageDuration:4e3,transferErrorMessageDuration:6e3},pnlFees:{enabled:!1,isNewPnlFormula:!1,enableGenericCosts:!1,costConfigTimeout:500,oppositeReciprocalFxIsResolved:!1,history:{enabled:!1,tradeStoryPageEnabled:!0,historyPageEnabled:!1},pnl:{enabled:!1},markUp:{enabled:!1}},islamicFeesAppliesFF:!0,pennyCurrencyConfig:{666:{multiplier:.01,displaySellCurrencyID:3}},tvChartConfig:{tvChartVersion:"26.004"},isLastYearChartDataDisabled:!1,portfolio:{withdrawCancel:{enabled:!1}}},tradingInsights:{calendarConfig:{isInsightsCalendarv3:!1,otherEvents:!0,chunkSize:100}},options:{apiDomain:"https://prod.gatsby.financial",enabled:!1,userGCIDWhiteList:"",featuredPostId:"180824d0-58b0-11ef-8080-80006b5d5d0c",contentUrl:"https://www.etoro.com/wp-content/uploads",isStocksLimitEnabled:!1,fractionalSharesEnabled:!0},optionsTradingTouchpointDisplaying:{marketPage:!0,homePage:!0,watchlistPage:!0,sideNav:!0,discoverPage:!0,oldResultsPage:!1,screenerPage:!0},tradingSignals:{isTradingSignalsTestActive:!1},disableDemo:!1,buyingPowerCalcPercentage:{stocksAndETFs:50,crypto:40,cfdNonLeveraged:35,cfdLeveraged:35,stockMarginX2:35,futures:35,copyPortfolio:80,copyPeople:80}};return e});define(rA[72][0],[],function(){var o={wallet:{urls:{etoroWallet:"etorowallet://",learnMoreMoney:"https://www.etoro.com/money/",learnMoreCrypto:"https://www.etoro.com/crypto/wallet/",learnMoreOptions:"https://www.etoro.com/options/",etoroOptionsApp:"https://uat.gatsby.financial/etoro/app",tradingConversionFees:"https://www.etoro.com/trading/fees/conversion",customerServiceDisclosures:"https://www.etoro.com/customer-service/disclosures",customerServiceDisclosuresUSA:"https://www.etoro.com/en-us/customer-service/disclosures",androidStore:"https://play.google.com/store/apps/details?id=com.etoro.wallet",iosStore:"https://apps.apple.com/us/app/etoro-money/id1397831096"},promotion:{urls:{getMoneyApp:{money:"https://etoro.onelink.me/J5bU/sckqth7l",crypto:"https://etoro.onelink.me/J5bU/3epml9zo"}}}},walletAccount:{enabled:!0},walletTransfer:{urls:{disclosureCash:"https://www.etoro.com/en-us/customer-service/disclosures",disclosureOptions:"https://www.etoro.com/en-us/customer-service/disclosures"}}};return o});define(rA[70][0],[],function(){var e={isPixelsLoaderActive:!0,showPiDashboardPaymentsTooltip:!1,deposit:{FTDUsePopup:!0,americanUsePopup:!0,redirectDepositFullToPopup:!1,maxDeposit:2e4,kycBeforeDepositAbTest:0,defaultAmountDollar:1e3},payments:{showDepositPresets:!1,growth:{changeMopButtonLocation:!0,ftdWizard:{isActive:!1,enabledForAll:!1,supportedFundingTypes:[],gcidWhitelist:[]},showKycFailurePopup:!0,smoothDeposit:{loadDepositInfoForControl:!0,isTestEnabled:!0,timeout:6e4},showSkeleton:!1},fundingTypeLogoOverridesByCountry:{38:{218:"Faster_Payments"}},settings:{recurringSettingsUrl:"/api/payments/v1/Recurring/recurring-settings-page",cancelPlanUrl:"/api/payments/v1/Recurring/cancel-plan",paymentsTabFF_Updated:!1,activePlanStatuses:[1]},recurring:{createPlanUrl:"/api/payments/v1/recurring/create",recurringInfoUrl:"/api/payments/v1/recurring/info",postDepositTeaserFF:!1,recurringPlan:{isEnabledForAll:!1,gcidWhitelist:[]},recurringV2design:{isEnabledForAll:!1,gcidWhitelist:[],countryIdAndPercentageWhitelist:{}},search:{counterForPopUp:10,count:{defaultInstruments:20,amount:40,perRequest:10},additionalInstrumentsForMostPopular:[1e5],debounceTime:300,gapsCountryIds:[79,143,218]}},kyc:{loggerFail:{enabled:!0,timeout:3e4}},currencies:{1:["USD","$"],2:["EUR","€"],3:["GBP","£"],4:["JPY","¥"],5:["AUD","A$"],7:["CAD","C$"],37:["RUB","₽"],38:["RMB","¥"],44:["PLN","zł"],77:["MYR","RM"],78:["THB","฿"],79:["IDR","Rp"],80:["VND","₫"],81:["PHP","₱"]},cryptocurrencies:{100000:"BTC",100001:"ETH",100002:"BCH",100003:"XRP",100005:"LTC",100017:"ADA",100020:"XLM",100023:"NEO",100026:"TRX"},checkoutLocalCurrencies:[43,77,79,80],regulationPerCurrencies:{},USARegulations:[6,7,8],deposit:{depositV2design:{isEnabledForAll:!1,gcidWhitelist:[],countryIdAndPercentageWhitelist:{}},dropdown_v2_FF:{isOpenForAllCountries:!1,allowedCountries:[],allowedApplicationIdentifiers:["ReToro","ReToroAndroid","ReToroIOS"]},dropdownV2optionView:{1:1,2:1,34:2,38:1,43:1},dropdownEtoroMoneyUSDPerMOPActive:!1,removeUSDFromCashierActive:!1,currencyMaxAmount:3e7,currenciesFromDepositInfo:{isEnabledForAll:!1,gcidWhitelist:[],countryIdAndFundingTypeIdWhitelist:{},fundingTypesWithCurrenciesFullyFromDepositInfo:[38]},dialogHeightFix_FF:!0,amountExchangeRateMinFractionalLength:4,creditCard:{pciFrontend:{v2:{isEnabledForAll:!1,gcidWhitelist:[],countryIdAndPercentageWhitelist:{}},isSendEtoroMoneyDataEnabled:!0,isIframeInputFocusedListenerEnabled:!0,blockCreditCardData:{isEnabled:!1,binLengthValidation:6,gcidWhitelist:[]},etoroMoneyWhitelist:{lastFourDigitsAllowed:[],gcidAccessList:[]},pciReadyTimeout:3e4}},wireTransfer:{regulationsShowingReceiptUploadReminder:[4,10],isCYSECBankOptionsEnabled:!1,isNeedToHideExchangeConditionV3Enabled:!1,nonEuroOptimization:{isEnabledForAll:!1,gcidWhitelist:[]}},paypal:{bannedCountries:{},showPaypalBillingAgreement:!1,cancelBillingAgreementUrl:"/api/billing/paypal/CancelBillingAgreement",fraudnet:{isSandbox:!1,fnclsValue:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",scriptPartTwoUrl:"https://c.paypal.com/da/r/fb.js",noScriptUrl:"https://c.paypal.com/v1"}},sofort:{iban:{disallowedValues:{enabled:!1,blackList:[]}},switchToPaymentsApi:!1},onlineBanking:{switchToPaymentsApi:!1},rapidTransfer:{enabled:!0},ideal:{supportedBanks:{},isSystemBrowserOpened:!1,banksFromServer_FF:!1,banksFromList_FF:!1,supportedBanksList:[]},openBanking:{isSystemBrowserOpened:!1,isCustomRedirectEnable:!1,redirect:{gcidWhitelist:[],allowedAppIdentifiers:[]}},lean:{urls:{accessToken:"/api/payments/v1/action",paymentsAction:"/api/payments/v1/action"},constants:{initialRequestDelay:2e3,requestInterval:3e3,retryCount:3}},fakePaymentOptions:{33:{ibanFlowEnabled:!1,ibanFtdFlowEnabled:!1}},localStorage:{isNeedToUpdateOnDepositInfoCall:!1},depositInfoUrl:"/api/billing/depositInfo",depositInfoUrlIsNewEnabledForAll:!1,depositInfoUrlGcidWhitelist:[],depositInfoUrlCountryWhitelist:[],depositInfoUrlV2:"/api/payments/v1/customers/deposit-info",depositInfoUrlV2Enabled:!1,depositInfoUrlV2RolloutPercentage:0,depositInfoUrlV2GcidWhitelist:[],depositUrl:"/api/payments/v1/deposit",transactionCheckUrl:"/api/billing/transactioncheck",isTransactionCheckV2Enabled:!1,isCashflowV2Enabled:!1,isCashflowPaymentsV2Enabled:!1,strategiesVersion:{},isPreselectedMopRouteEnabled:!0,isSetAmountForExternalFunnelEnabled:!1,depositEtoroMoneyAfterSubmitPromotionPopup:{enabled:!1,version:1,viewsLimit:2,timeToWaitUntilNextView:864e5},promotions:{isEtoroMoneyIbanPromotionEnabled:!0},depositStatusSubscriptionTimeout:15e3,clubUpgrade:{isEnabled:!1},fundingTypeNameOverridesWhitelist:[],fundingTypeNameOverridesByRegulationWhitelist:{},defaultFundingAndCurrency:{isEnabled:!1,gcidAccessList:[]},depositEtoroMoneyChangeCtaButton:{enabled:!1,isNeedToIgnoreOptimizely:!1},depositEtoroMoneyExplanationOpenBanking:{enabled:!1,isNeedToIgnoreOptimizely:!1},depositMopUiUpdate:{enabledForAll:!1,gcidAccessList:[]},depositNonEurOptimization:{isEnabled:!1,gcidWhitelist:[],nonEuroCountries:[],popupDisplayLimit:1},c2fPromo:{enabled:!1,gcidWhitelist:[],playerLevelIdWhitelist:[],countryIdBlacklist:[]}},withdraw:{showStringLabelFundingType:!1,wireTransfer:{isSummaryStepRequired:!0},paypal:{enabled:!0,disallowCountries:[44],disallowRegulations:[6,7]},onlineBanking:{enabled:!0,disallowRegulations:[6,7],allowedCountries:[]},currentWithdrawableAmount:{enabled:!0},neteller:{enabled:!1},skrill:{enabled:!1},zeroWithdrawalFeeFundingTypeIds:[],regulationIdsBlackListForPrecashoutPopups:[1],validationConfig:{blockedSwiftCodes:["SWIFTEST","UNJSUAUK","BTRLRO22","BAGAGE22","CBQAQAQA","BMSXMXMM","BSCHUYMM","NBOKKWKW","BPOTBEB1","AUDBLBBX","SGLILBBX","BOMLAEAD","MEDLLBBX","BCYPCY2N","PBBEMYKL","ARBKMYKL","PBANUA2X","BCPLPEPL","BNBOBOLX","QISBQAQA","RHBBMYKL"],blockedSwiftCountries:["co","pa","sa"],blockedSwiftUsdCodes:[],noWireCountries:[47,158,179],blockedAccountNumbers:[],blockedRoutingNumbers:[]},uniqueIdentifiersConfig:{noIbanCountries:[12,38,132,219,169],ibanCountriesRequired:[2,5,13,14,15,18,19,32,52,54,55,57,67,69,72,74,78,79,81,83,94,242,95,100,244,101,102,233,105,109,112,113,117,119,126,129,134,135,143,154,156,164,165,167,168,178,179,184,185,191,196,197,209,210,217],ibanCountriesOptional:[28,51,60,61,87,98,99,130,174,181,232,237,214,216],accountCountries:[]},isErrorSpecificShowed:!0,seaCurrencies:[77,79,80,43],apiUrl:"/api/billing/withdraw",useNewFlowACH:1,successMessageV2FundingTypeIdWhitelist:[],processSubscription:{enabled:!1,timeout:15e3},apiUrlWithdrawFacade:"/api/withdraw-facade/v1",useNewWithdrawFacadeEvaluateApproval:!1,useNewWithdrawFacadeReversibility:!1,useNewFlowEtoroMoney:{enabled:!1,isNeedToIgnoreOptimizely:!1},etoroMoney:{processSubscription:{isEnabledForAll:!1,gcidWhitelist:[]},switchSubmitProcessToRequest:{isEnabledForAll:!1,gcidWhitelist:[]}}},paymentMethod:{apiUrl:"/api/withdraw-facade/v1/paymentmethod",useNewFacadeAmopConfig:!1},plaid:{enabled:!0,handlePendingAsSuccess:!0,key:"d7e951ea96178b2716008bf2da840e",env:"production",plaidscript:"https://cdn.plaid.com/link/v2/stable/link-initialize.js",promptToRemoveExpiredAccount:!1,plaidWidgetUri:"https://etoro-cdn.etorostatic.com/web-client/plaid-widget/plaid-widget.html",depositRedirectToEtoroSuccess:"deposit/plaid-redirect-success",depositRedirectToEtoroFailure:"deposit/plaid-redirect-failure",withdrawRedirectToEtoroSuccess:"withdraw/plaid-redirect-success",withdrawRedirectToEtoroFailure:"withdraw/plaid-redirect-failure",iosUseAppSchemeForRedirectToEtoro:!1,androidUseAppSchemeForRedirectToEtoro:!0,isRedirectOpenForAll:!1,whiteListedUsersNewForRedirect:[],bankAvatars:["ins_1","ins_2","ins_3","ins_4","ins_5","ins_6","ins_7","ins_9","ins_11","ins_12","ins_13","ins_14","ins_15","ins_16","ins_19","ins_20","ins_56","ins_127989","ins_127990","ins_127991","ins_128026"],v2_implementation_percentage_host:{withdraw:0,deposit:0},v2_implementation_percentage_ApplicationIdentifier:{ReToro:100,ReToroAndroid:100,ReToroIOS:100},androidPackageName:"com.etoro.openbook",iosRedirectUri:"https://etoro.com/deposit/plaid-re-launch",redirectPathWeb:"/deposit/plaid-re-launch",isBlockFundingUponNameConflict:!1,isBlockFundingUponNameConflictGcidWhitelist:[]},payWithMyBank:{enabled:!0,apiScriptUrl:"https://paywithmybank.com/start/scripts/paywithmybank.js?accessId=q7Hz7jz99U8BYe3mgTgL",promptToRemoveExpiredAccount:!1,avoidEmptyAccountList:!0,isBlockFundingUponNameConflict:!1,isBlockFundingUponNameConflictGcidWhitelist:[],depositStatusSubscriptionTimeout:15e3},etoroMoney:{links:{learnMore:"https://www.etoro.com/money/",learnMoreV2:"https://www.etoro.com/trading/currency-accounts",availability:"https://www.etoro.com/money/availability/",redirect:"https://etoro-cdn.etorostatic.com/web-client/wallet-tab/redirect.html",etoroWallet:"etorowallet://",androidStore:"https://play.google.com/store/apps/details?id=com.etoro.wallet",iosStore:"https://apps.apple.com/us/app/etoro-money/id1397831096"},etoroMoneyApp:{redirectEnabled:!1},openBanking:{enabled:!1,autoSweepEnabled:!0,moneyTransferUrl:"/api/payments/v1/MoneyTransfer",moneyTransferCancel:{enabled:!1,url:"/api/payments/v1/MoneyTransfer/cancel"},institutionName:{enabled:!1,currencyBlacklist:[]},autosweepOffAbTest:{isEnabled:!1,gcidWhitelist:[],isNeedToIgnoreOptimizely:!1}},tink:{enabled:!1,redirectUrlHostname:"",requiredSearchParams:[],openStrategy:{mobile:"",desktop:""},sdkConfig:{isManualRedirectEnabled:!1,manualRedirectUriForIos:"",manualRedirectUriForAndroid:""}},popups:{topupPopup:{enabled:!1,isNeedToIgnoreOptimizely:!1,topupInfoUrl:"/api/payments/v1/etoromoney/topup-info"}},isTopUpABTestActive:!1,urls:{moneyApiV2:{eligibilityUrl:"/api/money/v1/money/fiat/eligibility",userChangeProgramUrl:"/api/money/v1/money/fiat/user/changeProgram",userGetUrl:"/api/money/v1/money/fiat/user/get",accountUrl:"/api/money/v1/money/fiat/account",accountListUrl:"/api/money/v1/money/fiat/account/list",ibanCreateUrl:"/api/money/v1/money/fiat/iban/create",cardCreateUrl:"/api/money/v1/money/fiat/card/create",userReissueCardUrl:"/api/money/v1/money/fiat/card/reissue",eligibilityReissueUrl:"/api/money/v1/money/fiat/card/getReissueEligibility",cardGetStatusUrl:"/api/money/v1/money/fiat/card/getStatus",cardCreateFrameSessionUrl:"/api/money/v1/money/fiat/card/createFrameSession",bannersUrl:"/api/money/v1/money",bannersInteractionUrl:"/api/money/v1/money/banners"}},localCurrencies:{translationsV2:{isEnabledForAll:!1,gcidWhitelist:[],textLogo:{enabled:!1,isNeedToIgnoreOptimizely:!1}}},explanationFtd:{enabled:!1,isNeedToIgnoreOptimizely:!1}},eToroDebitCard:{enabled:!0,cacheInstantCashoutEligibility:!0,isLogsSent:!0,logo:{withdrawSkipOrCreate:"/web-client/img/payments/etoro-card/card-animation/card.svg",withdrawCreationSuccess:"/web-client/img/payments/etoro-card/etoro-card.creation.success.svg",withdrawEtoroCardActive:"/web-client/img/payments/etoro-card/etoro-card.existing.active.png",withdrawEtoroIbanActive:"/web-client/img/payments/etoro-card/etoro-iban.existing.active.png"},isDesignV2ForWalletScreensEnabled:!0,createCardV2design:{enabled:!1,isNeedToIgnoreOptimizely:!1}},etoroMoneyViaWireTransfer:{createIbanUrl:"/api/payments/v1/EToroMoney/iban",enabled:!1,showPromoFundingTypeIdWhitelist:[],withdraw:{enabled:!1},createIbanSubscription:{isEnabledForAll:!1,gcidWhitelist:[],statusSubscriptionTimeout:15e3}},etoroMoneyFtd:{enabled:!1,funnelWhitelist:[],isNeedToIgnoreOptimizely:!1,isNeedToIgnoreOptimizelyForSpecificCases:!1,openBankingConfirmation:{enabled:!1,isNeedToIgnoreOptimizely:!1}},etoroMoneyUpgrade:{ibanToCard:{enabled:!1,isNeedToIgnoreOptimizely:!1,statusSubscriptionTimeout:15e3},greenToBlackCard:{enabled:!1,isNeedToIgnoreOptimizely:!1,statusSubscriptionTimeout:25e3}},redeem:{redeemPopup:{v2:{isEnabledForAll:!1,gcidWhitelist:[],countryIdWhitelist:[]},twoFactorSuggestion:{isEnabledForAll:!1,gcidWhitelist:[]}},cryptocurrencies:{TRX:{enabled:!0,fee:100}}},localOnlineBanking:{enabled:!0,enabledByCountryId:{97:!0,226:!0,123:!0,162:!0,202:!0}},localCurrencyIdByCountryId:{97:79,226:80,123:77,162:81,202:78},portfolioHistoryCashflows:{fundingTypesWithBulletsBeforePaymentDetails:[1,37,38],decimalFreeWithdrawCurrencies:[79,80,488],conversionCost:{isEnabledForAll:!1,countryIdWhitelist:[],regulationIdWhitelist:[]},isNftEnabled:!1,transferInfo:{isEnabledForAll:!1,gcidWhitelist:[]}},"logoOverride_theme_2022-redesign_fundingTypeId_1_countryId_219":"debit-card","logoOverride_theme_2022-redesign_fundingTypeId_2_countryId_219":"wire-transfer",topMarketsMaxItems:5,isFtdRelevantForTopMarkets:!0},moneyCore:{urls:{moneyBusApi:{baseUrl:"/api/moneybus/v1"},paymentsApi:{baseUrl:"/api/payments/v1"}},localCurrency:{isEnabled:!1,gcidWhiteList:[],internalGcidWhiteList:[],requestTimoutMS:2e3,transferPushSubscribeTimeoutMS:3e4,isDirectTransferEnabled:!1,ibanCacheDurationMS:1e4,retryCountFetchAccounts:3,retryDelayFetchAccountsMS:3e3,feesEnabled:!1,equities:{enabledByAccountTypeId:[],ibanPollingIntervalMS:1e4,ibanPollingFallbackIntervalMS:9e5,ibanPollingResumeIntervalMS:3e5,isIbanVisibilityEnabled:!1,ignoreIbanVisibilityOptimizely:!1},transferAbTestConfig:{OpenTradeFromBalance:{isEnabled:!1,experimentName:"local_currency_phase_1",variationIdToCheck:"local_currency_phase_1_test",projectName:"Payments",supportedAccountTypes:[],blockedPlayerStatuses:[],ignoreOptimizely:!1},CloseTradeToBalance:{isEnabled:!1,experimentName:"",variationIdToCheck:"",projectName:"",supportedAccountTypes:[],blockedPlayerStatuses:[],ignoreOptimizely:!1},InternalTransfer:{isEnabled:!1,supportedAccountTypes:[]}},drawer:{positionRiskLimit:5e4}}}};return e});define(rA[73][0],[],function(){return{appName:"ReToro",machineUrl:"https://cdn.etorostatic.com",isUsStocksBanner:!0,isUseAbsoluteDomain:!1,ApplicationIdentifier:"ReToro",ApplicationVersion:"v651.722.1",isChina:/(_China)/.test("v651.722.1"),mixpanelToken:"dbbd7bd9566da85f012f7ca5d8c6c944",googleClientId:"1070319902608-plmm2pme29to6s18v4emc53r0h5aknkc.apps.googleusercontent.com",googleAnalyticsId:"UA-2056847-1",facebookAppId:"166209726726710",funnelId:"36",funnelFromId:"36",affiliateId:null,loadGA:!0,defaultLocale:"en-gb",kycLoaderUrl:"https://etoro-cdn.etorostatic.com/kyc/app/kyc.loader.js",languageBasedFeedAsDefault:"zh-cn",isSocialConnectEnabled:!0,isChinaSocial:!1,marketingDomain:"/",IOSAppLink:"http://m.onelink.me/2b58ecce",androidAppLink:"http://m.onelink.me/22ec4b7b",initialLP:window.location.href,initialReferrer:window.document.referrer,isKYCAddressAutoCompleteEnable:!0,isFacebookConnectEnabled:!0,isGoogleConnectEnabled:!0,isAppleConnectEnabled:!0,loginRememberMeDefault:!0,liveAgentDeploymentId:"5721p000000GqGg",isSeoOnlyRouting:!1,ssoSignupDomain:"https://www.etoro.com",useAlgoliaSearchApi:"true",login:{gatewayAppId:"90631448-9A01-4860-9FA5-B4EBCDE5EA1D",requiredScopes:[]},isSettingsDrawerRegistrationEnabled:"%REGISTRATION_SETTINGS_DRAWER%",urbanWebPush:{workerUrl:"/app-root-push-worker.js",appKey:"W_Ps1DDsQAypC5_UuKOeyg",token:"MTpXX1BzMUREc1FBeXBDNV9VdUtPZXlnOi16TU1FNDhXNDlPdm9TX2lQaVFqaFcwODVUUzk5RGhRbUszVno3Umpid2c",vapidPublicKey:"BIckhmdgTLhUz1a46UoaRqLwRBFp0j/qf1HdeX2vFVamGzBmn3d7FHL2SrudAZDDIXvCbMatvkKQCwyi+XRSzlQ=",websitePushId:"web.com.webpush.etoro"},appleSSOServiceClientId:"com.etoro.openbook.service",intercomConfig:{appId:"x8o64ufr",userToken:""}}});!function(i,s){"use strict";var e="0.7.10",o="",r="?",n="function",a="undefined",t="object",w="string",l="major",d="model",p="name",c="type",u="vendor",m="version",f="architecture",b="console",g="mobile",h="tablet",v="smarttv",x="wearable",y="embedded",k={extend:function(i,s){for(var e in s)-1!=="browser cpu device engine os".indexOf(e)&&s[e].length%2===0&&(i[e]=s[e].concat(i[e]));return i},has:function(i,s){return"string"==typeof i?-1!==s.toLowerCase().indexOf(i.toLowerCase()):!1},lowerize:function(i){return i.toLowerCase()},major:function(i){return typeof i===w?i.split(".")[0]:s}},A={rgx:function(){for(var i,e,o,r,w,l,d,p=0,c=arguments;p<c.length&&!l;){var u=c[p],m=c[p+1];if(typeof i===a){i={};for(r in m)m.hasOwnProperty(r)&&(w=m[r],typeof w===t?i[w[0]]=s:i[w]=s)}for(e=o=0;e<u.length&&!l;)if(l=u[e++].exec(this.getUA()))for(r=0;r<m.length;r++)d=l[++o],w=m[r],typeof w===t&&w.length>0?2==w.length?i[w[0]]=typeof w[1]==n?w[1].call(this,d):w[1]:3==w.length?i[w[0]]=typeof w[1]!==n||w[1].exec&&w[1].test?d?d.replace(w[1],w[2]):s:d?w[1].call(this,d,w[2]):s:4==w.length&&(i[w[0]]=d?w[3].call(this,d.replace(w[1],w[2])):s):i[w]=d?d:s;p+=2}return i},str:function(i,e){for(var o in e)if(typeof e[o]===t&&e[o].length>0){for(var n=0;n<e[o].length;n++)if(k.has(e[o][n],i))return o===r?s:o}else if(k.has(e[o],i))return o===r?s:o;return i}},E={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},S={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[p,m],[/\s(opr)\/([\w\.]+)/i],[[p,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[p,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[p,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[p,m],[/(yabrowser)\/([\w\.]+)/i],[[p,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[p,m],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[p,"UCBrowser"],m],[/(dolfin)\/([\w\.]+)/i],[[p,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[p,"Chrome"],m],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[m,[p,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[m,[p,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[m,[p,"Facebook"]],[/fxios\/([\w\.-]+)/i],[m,[p,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[p,[m,A.str,E.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[p,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[p,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,k.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",k.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[f,k.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,u,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[u,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[u,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,d,[c,h]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[u,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,A.str,E.device.amazon.model],[u,"Amazon"],[c,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,u,[c,g]],[/\((ip[honed|\s\w*]+);/i],[d,[u,"Apple"],[c,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,d,[c,g]],[/\(bb10;\s(\w+)/i],[d,[u,"BlackBerry"],[c,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[d,[u,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[d,"Xperia Tablet"],[c,h]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[u,"Sony"],[d,"Xperia Phone"],[c,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,d,[c,b]],[/android.+;\s(shield)\sbuild/i],[d,[u,"Nvidia"],[c,b]],[/(playstation\s[34portablevi]+)/i],[d,[u,"Sony"],[c,b]],[/(sprint\s(\w+))/i],[[u,A.str,E.device.sprint.vendor],[d,A.str,E.device.sprint.model],[c,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,d,[c,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[u,[d,/_/g," "],[c,g]],[/(nexus\s9)/i],[d,[u,"HTC"],[c,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[u,"Microsoft"],[c,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[u,"Microsoft"],[c,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[d,[u,"Motorola"],[c,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[u,"Motorola"],[c,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],d,[c,h]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[u,"Samsung"],d,[c,g]],[/(samsung);smarttv/i],[u,d,[c,v]],[/\(dtv[\);].+(aquos)/i],[d,[u,"Sharp"],[c,v]],[/sie-(\w+)*/i],[d,[u,"Siemens"],[c,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[u,"Nokia"],d,[c,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[d,[u,"Acer"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],d,[c,h]],[/(lg) netcast\.tv/i],[u,d,[c,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[d,[u,"LG"],[c,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[u,"Lenovo"],[c,h]],[/linux;.+((jolla));/i],[u,d,[c,g]],[/((pebble))app\/[\d\.]+\s/i],[u,d,[c,x]],[/android.+;\s(glass)\s\d/i],[d,[u,"Google"],[c,x]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[d,/_/g," "],[u,"Xiaomi"],[c,g]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[c,k.lowerize],u,d]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[p,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[p,m],[/rv\:([\w\.]+).*(gecko)/i],[m,p]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[p,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[p,[m,A.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[p,"Windows"],[m,A.str,E.os.windows.version]],[/\((bb)(10);/i],[[p,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[p,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[p,"Symbian"],m],[/\((series40);/i],[p],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[p,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[p,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[p,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[p,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[p,m],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[p,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[p,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[p,m]]},T=function(s,e){if(!(this instanceof T))return new T(s,e).getResult();var r=s||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:o),n=e?k.extend(S,e):S;return this.getBrowser=function(){var i=A.rgx.apply(this,n.browser);return i.major=k.major(i.version),i},this.getCPU=function(){return A.rgx.apply(this,n.cpu)},this.getDevice=function(){return A.rgx.apply(this,n.device)},this.getEngine=function(){return A.rgx.apply(this,n.engine)},this.getOS=function(){return A.rgx.apply(this,n.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(i){return r=i,this},this.setUA(r),this};T.VERSION=e,T.BROWSER={NAME:p,MAJOR:l,VERSION:m},T.CPU={ARCHITECTURE:f},T.DEVICE={MODEL:d,VENDOR:u,TYPE:c,CONSOLE:b,MOBILE:g,SMARTTV:v,TABLET:h,WEARABLE:x,EMBEDDED:y},T.ENGINE={NAME:p,VERSION:m},T.OS={NAME:p,VERSION:m},typeof exports!==a?(typeof module!==a&&module.exports&&(exports=module.exports=T),exports.UAParser=T):typeof define===n&&define.amd?define(rA[99][0],function(){return T}):i.UAParser=T,i.UAParser=T;var N=i.jQuery||i.Zepto;if(typeof N!==a){var O=new T;N.ua=O.getResult(),N.ua.get=function(){return O.getUA()},N.ua.set=function(i){O.setUA(i);var s=O.getResult();for(var e in s)N.ua[e]=s[e]}}}("object"==typeof window?window:this);define(rA[177][0],["angular"],function(t){function e(t){function e(){try{return window[t]}catch(e){return null}}function r(){var t="testLclsStr!@#$";try{return i.setItem(t,"1"),i.removeItem(t),!0}catch(e){return!1}}function n(t){return window.btoa?window.btoa(JSON.stringify(t)):JSON.stringify(t)}function o(t){return JSON.parse(window.atob?window.atob(t):t)}var i=e(t);return function(){var t=!1;this.setInMemoryStorage=function(e){t=e},this.$get=[function(){return i=r()&&!t?i:{d:{},setItem:function(t,e){return this.d[t]=e},getItem:function(t){return this.d[t]},removeItem:function(t){return delete this.d[t]}},{setItem:function(t,e){if(t)try{i.setItem(t,JSON.stringify(e))}catch(r){return}},setEncodedItem:function(t,e){if(t)try{i.setItem(t,n(e))}catch(r){return}},setAsyncEncodedItem:function(t,e){if(!t)return Promise.resolve();try{return Promise.resolve(i.setItem(t,n(e)))}catch(r){return Promise.resolve()}},getItem:function(t){if(!t)return null;try{return JSON.parse(i.getItem(t))}catch(e){return null}},getEncodedItem:function(t){if(!t)return null;try{return o(i.getItem(t))}catch(e){return null}},getAsyncEncodedItem:function(t){if(!t)return Promise.resolve(null);try{return Promise.resolve(o(i.getItem(t)))}catch(e){return Promise.resolve(null)}},removeItem:function(t){if(t)try{i.removeItem(t)}catch(e){return}},setItemAsIs:function(t,e){if(t)try{i.setItem(t,e)}catch(r){return}}}}]}}var r=t.module("infrastruct.services.storage",[]);return r.provider("infrastruct.services.localStorage",e("localStorage")),r.provider("infrastruct.services.sessionStorage",e("sessionStorage")),r});define(rA[104][0],[],function(){function x(){function x(){return t.replace(/t/g,function(){return((new Date).getTime()%16).toString(16)}).replace(/[xy]/g,function(x){var t=16*Math.random()|0,n="x"==x?t:3&t|8;return n.toString(16)})}var t="xxxxtxxx-xxxx-4xxx-yxxx-xxxxxxtxxxxx";return x}return x.validate=function(x){var t=/^[a-z0-9]{8}-[a-z0-9]{4}-4[a-z0-9]{3}-[a-z0-9]{4}-[a-z0-9]{12}$/;return t.test(x)},x});define(rA[199][0],["moduleDefiner","underscore",rA[249][0],rA[166][0]],function(e,t,n){"use strict";function r(e,t){for(var n=0;t[n]===e;)n++;return t.substr(n)}function a(e,t){return void 0===e&&(e="s"),t.replace(new RegExp("["+e+"]+$"),"")}function o(e){return e?e.replace(/\/\/$/i,"/"):e}function c(e,t,n){if(n)e=e.replace(l,"/");else if(!e||l.test(e)||m.test(e)||f.test(e))return o(e);return e=r("/",e),t=t===v?"":t?"/"+t:"/",e=a("/",t)+"/"+e,o(e)}function i(e,t){return e.map(function(e){return-1===t.indexOf(e)?e.split("-")[0]:e})}function s(e,t,n,r,a){function o(e,t){return t?e.call(i,t):e.call(i)}var i=e,s=i.path,u=i.url;return i.path=function(e){return e=c(e,n.session&&n.session.isLoggedIn?"":t.languageCode),o(s,e)},i.seoOnlyRouting=function(e){return a.statics.isSeoOnlyRouting=!0,e=c(e),o(s,e)},i.url=function(e){return e=c(e,n.session&&n.session.isLoggedIn?"":t.languageCode),o(u,e)},i.nativeHref=function(e){return e&&(r.location.href=e),r.location.href},i}function u(e,t,n,r){var a=e[0],o=a.name,i=document.documentMode,s="href";return a.compile=function(){return function(e,a,u){var l=s,f=s;u.$observe(o,function(e){return e?(e=c(e,n.session.isLoggedIn?"":t.languageCode),r.$$html5||!e||m.test(e)||"#"===e.charAt(0)||(e="#"+e),u.$set(f,e),void(i&&l&&a.prop(l,u[f]))):void("href"===s&&u.$set(f,null))})}},e}var l,f,p=e("infrastruct.services.localeRouting",["ngRoute",n]),g=[],d=[],m=new RegExp("^(http[s]?:\\/\\/)"),v="en",h=[];p.factory("infrastruct.services.localeRoutingFactory",["infrastruct.services.config","infrastruct.services.localization.localizeFactory",function(e,t){return{getBaseUrl:function(n){var r=e.calculated.baseUrl;return n?r+"/"+t.languageCode:r},buildUrl:function(e,n){n=g.includes(n)?n:null;var r=n&&n!=t.languageCode;return c(e,n||t.languageCode,r)},getLanguages:function(){return d}}}]),p.config(["$provide","$routeProvider","infrastruct.services.localization.localizeFactoryProvider",function(e,n,r){var a=r.getNotShortableLocales();d=t.map(r.getSupportedLocales(),function(e){var t=-1===a.indexOf(e)?e.split("-")[0]:e;return{code:t,locale:e}}),g=t.map(d,function(e){return e.code}),l=new RegExp("^\\/("+g.join("|")+")($|\\/|\\?|\\#)","i");var o=i(r.getBackwardsCompatibilityLocales(),a);f=new RegExp("^\\/("+o.join("|")+")($|\\/|\\?|\\#)","i");var c,p=n.when;n.when=function(e,n,o){if(n&&!t.has(n,"caseInsensitiveMatch")&&(n.caseInsensitiveMatch=!0),n.resolve||(n.resolve={}),n.resolve._localeResolver=["$route","$q","$location","infrastruct.services.localization.localizeFactory","$rootScope","infrastruct.services.config",function(e,t,n,a,o,i){return t(function(t,s){var u,l,f=n.search().locale;l=i.statics.isSeoOnlyRouting?e.current&&e.current.params&&e.current.params.locale||v:e.current&&e.current.params&&e.current.params.locale||a.languageCode||v,u=f&&-1!==r.getSupportedLocales().indexOf(f.toLowerCase())?!0:!1,u||-1!==g.indexOf(l.toLowerCase())?(o.session&&o.session.isLoggedIn||l===c||!a.getMappedLocaleToCode(l)?t():a.setLanguage(a.getMappedLocaleToCode(l)).then(t)["catch"](s),c=l):s()})}],n.dynamicAssets&&(t.isArray(n.dynamicAssets)||(n.dynamicAssets=[n.dynamicAssets]),n.resolve._dynamicAssetsResolver=["$q","$injector",function(e,r){return e(function(e,a){var o,c,i=[];for(o=0,c=n.dynamicAssets.length;c>o;o++)r.hasModule(n.dynamicAssets[o].name)||i.push(n.dynamicAssets[o]);return 0===i.length?void e():void require(t.pluck(n.dynamicAssets,"path"),function(){r.loadDelayedModules(t.pluck(n.dynamicAssets,"name")),n.dynamicAssets.length=0,e()},a)})}]),n.abTests&&(n.resolve.abTestsResults=["$q","$injector",function(e,t){var r=n.abTests||[],a=r.map(function(e){var n=e.request;if(n===!0||"undefined"==typeof n)return{projectName:e.projectName,experimentName:e.experimentName,request:!0};if(Array.isArray(e.request))try{var r=t.invoke(e.request);return r&&r.then?r.then(function(t){return{projectName:e.projectName,experimentName:e.experimentName,request:!!t}})["catch"](function(){return{projectName:e.projectName,experimentName:e.experimentName,request:!1}}):{projectName:e.projectName,experimentName:e.experimentName,request:!!r}}catch(a){}return{projectName:e.projectName,experimentName:e.experimentName,request:!1}});return e.all(a).then(function(e){var n=t.get("genericAbTestService"),r=e.map(function(e){return e.request?{projectName:e.projectName,experimentName:e.experimentName}:null}).filter(function(e){return null!==e});return 0===r.length?[]:n.getExperiments(r)})["catch"](function(){return[]})}]),n.maintenanceId){var s=n.resolve||{dummy:["$q",function(e){return e.resolve()}]};n.resolve={},t.each(s,function(e,t){n.resolve[t]=["$q","$injector","infrastruct.services.config",function(t,r,a){var o=!!n.maintenanceId&&!!a.dynamics.apisMaintenance[n.maintenanceId];return o?t.reject({reason:"maintenance",source:n.sectionId||n.maintenanceId}):r.invoke(e)}]}),s=null}return"/"!==e||o?(e&&(i(r.getBackwardsCompatibilityLocales(),a).forEach(function(t){p.call(this,"/"+t+e,{redirectTo:e},n)}.bind(this)),e="/:locale?"+e),p.call(this,e,n)):(h.push({path:"/",route:n}),this)},e.decorator("$location",["$delegate","infrastruct.services.localization.localizeFactory","$rootScope","$window","infrastruct.services.config",s]),e.decorator("ngHrefDirective",["$delegate","infrastruct.services.localization.localizeFactory","$rootScope","$location",u]),e.decorator("$route",["$delegate",function(e){var t=e;return t.when=n.when,t}])}]);var $=function(){function e(e){var t=e;"string"!=typeof e&&(t=(e.source||"").toString()),t=t.replace(/\^\(\?:\\\/\(([a-zA-Z-]{2,5})\)\+\?\)\?/,"^(?:\\/([^\\/]+)?)?"),t=t.replace("^(?:\\/([^\\/]+)?)?","^(?:\\/("+g.join("|")+")+?)?");var n="";e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.compile(t,n)}return{updateRoutesRegex:function(e){return t.each(e,function(e){e.regexp&&this.replaceRegex(e.regexp)},this),e},replaceRegex:e}}();return p.run(["infrastruct.services.localization.localizeFactory","$rootScope","$route","$location",function(e,n,r,a){v=e.defaultLanguageLeftPart,t.each(h,function(e){r.when(e.path,e.route,!0)}),$.updateRoutesRegex(r.routes),n.$on("app:locales:reset",function(){v=e.defaultLanguageLeftPart,g=i(e.locales,e.notShortableLocles),l=new RegExp("^\\/("+g.join("|")+")($|\\/|\\?|\\#)","i"),$.updateRoutesRegex(r.routes)}),n.$on("$routeChangeSuccess",function(t,o){var c=o.params&&o.params.locale||o.pathParams&&o.pathParams.locale||v;c===v&&c===e.languageCode||n.session.isLoggedIn?o.params&&o.params.locale&&(r.updateParams({locale:""}),a.replace()):-1!==g.indexOf(c.toLowerCase())&&c!=e.languageCode&&r.current&&r.current.$$route&&r.current.params.locale&&(r.updateParams({locale:e.languageCode===v?"":e.languageCode}),a.replace())})}]),p});define(rA[249][0],["angular",rA[200][0],rA[222][0],rA[221][0],rA[252][0]],function(i,a,e,t,c){"use strict";var r=i.module("infrastruct.services.localization",[c.name]);return r.provider("infrastruct.services.localization.localizeFactory",a),r.service("infrastruct.services.localization.localizeTemplatesFactory",e),r.config(["$provide",function(i){i.decorator("$templateRequest",t)}]),r});define(rA[200][0],["angular","underscore"],function(e,t){"use strict";function n(n){function a(e){g={},e?r=["en-us"]:(r=[].concat(i),r.splice(r.indexOf("en-us"),1)),r.forEach(function(e){if(-1!==d.indexOf(e))g[e]=e;else{var n=e.toLowerCase().split("-")[0];t.has(g,n)||(g[n]=e)}})}var o="EToroResources",i="en-gb,en-us,es-es,it-it,de-de,ru-ru,zh-cn,fr-fr,ar-ae,zh-tw,pl-pl,nl-nl,nb-no,pt-pt,sv-se,cs-cz,da-dk,ro-ro,vi-vn,fi-fi".split(","),r="en-gb,en-us,es-es,it-it,de-de,ru-ru,zh-cn,fr-fr,ar-ae,zh-tw,pl-pl,nl-nl,nb-no,pt-pt,sv-se,cs-cz,da-dk,ro-ro,vi-vn,fi-fi".split(","),c="ms-my,th-th".split(","),s=r.concat(["zh"]),l="https://api.etorostatic.com/sapi/app-data/web-client-locales/{culture}.js",u=!1,g={},d="en-us,zh-tw,nb-no,pt-pt,cs-cz,da-dk,vi-vn,ms-my".split(","),f=n.getConfig(),p=["ar-ae"];this.getSupportedLocales=function(){return r},this.getNotShortableLocales=function(){return d},this.getBackwardsCompatibilityLocales=function(){return c},this.useDefaultWhenEmpty=function(e){u=e},this.setDefaultLanguage=function(e){var t,n;if(e=e&&e.toLowerCase()){for(t=0,n=r.length;n>t;t++)if(r[t]===e)return f.setDynamicKey("languageCode",r[t]);for(e=e.toLowerCase().split("-")[0],t=0,n=r.length;n>t;t++)if(r[t].split("-")[0]===e)return f.setDynamicKey("languageCode",r[t])}return f.dynamics.languageCode||f.statics.languageCode},a(f.statics.isUsIp),this.$get=["$rootScope","$window","$cookies","$injector","$q","$templateCache","$log","$interpolate","infrastruct.services.config",function(n,i,c,f,h,L,v,y,b){function m(e,t,n){O.resourceUpdate(e,t,n),_&&v.warn(new Error("Resources came after timeout"))}var z=h.defer();n.$on("app:language:change:success",function(){-1!==p.indexOf(O.language)?($("body").addClass("rtl-direction"),$("body").removeClass("ltr-direction")):($("body").addClass("ltr-direction"),$("body").removeClass("rtl-direction"))}),n.$on("logout:success",function(){O.resetLocales(b.statics.isUsIp)}),n.$on("appConfig:change",function(e,t){var n=t.keysChanged;-1!==n.indexOf("nonSelectableLocales")&&(O._selectableLocales=null)});var C={"if":function(e,n,a,o,i){return n="."===n.charAt(n.length-1)?n:n+".",y(t.unescape(O.getLocale(n+(e?a:o))))(i||{})},dynamic:function(e,n,a){return e="."===e.charAt(e.length-1)?e:e+".",y(t.unescape(O.getLocale(e+n)))(a||{})},html:function(e,n,a){return e="."===e.charAt(e.length-1)?e:e+".",y(t.unescape(O.getLocale(e+n)))(a||{})},hasKey:function(e,t){return e="."===e.charAt(e.length-1)?e:e+".",!!O.getResource(e+t,!0)}};n.t=C;var w,O={language:"",notShortableLocles:d,get languageCode(){return this.language?-1!==O.notShortableLocles.indexOf(this.language)?this.language:this.language.split("-")[0]:""},defaultLanguage:b.dynamics.languageCode||b.statics.defaultLocale,get defaultLanguageLeftPart(){var e=this.defaultLanguage;return-1!==O.notShortableLocles.indexOf(e)?e:e.split("-")[0]},resourceFileLoaded:!1,locales:r,metaTagsLocales:s,get selectableLocales(){return this._selectableLocales||(this._selectableLocales=t.difference(this.locales,this.nonSelectableLocales)),this._selectableLocales},get nonSelectableLocales(){var e=b.dynamics.nonSelectableLocales;return e?e.split(","):[]},getMappedLocaleToCode:function(e){return g[e]},resetLocales:function(e,t){if(a(e),O.locales=r,O.defaultLanguage=e?"en-us":"en-gb",O._selectableLocales=null,n.$emit("app:locales:reset",{}),e&&"en-us"!==this.language||!e&&"en-us"===this.language){var o=t?t:e?"en-us":"en-gb";this.setLanguage(o)}},isSupportedLocale:function(t){return t&&e.isString(t)?(t=t.toLowerCase(),-1!==r.indexOf(t)):!1},forceUpdateLocalization:function(){var e=this;b.dynamics.whenReady().then(function(){if(b.dynamics.forceUpdateLocalizationEnabled&&O.language){var t=O.language;e._forceUpdateLocalization={code:t};var n=b.dynamics.resourcesVersion.app_localization?"?cv="+b.dynamics.resourcesVersion.app_localization:"";require([l.replace("{culture}",t)+n],function(){delete e._forceUpdateLocalization},function(){delete e._forceUpdateLocalization})}})},setLanguage:function(e){return e||u||(e=t.chain(S).keys().filter(function(e){return-1!=r.indexOf(e)}).first().value()),e&&5===e.length||(e=O.defaultLanguage),e&&e===O.language?h.resolve():(O.language=e||O.defaultLanguage,b.setDynamicKey("languageCode",O.language),n.$broadcast("localize:setLanguage"),c.put("eToroLocale",e,{path:"/"}),O.initLocalizedResources()["finally"](function(){z.resolve()}))},initLocalizedResources:function(){var e=O.language;return this.loadLocal(O.language).then(function(t){var a=f.get("infrastruct.services.localization.localizeTemplatesFactory");a.overrideStatics(),O.language===e&&(O.dictionary=t,O.resourceFileLoaded=!0,a.refreshTemplates()),n.$broadcast("app:language:change:success"),v.logJSON("info","log",{Categories:["localization"],Message:"application language changed",Domain:"Infra"})})},getLocale:function(t){return t=e.isString(t)?t.replace(/_/g,""):"",O.getResource(t)},isSupportedRtlLangues:function(e){return-1!==p.indexOf(e)},isResourceExist:function(e){return O.hasOwnProperty("dictionary")?!!O.dictionary[e]:!1},getResource:function(n,a,o){var i;return e.isObject(O.dictionary)?(i=O.dictionary[n],i?o?i:t.escape(i):a?"":n):n},getResourceInterpolated:function(e,t,n,a){return y(this.getResource(e,n,a))(t)},loadLocal:function(e){var t=S[e];return t?h.resolve(t):h(function(t,a){var o=n.$on("resourceLoaded:"+e,function(){o(),t(S[e])});require([l.replace("{culture}",e)+(b.dynamics.resourcesVersion.app_localization?"?cv="+b.dynamics.resourcesVersion.app_localization:"")],function(){o&&o()},function(t){o&&o(),v.error(new Error("Unable to load culture: "+e+l.replace("{culture}",e))),a(t)})})},whenReady:function(){return z.promise},resourceUpdate:function(t,a,o){this._forceUpdateLocalization&&this._forceUpdateLocalization.code===t&&t===O.language&&S[t]&&e.extend(S[t],a),(o||!S[t])&&(S[t]=a,n.$emit("resourceLoaded:"+t))}},S=i[o],_=!1;return S?w=t.chain(S).keys().filter(function(e){return-1!=r.indexOf(e)}).value():(S=i[o]={},_=!0,v.error(new Error("Resources timed out"))),S.update=m,w&&t.each(w,function(e){m(e,S[e],!0)}),e.extend(O,C),window.setLanguage=O.setLanguage,O}]}return n.$inject=["infrastruct.services.configProvider"],n});define(rA[222][0],["angular","underscore","moduleDefiner"],function(e,t){"use strict";function a(e,t){return t=t.replace(/\_$/,""),'ng-pluralize="" when="'+JSON.stringify({0:t+"Zero_",one:t+"Singular_",other:t+"Plural_"}).replace(/"/gi,"'")+'"'}function r(e,t,a,r){var i=this;i.$rootScope=e,i.$q=t,i.$templateCache=a,i.localizeFactory=r}var i={},n=/\{\{\s*(_[\w\_\.]+_)[\s*]*\}\}/g,c=/\{\{\s*(::)?\s*_(if|dynamic|html)\(([^)]+)\)_\s*\}\}/g,l=/([^,]+\(.+?\))|([^,]+)/g,o=/ng-pluralize="([\w\.\_]*)"/gi,s=/\.html$|\.html\?/i,u=!1;return r.$inject=["$rootScope","$q","$templateCache","infrastruct.services.localization.localizeFactory"],r.prototype={isTemplate:function(e){return s.test(e)},refreshTemplates:function(){this.parsedTemplateCache={},t.each(i,t.bind(function(e,t){this.cacheTemplate(t,e)},this)),this.$rootScope.$broadcast("localizeResourcesUpdates")},parseString:function(e,r){return this.parseFunction(e,r).replace(o,a).replace(n,t.bind(function(e,t){return this.localizeFactory.getLocale((r||"")+t)},this))},parseFunction:function(e,a){return e.replace(c,t.bind(function(e,t,r,i){var n=(i||"").match(l);switch(t=t||"",r){case"if":if(n.length>=3)return n[1]=(n[1]||"").replace(/\s|\'|\"/g,""),n[2]=(n[2]||"").replace(/\s|\'|\"/g,""),n[3]=n[3]||"this","{{"+t+" $root.t.if("+n[0]+',"'+a+'","'+n[1]+'","'+n[2]+'",'+n[3]+") }}";break;case"dynamic":if(n.length>=1)return n[1]=n[1]||"this","{{"+t+' $root.t.dynamic("'+a+'",'+n[0]+","+n[1]+") }}";break;case"html":if(n.length>=1)return n[0]=(n[0]||"").replace(/\s|\'|\"/g,""),n[1]=n[1]||"this",this.localizeFactory.html(a,n[0])}return e},this))},parseTemplateString:function(e){var t,a=this,r=$("<div>").append(e);return r.find("[data-etoro-locale-ns]").each(function(){var e=$(this),t=e.data(),r=e.html(),i=t.etoroLocaleNs,n=i?i+".":"";r=a.parseString(r,n),e.html(r)}),t=r.html(),t.replace(/\ufeff/g,"")},cacheTemplate:function(e,t){return t=t.replace(/\ufeff/g,""),this.$templateCache.put(e,t),t},overrideStatics:function(){var e=this;u||(u=!0,r.put=function(t){i[t.name]=t.text,e.cacheTemplate(t.name,t.text)},t.each(i,function(t,a){e.cacheTemplate(a,t)}))},parsedTemplateCache:{}},r.replaceStaticIncludes=function(e,a){var r=/<div([^>]*)\s(data-)?ui-static-include=\"true\"([^>]*)>([^<]*)<\/div>/gi;a=a||[],a=t.indexBy(a,"name"),e.text=(e.text||"").replace(r,function(e){var t=/ng-include="'((?:.*).view.html)'"/,r=t.exec(e),i=(r[1]||"").replace(/\'|\"/g,"");return a[i]?("<div"+arguments[1]+arguments[3]+">"+a[i].text+"</div>").replace(r[0],""):e})},r.put=function(e){e.text&&(e.text=e.text.replace(/\ufeff/g,"")),i[e.name]=e.text},r});define(rA[221][0],["angular","underscore","moduleDefiner"],function(){function e(e,t,r,a,n,i){function o(e,t){return c.test(t)&&(t=a.parseTemplateString(t),a.parsedTemplateCache[e]=!0,i.put(e,t)),t}var c=/data-etoro-locale-ns/;return function(c,l){return e(function(e,u){var f;return a.isTemplate(c)?void n.whenReady().then(function(){if(f=i.get(c),a.parsedTemplateCache[c])return void e(f);if(f)return f=f.replace(/\ufeff/g,""),void e(o(c,f));var t=c.replace("/etoro/","");require([t],function(t){f=o(c,t.text&&t.text.replace(/\ufeff/g,"")),e(f)},function(){require([t],function(t){f=o(c,t.text&&t.text.replace(/\ufeff/g,"")),e(f)},function(){r.logJSON("error","log",{Message:"error requiring template",Categories:["clientSideInfra","localization"],TemplateUrl:c,Domain:"Infra"}),u()})})}):void t(c,l).then(e)["catch"](u)})}}return e.$inject=["$q","$delegate","$log","infrastruct.services.localization.localizeTemplatesFactory","infrastruct.services.localization.localizeFactory","$templateCache"],e});define(rA[171][0],["angular"],function(r){function t(t,e,n,s){function i(t){return function(n,s){if(u(n)){var i,c=e.get("$http"),o=c.defaults.transformResponse;i=r.isArray(o)?o[0]:o;try{return i(n,s)}catch(f){throw a(f,n,s,t),f.status=0,t.maxRetries=0,f.config=t,f.isBackupUrlRetry=!0,f}}return n}}function a(r,t,e,s){var i=t.length,a=t.substr(0,Math.min(50,i-1)),u=i>50?t.substr(Math.max(i-50,a.length),i-1):"";n.logJSON("error","log",{Categories:["AppError"],Message:"Transform data failed",namespace:"instrumentsFactory",Domain:"Infra",response:{snippet:a+"..."+u,contentLength:i,headers:e()},error:{message:r.message},request:{url:s.url}})}function u(r){return"string"==typeof r}var c=2;return{request:function(r){return r.overrideTransformer&&(r.transformResponse=[i(r)]),r},responseError:function(n){if(n instanceof Error&&n.isBackupUrlRetry){var i=n.config;if(i){var a=r.isNumber(i.retriesNumber)?i.retriesNumber:0;if(s.dynamics.enableBackupUrlRetries&&c>a){i.staticAPI=!1,i.url=i.backupUrl||i.url,i.retriesNumber=++a;var u=e.get("$http");return u(n.config)}n.isBackupUrlRetry=!1}}return t.reject(n)}}}var e=r.module("infrastruct.utils.httpBackupUrlRetry",[]);return e.factory("infrastruct.utils.httpBackupUrlRetry",t),e.config(["$httpProvider",function(r){r.interceptors.push("infrastruct.utils.httpBackupUrlRetry")}]),t.$inject=["$q","$injector","$log","infrastruct.services.config"],e});define(rA[232][0],["angular","underscore",rA[233][0]],function(e,r,t){function n(e,r){return e?r?"[Filtered{"+e.length+"}]":"[Filtered]":"[FilteredEmpty]"}function a(r,t){var a={};return t===!0?a:(e.isObject(t)||(t={}),e.forEach(r||{},function(e,r){a[r]=m.test(r)||t[r]?n(e):e}),a)}function i(r){var t={};return e.forEach(r||{},function(e,r){t[r]=g.test(r)?n(e,!0):e}),t}function o(e){return 0==window.location.href.search(e)}function s(e,r,t,n){try{var a=e.generalParams.Mode(),i=t.actionUrl?t.actionUrl:t.url.split("?")[0],s="";if(S.test(i))s=r.replace(b,"").replace(v,"");else{i=i.replace(h,"");var c=i.match(P);i=i.replace(I,""),c&&c.length&&(s=c[1].replace(b,"").replace(v,""))}i=i.replace(I,"");var u=i.replace(v,"").split("/"),l=o(r),d=["STATUS="+n,"MODE="+a,"URL="+(u[0]+u[1]).replace(/^\./,""),"FRONT="+(s||r),"APP="+(l?"web":"wrapper")].join(".").replace(p,".").replace(q,".");return w.test(d)?d:"getUrlDomain"}catch(g){return"getUrlDomain"}}function c(){this.setLoggerInterval=function(e){r.isNumber(e)&&(t.loggerInterval=e,t.restartPublisher())},this.$get=["$q","infrastruct.services.guid","$window","infrastruct.services.config","$injector","pathDomainService",function(n,o,c,d,g,m){function p(e){var r=e.categories?e.categories:[];return["networkLog"].concat(r)}var v=!1,S=(c.performance,{getPerformanceLogs:function(e,r){var t={isDetailed:!1,RequestTime:e};return r&&(t.RequestTimePreStartTiming=r),t},request:function(t){var n=t.url,a=o(),i=d.statics.baseUrl||"";return t.requestId=a,t.IsRequestIdSent=!1,!d.statics.isUseAbsoluteDomain||t.staticAPI||!e.isString(n)||0!==n.indexOf("/api/")&&0!==n.indexOf("/sapi/")&&0!==n.indexOf("/app/api/")||(n=i+n,t.url=n),t.staticAPI||/\.view\.html/.test(n)||t.addRequestId===!1||(t.params=t.params?r.extend({},t.params):{},t.params.client_request_id=a,t.IsRequestIdSent=!0),t._timing||(t._timing={}),t._timing.start=new Date,t},responseError:function(e,r){r&&e instanceof Error&&(e.cause=r);var o,c=e.config||{},f=e.status,h=u(c),I=s(t,d.calculated.baseUrl,c,f),b=null,P=null;if(c&&c.logData&&(b=c.logData.action),c.retriesNumber&&(P=c.retriesNumber),o={Action:b,ActionGUID:c.requestId,Message:"networkLogError",Categories:p(c),Domain:m.extractDomainFromUrl(c.url),Request:{Url:c.url,ActionUrl:I,Method:c.method,Id:c.requestId,IsIdSent:c.IsRequestIdSent,Params:a(c.data,c.monitoringSecuredCall),Headers:i(c.headers),Status:f,NetworkError:!!(0>=f||null==h),Cause:e.cause},RetriesNumber:P,Performance:S.getPerformanceLogs(h,l(e))},t.logJSON("error","log",o),0===f||-1===f){var L=["/api/users/","/api/sts/","/api/logininfo/","/sapi/trade-real/","/api/billing/","/sapi/trade-real/","/sapi/instrumentsmetadata/"],w=new RegExp(L.join("|").replace(/\//,"\\/"),"i");if(!v&&w.test(c.url)){v=!0;var q=g.get("infrastruct.services.connectivityCheck");q.report({description:"request was aborted",reason:{action:"request",status:"failure"},requestId:c.requestId,loginid:d.dynamics.loginId||"public"})["finally"](function(){v=!1})}}return t.manualPerformance("timing","net."+I,h),n.reject(e)},response:function(e){var r=e.config,n=r.url,o=(r.method||"GET").toUpperCase();if(L.test(n))return e;var c=r.requestId;c&&(n=n.replace(c,"[Filtered]"));var g=e.status,v=s(t,d.calculated.baseUrl,r,g),h=u(r),I=null;if(r&&r.logData&&(I=r.logData.action),r&&!r.disableLog&&("GET"!=o||d.dynamics.logAllOKRequests||!f.test(n))){var b={Action:I,Categories:p(r),Message:"networkLogResponsesOK",Domain:m.extractDomainFromUrl(n),Request:{Id:r.requestId,IsIdSent:r.IsRequestIdSent,ActionUrl:v,Data:a(r.data,r.monitoringSecuredCall),Params:a(r.params),Headers:i(r.headers),Url:n,Method:r.method,Status:g,OriginalStatus:r.originalStatus},Performance:S.getPerformanceLogs(u(r),l(e))};t.logJSON("info","log",b)}return t.manualPerformance("timing","net."+v,h),e}});return S}]}function u(e){return e._timing?(new Date).getTime()-e._timing.start:0}function l(e){var r=e.headers&&e.headers()["accelerated-request-timing-ms"];return r?r:void 0}var d=e.module("infrastruct.utils.appLogger",[]);d.provider("RequestsErrorHandler",c);var g=/authorization|csrf|password/i,m=/password|token/i,f=/streams/i,p=/\//g,v=/\./g,S=/^\//,h=/^(http(s)?\:\/\/|\/\/)/i,I=/^(https?:\/\/)?(.[^\/]*)/i,b=/^http(s)?\:\/\//i,P=/^(.*?)\//i,L=/\.html$/i,w=/\..+\..+\..+/,q=/\.\.+/g;return d.setGeneralParams=function(e){t.setGeneralParams(e)},d.setMonitorParams=function(e){t.setMonitorParams(e)},d.config(["$provide","$httpProvider",function(e,n){e.decorator("$exceptionHandler",["$delegate",function(){return function(e,r){r&&e instanceof Error&&(e.cause=r),t.error(e)}}]),n.interceptors.push("RequestsErrorHandler"),e.decorator("$log",function(){var e=function(e){return r.bind(e,t)};return{log:e(t.log),logJSON:e(t.logJSON),time:e(t.time),timeEnd:e(t.timeEnd),removeTimer:e(t.removeTimer),manualPerformance:e(t.manualPerformance),info:e(t.info),warn:e(t.warn),debug:e(t.debug),error:e(t.error),setGeneralParams:e(t.setGeneralParams),generalParams:t.generalParams}})}]),d.run(["infrastruct.services.config","$window","$rootScope","$log","bl.factories.session.sessionFactory","$document","$location","$injector",function(n,a,i,s,c,u,l,g){function f(){return c.accountMode}function p(){var r,a,i=n.dynamics.monitoring||{},o=i.isFilteringActive,s=i.filters,c={};if(e.isObject(s))for(r in s)s.hasOwnProperty(r)&&(a=v(s[r]),null!==a&&(c[r]=a));else o=!1;t.isFilteringActive=o,t.filters=c}function v(r){var t,n,a={};if(!e.isObject(r))return null;for(t in r){if(n=S(r[t]),null===n)return null;a[t]=n}return Object.keys(a).length?a:null}function S(r){if(!e.isString(r))return null;try{return new RegExp(r)}catch(t){return null}}function h(e){if(!m.test(e))return e;var r,t=e.split("?"),n=t[0],a=t[1],i="";return a&&(r=a.split("&"),r.forEach(function(e){m.test(e)&&(e="[Filtered]&"),i+=e})),n+"?"+i}function I(){var e={},n=a.performance,i={},o=["unloadEvent","redirect","domainLookup","connect","response","loadEvent"];if(n){var s=n.timing;if(r.each(o,function(e){i[e]=s[e+"End"]-s[e+"Start"]}),r.extend(i,r.pick(s,"domLoading","domInteractive","domContentLoaded","domComplete"),{isDetailed:!0,SSLHandShake:s.secureConnectionStart?s.secureConnectionStart-s.connectStart:0,pageLoadSummary:s.loadEventEnd-s.navigationStart,domSummary:s.loadEventEnd-s.domLoading,serverWait:s.responseStart-s.requestStart,scriptLoadTime:e.rs-e.ss,resourceLoadTime:e.bs-e.rs,bootstrapLoadTime:e.be-e.bs,href:h(window.location.href)}),i.pageLoadSummary>0&&i.pageLoadSummary<72e5)return void t.logJSON("info","log",{Categories:["bootstrapPerformance"],performance:i,Domain:"Infra"})}t.logJSON("info","log",{Categories:["bootstrapPerformance"],Domain:"Infra",performance:{isDetailed:!1,scriptLoadTime:e.rs-e.ss,resourceLoadTime:e.bs-e.rs,bootstrapLoadTime:e.be-e.bs}})}function b(){setTimeout(I,1200)}var P=0;d.setGeneralParams({applicationIdentifier:n.statics.ApplicationIdentifier,ApplicationVersion:n.statics.ApplicationVersion,SessionGuid:n.dynamics.sessionGuid,UserSessionGuid:n.dynamics.userSession,IsLoggedIn:function(){return!!c.isLoggedIn},BatchIndex:function(){return P++},Mode:function(){return f()},CID:function(){return c.isLoggedIn?g.get("bl.factories.trading.portfolio.accountFacade").account.cid:void 0},Username:function(){return c.isLoggedIn&&c.user?(c.user.username||"").toLowerCase():void 0}}),d.setMonitorParams({MODE:f(),APP:o(n.calculated.baseUrl)?"web":"wrapper"}),i.$on("appConfig:change",function(e,r){r.includes(/^((monitoring\.isFilteringActive)|(monitoring\.filters\.[^\.]+))$/)&&p()}),n.query.disableLogger&&!/etoro\.com/.test(l.absUrl())&&(t.send=function(){}),"complete"==u[0].readyState||"interactive"==u[0].readyState?b():u.on("DOMContentLoaded",b),t.onScreen=!!n.query.onScreenLogging,t.isVisual=n.browser.isVisualDebug,window.onerror=function(e,r,t,n,a){(r||t||n||a)&&s.error("[ERROR] - uncaught exception "+e+" url:"+r+"("+t+","+n+")"+(a&&a.stack?" stack:"+a.stack:""))}}]),d});define(rA[233][0],["underscore","angular",rA[141][0]],function(t,e,n){function r(t,e,n){var r=this;r.level=t,r.type=e,r._array=n,r.stack=null;var i=r.localTime=new P;r.startUp=i-_}function i(t){var e={};return t&&"object"==typeof t?(Object.keys(t).forEach(function(n){var r=n.replace(/(?:^):?([a-z])/g,function(t){return t.toUpperCase()});e[r]=t[n]}),e):e}function o(t){t=t||{},this.isVisual=1==t.visual,this.onScreen=1==t.onScreen,this._logs=[],this.loggerInterval=5e3,this.startPublisher(),this.generalParams={},this.monitorParams={},this.labelTimers={},this.duplicateMonitoring=!0,this.send=t.send||d,this.isFilteringActive=!1,this.filters={},this.apiUrl=n.urls.monitoringUrl}function a(e,n){M&&t.each(n,function(t){t instanceof C?M[e].apply(M,[t.stack||t]):M[e].call(M,t)})}function s(t,e){return e.monitoring&&e.monitoring.verboseMode&&e.monitoring.verboseMode[t.domain]}function u(e,n,i){return new r(e,n,t.toArray(i))}function c(t){return parseInt((0|t)/1e3)}function l(t){return t==O||t==k}function f(t){return t.duplicatable&&!l(t.type)}function h(t){return(t||"NoTackTrace").replace(/^"/,"").replace(/"$/).replace(/\(?http(s)?\:\/\/(.*)\)?/g,"")}function g(e){var n=null;try{var r=(e||"").match(E);if(r){var i=r[0].replace(D,"").replace(R,""),o=i.split(":"),a=o[0],s=Number(o[1]),u=Number(o[2]);if(s>10){var c=s;t.each(depsMap,function(t,e){var r=t.position;if(r&&r.fy&&r.script==a){var i=s-r.fy;i>0&&c>i&&(c=i,n=e)}})}else{var l=u;t.each(depsMap,function(t,e){var r=t.position;if(r&&r.fx&&r.script==a){var i=u-r.fx;i>0&&l>i&&(l=i,n=e)}})}return{foundModule:n,line:s,column:u}}}catch(f){}return{foundModule:null}}function p(t){var e;try{e=(t||"").toString()}catch(n){e="Not accecable obj"}if(e==w)try{e=JSON.stringify(t)}catch(r){e=null}return e}function m(t){var n=e.element("<div>"+t+"</div>");n.on("click",function(){n.remove()}),v().append(n)}function v(){return x?x:(x=e.element('<div style="width: 100%;z-index: 40000;position: fixed;background: #fff;color: #000;"></div>'),e.element("body").prepend(x),x)}function d(t,e,n){function r(){n&&n.apply(this,arguments)}var i,o=b();o.open("POST",t,!0);try{i=JSON.stringify(e),o.send(i),o.onreadystatechange=function(){if(4==o.readyState){var t=o.status;t&&400!=t&&404!=t&&500!=t||r(o,o.status)}},o.onerror=function(){r(o,o.status)}}catch(a){}}function y(e){var n={};return t.each(e,function(r,i){n[i]=t.result(e,i)}),n}function b(){return new window.XMLHttpRequest}var M=this.console,P=this.Date,_=new P,C=this.Error,I="INFO",S="DEBUG",T="WARN",j="ERROR",w="[object Object]",O="text",k="log",N="eToroWeb.client.",L=30;t.extend(r.prototype,{toString:function(){var e=this._array;return e&&!this.shouldNotDisplayMessageInLog?t.reduce(e,function(t,e){var n=p(e);return t+n},""):void 0},toJSON:function(e){var n,r,o=this;return o.type==O||o.type==k?(n=t.extend({ClientDateTime:o.localTime.toJSON(),Message:o.toString(),SecondsFromStartUp:c(o.startUp),Level:o.level.toLowerCase(),Stack:o.stack,Cause:o.cause,ErrorInModule:o.errorInModule,ErrorLine:o.line,ErrorColumn:o.column,Timer:o.timer},e,o.json||{}),n.Categories||(n.Categories=[n.Message]),n.Categories=n.Categories.join("_"),r=i(n)):r={Type:o.type,Path:N+o.path,Value:o.timer},r}}),t.extend(o.prototype,{Logger:o,push:function(t){this._logs.push(t),this._logs.length>=L&&this.report()},report:function(){var e=this,n=y(e.generalParams),r=y(e.monitorParams),i=e._logs.splice(0,L),o=!0,a=t.chain(i).filter(function(t){return!l(t.type)}).collect(function(t){return t.toJSON(r)}).value(),s=t.chain(i),u=s.each(function(t){e.duplicateMonitoring&&f(t)&&(t.type=k)}).filter(function(t){return l(t.type)}).collect(function(t){return t.toJSON(n)}).reject(function(t){return e.isFilteringActive?e._loggerConfigReject(t,e.filters):!1}).value(),c={};a.length&&(c.MonitorEvents=a),c.LogEvents=u.length?u:[],o&&e.send(e.apiUrl+"/api/v2/monitoring?applicationIdentifier=ReToro",c,0,3)},startPublisher:function(){var t=this;this.publisherInterval=setInterval(function(){t._logs.length>0&&t.report()},t.loggerInterval)},restartPublisher:function(){clearInterval(this.publisherInterval),this.startPublisher()},_getMonitorData:function(t,e){var n=this;if(!t||!e)return t;var r=["CATEGORY="+e],i=Object.keys(n.monitorParams).map(function(t){return t+"="+n.monitorParams[t]}),o=Object.keys(t).map(function(e){return e+"="+t[e]});return r.concat(i,o).join(".")},manualPerformance:function(t,e,n,i){var o,a=new r("info",t);switch(a.path=this._getMonitorData(e,i),t.toLowerCase()){case"timing":a.timer=n,o=t}o&&this.push(a)},time:function(t,e,n){this.labelTimers[t]={time:new P,category:n||t,path:this._getMonitorData(e,n)}},timeEnd:function(e,n,r,i){var o=this.labelTimers[e];if(o){var a=new P-o.time,s=t.toArray(arguments);s.splice(0,1);var c=u("info","Timing",s);c.path=this._getMonitorData(n,i)||o.path,c.timer=a,c.duplicatable=!0,c.json=t.extend(r||{},{Categories:[o.category]}),i&&(t.extend(c.json,n),c.shouldNotDisplayMessageInLog=!0),this.push(c),delete this.labelTimers[e]}},removeTimer:function(t){var e=this.labelTimers[t];e&&delete this.labelTimers[t]},info:function(){var t=u(I,O,arguments);(!t.verboseMode||s(t,n))&&(t.Categories=["InlineInfo"],this.push(t),this.visualLog("info",t._array))},debug:function(){var t=u(S,O,arguments);t.Categories=["InlineDebug"],this.push(t),this.visualLog("log",t._array)},warn:function(){var t=u(T,O,arguments);(!t.verboseMode||s(t,n))&&(t.Categories=["InlineWarning"],this.push(t),this.visualLog("warn",t._array))},error:function(t){var e=u(j,O,arguments);if(!e.verboseMode||s(e,n)){if(e.Categories=["InlineException"],t instanceof C){e.stack=h(t.stack);var r=g(t.stack);e.errorInModule=r?r.foundModule:null,e.line=r?r.line:null,e.column=r?r.column:null,e.cause=t.cause}this.push(e),this.visualLog("error",e._array)}},logJSON:function(e,n){var i=new r(e,n);i.json=t.extend.apply(t,t.rest(arguments,2)),this.push(i);var o=i.Message||"no message";try{o=JSON.stringify(i.json)}catch(a){o+="failed to stringify"}this.visualLog(e,[o])},setGeneralParams:function(t){this._setParams(t,this.generalParams)},removeGeneralParams:function(t){this._removeParams(t,this.generalParams)},setMonitorParams:function(t){this._setParams(t,this.monitorParams)},removeMonitorParams:function(t){this._removeParams(t,this.monitorParams)},_setParams:function(e,n){t.each(e,function(t,e){n[e]=t})},_removeParams:function(e,n){t.each(e,function(t){delete n[t]})},visualLog:function(e,n){this.isVisual&&a(e,n),this.onScreen&&t.each(n,m)},_loggerConfigReject:function(e,n){return e&&n?t.any(n,function(n){return 0===Object.keys(n).length?!1:t.all(n,function(t,n){return!!e[n]&&e[n].match(t)})}):!1},_safeGetCookie:function(t){try{var e="; "+document.cookie,n=e.split("; "+t+"=");if(2==n.length)return n.pop().split(";").shift()}catch(r){return}}}),o.prototype.log=o.prototype.debug;var x,E=/\http(s)?\:\/\/(.*)/,D=/\)$/,R=/http(s)?\:\/\/[\w\.\d\:]+/;return new o({visual:!0})});define(rA[206][0],["moduleDefiner","angular"],function(r,e){function n(r){function n(n,o,t){for(var l=e.module(n)._invokeQueue,i=0;i<l.length;i++){var u=l[i];"$controllerProvider"==u[0]&&"register"==u[1]&&u[2][0]==o&&r.register(o,u[2][1])}t()}return{register:function(r,o,t){var l=o.replace(/\//g,"."),i=t.resolve;return i||(i=t.resolve={}),i.controller&&e.isString(i.controller)&&(l=i.controller),i.requiredController=["$q",function(e){return e(function(e,t){require([o],function(o){o(r,l);try{n(r.name,l,e)}catch(i){t(new AppError("ControllerResolver:error Ctrl",r.name,l,null,(i||"").toString()))}},function(){t(new AppError("ControllerResolver:Unable to load",r.name,l))})})}],t.controller||(t.controller=l),t}}}var o=r("ctrlResolver");return o.provider(o.name,["$controllerProvider",function(r){e.extend(this,new n(r)),this.$get=["$controllerProvider",function(r,e){return this.$q=e,this}]}]),o});define(rA[211][0],["angular","underscore","moduleDefiner"],function(e,r,t){"use strict";var a,o="peopleApp";return a=t(o,["ngRoute","ngSanitize"]).config(["$routeProvider",function(r){function t(e,r){var t=e&&e.params&&e.params.activeTab||{};return m[t]?m[t]:r||"UserPage"}function a(e){return e&&e.current&&e.current.params&&e.current.params.name}function o(e,r,t){return t(function(t,o){var n=a(r);if(!n)return void o({message:"Username was not found in people URL",namespace:"peopleApp",type:"RouteError"});var s=e.get("userService");s.getUserPageData(n).then(function(e){var r=e.user;return r&&2===r.accountStatus?void o():void t(e)})["catch"](o)})}function n(e){var r=["feed","stats","portfolio","chart"],t=e.current&&e.current.params&&e.current.params.activeTab||"feed";return-1===r.indexOf(t.toLowerCase())&&(t=null),t}function s(e){return{sharePages:{showShareButton:!0,urlKey:function(e){return t(e,"UserPage")}},activeTab:"feed",template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',keepUrl:function(r,t){return t&&t.params?e+"/"+t.params.name:!1},resolve:{activeTab:["$route","$q",function(e,r){var t=n(e);return t?r.resolve(t):r.reject()}],userPageData:["$injector","$route","qs","$location",function(r,t,a,n){return o(r,t,a).then(function(r){var t=r.user;return("/smartportfolios"===e&&"fund"!==t.SubType||"/people"===e&&"user"!==t.SubType)&&n.url(t.Url).replace(),r})}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}],userName:["$route","qs",function(e,r){return r(function(r,t){var o=a(e);return o?void r(o):void t({message:"Username was not found in people URL",namespace:"peopleApp",type:"RouteError"})})}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/people/index.view.html",localeCustomKeys:{title:function(e){return e&&e.pathParams&&e.pathParams.activeTab?"people.index.pageTitle."+("fund"===e.SubType?"fund.":"")+e.pathParams.activeTab:"people.index.pageTitle"+("fund"===e.SubType?".fund":"")}},noFollow:function(e){return!e||e.optOut?!0:e.isPi||-1!==[13,9].indexOf(e.accountType)||"YoniAssia"===e.username?!1:!0},resolve:["$route","$q",function(e,r){return r(function(r,t){e.current&&e.current.locals&&e.current.locals.userPageData?r(e.current.locals.userPageData.user):t({})})}]},abTests:[{projectName:"Retention",experimentName:"user_page_top_x_badge_for_popular_investors"},{projectName:"Retention",experimentName:"user_page_sticky_share_cta",request:["UIBreakpointsService","$rootScope",function(e,r){return e.isMobile&&r.session.isLoggedIn}]}]}}var i={template:"",controller:["$location","$rootScope",function(e,r){var t=e.search(),a=r.session&&r.session.user?r.session.user.username:"";return a?void e.path("/people/"+a+"/stats").search(t):void e.path("/")}]};r.when("/my/user-stats-page",i),r.when("/my/user-stats-page*?",i),r.when("/funds/:name",{redirectTo:"/smartportfolios/:name"}),r.when("/funds/:name/:activeTab",{redirectTo:"/smartportfolios/:name/:activeTab"}),r.when("/funds/:name/:activeTab/:innerTabRoute*?",{redirectTo:"smartportfolios/:name/:activeTab/:innerTabRoute*?"}),r.when("/funds/:name/:activeTab/:mode?",{redirectTo:"funds/:name/:activeTab/:mode?"});for(var u,p,c=["/people","/smartportfolios"],l=[{url:"/:name/:activeTab/history",portfolioHistoryTab:"history"},{url:"/:name/:activeTab/history/market/:id",portfolioHistoryTab:"historyMarket"},{url:"/:name/:activeTab/history/people/:id",portfolioHistoryTab:"historyPeople"},{url:"/:name/:activeTab/history/people/:mirrorName/:id",portfolioHistoryTab:"historyPeopleMirror"}],m={feed:"UserPage",chart:"UserPageChart",stats:"UserPageStats",portfolio:"UserPagePortfolio"},f=0;f<c.length;f++){u=s(c[f]),p=e.merge({},u,{sharePages:{showShareButton:!0,urlKey:function(e){return t(e,"UserPage")}},activeTab:"portfolio",chartBaseUrl:c[f]+"/{{name}}/portfolio/chart/",metaTags:{noFollow:!0}});for(var h=0;h<l.length;h++)!function(a,o,n){r.when(a,e.merge({},n,{activeTab:"portfolio",sharePages:{showShareButton:!0,urlKey:function(e){return t(e,"UserPagePortfolioHistory")}},resolve:{upgradeComponent:function(){return o},redirectIfNoParams:["$route","$location",function(e,r){if("historyPeople"===o){if(!e.current.params)return void r.path("/people/"+e.current.pathParams.name+"/portfolio/history")}else if(!("historyPeopleMirror"!==o||e.current.params.mirrorName&&e.current.params.id))return void r.path("/people/"+e.current.pathParams.name+"/portfolio/history")}]}}))}(c[f]+l[h].url,l[h].portfolioHistoryTab,u);r.when(c[f]+"/:name",u),r.when(c[f]+"/:name/:activeTab",p),r.when(c[f]+"/:name/:activeTab/:innerTabRoute*?",p),r.when(c[f]+"/:name/:activeTab/:mode?",p)}}])});define(rA[236][0],["angular","moduleDefiner",rA[206][0],rA[256][0]],function(o,e,t,r){"use strict";var n,i="optionsApp";n=e(i,["ngRoute","ngSanitize",t,r]);var s={enabled:["$q","infrastruct.services.config",function(o,e){return e.dynamics.options.enabled?o.resolve(!0):o.reject()}],mode:["$q","$route",function(o,e){return o.resolve(e&&e.current&&e.current.params&&e.current.params.mode||null)}]};return n.config(["$routeProvider",function(e){e.when("/portfolio/options/breakdown/:symbolFull",{template:'<eto-options-portfolio-details ng-if="$resolve.enabled" [instrument]="$resolve.instrument" [mode]="$resolve.mode"></eto-options-portfolio-details>',authRoles:["user"],mainNavId:"portfolio",resolve:o.extend({},s,{instrument:["$q","$route","bl.factories.trading.instruments.instrumentsGroupsFactory","bl.factories.trading.instruments.instrumentsFactory",function(o,e,t,r){var n=e&&e.current&&e.current.params&&e.current.params.symbolFull;return n||o.reject(),t.init().then(function(){var e=r.getBySymbol(n);return e?e:o.reject()})}]})}),e.when("/portfolio/options",{template:'<eto-options-portfolio-all ng-if="$resolve.enabled" [mode]="$resolve.mode"></eto-options-portfolio-all>',authRoles:["user"],mainNavId:"portfolio",resolve:o.extend({},s)}),e.when("/portfolio/options/history",{template:'<eto-options-history ng-if="$resolve.enabled"></eto-options-history>',authRoles:["user"],mainNavId:"portfolio",resolve:o.extend({},s)}),e.when("/portfolio/options/onboarding",{template:'<eto-options-onboarding ng-if="$resolve.enabled" [mode]="$resolve.mode"></eto-options-onboarding>',authRoles:["user"],mainNavId:"portfolio",resolve:o.extend({},s)})}]),n});define(rA[256][0],["angular",rA[249][0],rA[81][0],rA[82][0],rA[80][0],rA[79][0],rA[164][0],rA[165][0],rA[130][0]],function(r,t,e,i,s,f,a,n,l){"use strict";var c=r.module("infrastruct.filters",[t.name]);return c.filter("currencyparser",f),c.filter("percentageparser",a),c.filter("tofixed",e),c.filter("unitsOpenClose",i),c.filter("formatRate",s),c.filter("zeroesFormater",n),c.filter("math",l),c});define(rA[81][0],[],function(){function n(){return function(n,t){return n?toFixedSting(n,t):n}}return n});define(rA[82][0],[],function(){function e(e){var r=5;return function(n,i,t,o){return o=o||!1,0===n?e("number")(n,2):i&&i.isAmericanPrecision?e("zeroesFormater")(n,r):0!==t&&i?o?e("zeroesFormater")(n,t||i.Precision):e("tofixed")(n,t||i.Precision):n}}return e.$inject=["$filter"],e});define(rA[80][0],[],function(){function r(r){return function(n,t){if(!t)return n;var e=1>n?t._Precision:t.AboveDollarPrecision;return r("tofixed")(n,e)}}return r.$inject=["$filter"],r});define(rA[79][0],[],function(){function r(r){var t="$";return function(n,e,i,u,f){var s,a,c,o,b=f||t,l=u===!1?"":b;if(!n&&0!==n||isNaN(n))return n;if(e=e||0,s=n.toString(),-1!==(a=s.indexOf(b))&&(s=s.substr(0,a)+s.substr(a+b.length)),c=s.charAt(0),"-"===c?s=s.substring(1):c="",o=parseToFloat(n),0===o&&(c=""),i&&0!==o){if(o>-.01&&0>o)return">-"+l+"0.01";if(.01>o&&o>0)return"<"+l+"0.01"}return c+l+r("number")(s,e>0?e:0)}}return r.$inject=["$filter"],r});define(rA[164][0],["angular"],function(r){function e(e){return function(n,t){if(0===n)return"0%";if(!n||isNaN(n))return n;if(t=r.isDefined(t)?t:2,r.isNumber(n)||(n=parseToFloat(n)),Math.abs(n)<.01){if(n>-.01&&0>n)return">-0.01%";if(.01>n&&n>0)return"<0.01%";if(0===n)return"0%"}return n=parseFloat(toFixedSting(n,t)),(0===n?0:e("number")(n,t))+"%"}}return e.$inject=["$filter"],e});define(rA[165][0],["angular"],function(){function t(){return function(t,r,n){if(isNaN(t))return t;(isNaN(n)||0>n)&&(n=2);var e=t,i=t.toString().split(".");return e=i&&(i.length<=1||i[1]&&i[1].length<n)?e.toFixed(n):toFixed(t,r)}}return t});define(rA[130][0],["underscore"],function(n){function t(){return function(t,r){return!Math[r]||isNaN(t)?t:Math[r].apply(null,[t].concat(n.rest(arguments,2)))}}return t});define(rA[250][0],["angular","underscore","moduleDefiner",rA[260][0],rA[245][0],rA[237][0]],function(e,o,r,t,a,i){"use strict";var n=r("traderApp",["ngRoute","ngSanitize",t,a,i]);return n.config(["$routeProvider",function(e){var o={sharePages:{showShareButton:!0,urlKey:"MyUserPagePortfolio"},template:"",authRoles:["user"],mainNavId:"portfolio",contentLoaderId:"portfolio",resolve:{whichPage:["$q","$location",function(e,o){return o.path("/portfolio/overview").replace(),e(function(){})}]}};e.when("/portfolio-page",o),e.when("/app/portfolio-page",o),e.when("/portfolio",o).when("/portfolio/overview/:activeState?",{template:'<et-portfolio-overview [active-state]="$resolve.activeState" (deposit-clicked)="$resolve.loadFundYourAccount()" [page-id]="$resolve.pageId" [portfolio-insights-data]="$resolve.portfolioInsightsData" [ab-tests-results]="$resolve.abTestsResults"></et-portfolio-overview>',contentLoaderId:"portfolio",abTests:[{projectName:"Trading",experimentName:"portfolio_real_time_market_filter"}],resolve:{activeState:["$route","$q","infrastruct.ui.uiIfBreakpoint",function(e,o,r){var t=e.current&&e.current.params&&e.current.params.activeState||r&&r.isMobile&&JSON.parse(localStorage.getItem("portfolioViewMode"));return o.resolve(t)}],pageId:["bl.factories.settings.trading","$q",function(e,o){return o(function(o){e.getCurrentPage().then(function(e){o(e.id)})})}],loadFundYourAccount:["bl.factories.payments.deposit.depositLoader","$q",function(e,o){var r=e.loadFundYourAccount.bind(e);return o.resolve(r)}],portfolioInsightsData:["$rootScope","$q","$injector",function(e,o,r){var t="hasDismissedPortfolioInsights_"+e.session.user.username,a={isTestActive:!1,hasUserDismissedTooltip:!1,localStorageKey:t};return o(function(e){var o=r.get("portfolioInsightsAbTestService");o.isVariantActive().then(function(e){a.isTestActive=e,a.hasUserDismissedTooltip=!!localStorage.getItem(t)})["catch"](function(){})["finally"](function(){e(a)})})}],redirect:["$q","$location","$rootScope",function(e,o,r){var t=function(){return"/portfolio/overview"===o.path()?12===r.session.user.designatedRegulationId?void o.url("/portfolio/options?mode=stocks").replace():void setTimeout(t,500):void 0};return t(),e.resolve()}]},authRoles:["user"],showFooter:!0,mainNavId:"portfolio"}).when("/portfolio/orders",{authRoles:["user"],mainNavId:"portfolio",showFooter:!0,resolve:{redirect:["$q","$location",function(e,o){var r=o.search().groupId;return o.url(r?"/portfolio/breakdown/"+r:"/portfolio/overview").replace(),e(function(){})}]}}).when("/portfolio/recurring-plans",{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',authRoles:["user"],mainNavId:"portfolio"}).when("/portfolio/breakdown/:id",{template:'<et-portfolio-breakdown [group-id]="$resolve.groupId"></et-portfolio-breakdown>',authRoles:["user"],showFooter:!0,mainNavId:"portfolio",resolve:{groupId:["$q","$route",function(e,o){var r=o&&o.current&&o.current.params&&o.current.params.id;return e.resolve(r)}]}}).when("/portfolio/breakdown/:id/copy-history",{template:'<et-portfolio-copy-history [group-id]="$resolve.groupId"></et-portfolio-copy-history>',authRoles:["user"],showFooter:!0,mainNavId:"portfolio",resolve:{groupId:["$route","$q",function(e,o){var r=e&&e.current&&e.current.params&&e.current.params.id;return o.resolve(r)}]}}).when("/portfolio/breakdown/:group/:id",{template:'<et-portfolio-breakdown [group-id]="$resolve.groupId" [positions-group-name]="$resolve.groupName"></et-portfolio-breakdown>',authRoles:["user"],showFooter:!0,mainNavId:"portfolio",resolve:{groupId:["$route","$q",function(e,o){return o.resolve(e.current.params.group)}],groupName:["$route","$q",function(e,o){return o.resolve(e&&e.current&&e.current.params&&e.current.params.id)}]}}).when("/app/trade-shortcut",{template:"",authRoles:["user"],resolve:{openPopup:["$location","$rootScope","$analytics","apps.trader.portfolio.portfolioActionsEvents","bl.factories.trading.tradeItems.usersFacade","bl.factories.trading.instruments.instrumentsFactory","$q","infrastruct.services.config","bl.factories.session.sessionFactory",function(e,o,r,t,a,i,n,s,l){return n(function(){var n=e.search().action?e.search():s.query,u="copy"===n.action?a.getByUserNameAsPromise(n.copy_username):i.init().then(function(){return i.getBySymbol(n.symbol)}),p=n.landing_page,c=function(r){if(!r)return void e.path("/").replace();p||e.path(r.Url).replace();var a=o.session.user;return a?a.isValidForExpressCheckout().then(function(o){n.isExpressCheckout=o,t.handleAutoExecutionPopup(r,n,e.path())}):void 0};u.then(function(o){return o?(r.eventTrack("Open Trade Deeplink",{"Copied Username":n.copy_username,Symbol:n.symbol}),void(l.assertIsAuthorized("user",o,!1,c.bind(null,o))&&c(o))):void e.path("/").replace()}),p&&"/app/trade-shortcut"!=p&&e.path(decodeURI(p)).replace()})}]}}).when("/app/trade-shortcut/pricealert",{template:"",authRoles:["user"],resolve:{openPopup:["$location","apps.trader.portfolio.portfolioActionsEvents","bl.factories.trading.instruments.instrumentsFactory",function(e,o,r){var t=new URLSearchParams(location.search),a=t.get("symbol"),i=a&&r.getBySymbol(a);i?(o.openPriceAlert(i,"RouteShortCut"),e.path(i.Url)):e.path("/")}]}}).when("/app/trader/bsl",{template:"",authRoles:["user"],resolve:{openPopup:["$location","$q","$injector","infrastruct.services.config","uiDialog",function(e,o,r,t,a){return o(function(){var o=r.get("bl.factories.trading.portfolio.accountFacade"),i=o.account&&"Real"===o.account.type;i&&a.open({template:'<div class="cdk-global-overlay-wrapper" style="justify-content:center;align-items:center;" ><et-execution-blocked-alert class="cdk-overlay-pane" (close)="closeThisDialog()"></et-execution-blocked-alert></div>',plain:!0,allowNavigation:!0,className:"execution-blocked-alert"});var n=t.query.landing_page||"/";"/app/trader/bsl"!=n&&e.path(decodeURI(n)).replace()})}]}}).when("/app/kyc/:kycDeepLink",{template:"",authRoles:["user"],resolve:{openKyc:["$q","kycRolloutService","$route","$location","infrastruct.services.config","$parse",function(e,o,r,t,a,i){return e(function(){var e=i("current.params.kycDeepLink")(r);if(e){var n={deepLink:e};o.loadVolunteerModal(n)}t.path("/").search(a.query||t.search())})}]}}).when("/portfolio/buying-power",{authRoles:["user"],template:"<et-buying-power></et-buying-power>"})}]),n});define(rA[260][0],["angular","underscore",rA[178][0],rA[134][0],rA[224][0],rA[103][0],rA[101][0],rA[104][0],rA[169][0],rA[174][0],rA[173][0],rA[198][0],rA[172][0],rA[201][0],rA[142][0],rA[177][0],rA[252][0],rA[196][0],rA[248][0],rA[219][0],rA[195][0],rA[220][0],rA[239][0],rA[249][0],rA[197][0],rA[223][0],rA[170][0],rA[175][0]],function(r,s,e,t,i,c,a,n,u){"use strict";var v=s.toArray(arguments),f=9,o=s.pluck(v.slice(f,v.length),"name"),l=r.module("infrastruct.services",o);return l.factory("infrastruct.services.charts.chartsProvider",a),l.factory("infrastruct.services.guid",n),l.factory("infrastruct.services.loader",c),l.factory("infrastruct.services.locationParams",t),l.service("infrastruct.services.viewKeeper",e),l.service("qs",i),l.service("infrastruct.services.authCheckService",u),l});define(rA[178][0],["angular"],function(t){function e(t,e,i,s,o){this.$route=t,this.$rootScope=e,this.$location=i,this.config=s,this.$timeout=o,this._lastRoute,this._lastPath,this._newPath,this._routeTimeout,this._lastEventData}return e.$inject=["$route","$rootScope","$location","infrastruct.services.config","$timeout"],e.prototype={init:function(e){t.isDefined(this.config.query.isViewKeeperDisabled)&&this.config.query.isViewKeeperDisabled||(this.originKeepRoute=this._keepRoute(),this._lastRoute=this.$route.current,this._lastPath=this.$location.path(),e.$on("$locationChangeSuccess",this._eventHandler.bind(this)))},_eventHandler:function(){var e,i;this._routeTimeout&&this.$timeout.cancel(this._routeTimeout),this._newPath=this.$location.path(),e=this._keepRoute(),e&&e===this.originKeepRoute?(i=t.copy(this.$route.current),this._lastEventData={nextRoute:i},this._copyRouteData(),this._routeTimeout=this.$timeout(function(){this.$rootScope.$broadcast("viewKeeperChangeSuccess",[this._newPath,i],[this._lastPath,this._lastRoute]),this._lastPath=this._newPath}.bind(this),100)):this._lastEventData=null},getLastEventData:function(){return this._lastEventData},_keepRoute:function(){var e=this.$route.current.$$route,i=!1;return e&&e.keepUrl&&(i=t.isFunction(e.keepUrl)?e.keepUrl(this._lastRoute,this.$route.current):e.keepUrl),i},_copyRouteData:function(){this.$route.current&&(this.$route.current.locals&&(this._lastRoute.locals=this.$route.current.locals),this._lastRoute.$$route&&this.$route.current.$$route&&(this._lastRoute.$$route.chartBaseUrl=this.$route.current.$$route.chartBaseUrl),this._lastRoute.params=this.$route.current.params,this._lastRoute.pathParams=this.$route.current.pathParams),this.$route.current=this._lastRoute}},e});define(rA[134][0],["underscore"],function(r){function n(n){return{search:function(t){var e={};if(!t)return r.each(n.search(),function(r,n){e[n.toString().toLowerCase()]=r}),e;e=n.search();var o=r.find(e,function(r,n){return t.toString().toLowerCase()===n.toLowerCase()});try{o=JSON.parse(o)}catch(a){}return o},toQueryParams:function(n){if(!n)return n;var t="";return r.each(n,function(r,n){t+=n+"="+r+"&"}),t&&(t=t.substring(0,t.length-1)),t}}}return n.$inject=["$location"],n});define(rA[224][0],["angular","underscore",rA[104][0]],function(t,e,n){"use strict";function r(r,i){function s(t,e,r){t=t||{},this.level=e?e:"error",t=t||{},t instanceof s?(this.ancestor=t.ancestor,this.parent=t,this.index=t.index,this.data=t.data,this.status=t.status,this.childrenNum=0,this.type=t.type):(this._guid=r?r:n(),this.ancestor=this,this.childrenNum=0,this.index="1",this.data={},this.status=t.status,t.hasOwnProperty("data")&&(this.data=t.data,t.shouldPersistData||delete t.data),this.parent=null,this.type=t.hasOwnProperty("type")?t.type:"",this.setContext(t,e,1))}function a(t){return r(function(e,n){t(e,function(t,e,r){var i=t;t instanceof s||(i=new s(t,e,r)),n(i)})})}function o(){var t=r.defer();return t.reject=u(t,t.reject),t}function u(t,e){return function(n,r,i){n instanceof s||(n=new s(n,r,i)),e.call(t,n)}}return window.tempAppLog=s,s.prototype={setContext:function(t,n,r){var s=r?this:this.clone();s.parent&&(s.parent.childrenNum++,s.index=s.parent.index+"."+s.parent.childrenNum,t.hasOwnProperty("data")&&(s.data=t.data,delete t.data)),s.type=t.type?t.type:s.type,n=n?n:s.level,t.ActionGUID=s.guid,t.ActionIndex=s.index,t.domain="Infra";var a="error"===n?["AppError"]:["AppLog"];return e.has(t,"Categories")||(t.Categories=a),i.logJSON(n,"log",t),s},get guid(){return this.ancestor._guid},clone:function(){var t=new s(this,this.level);return t}},t.extend(a,r),a.defer=o,a}return r.$inject=["$q","$log"],r});define(rA[103][0],[],function(){function n(n){return{get isLoading(){return n.isLoading},show:function(){n.show()},hide:function(){n.hide()},applyShow:function(){n.show()},applyHide:function(){n.hide()}}}return n.$inject=["LoaderService"],n});define(rA[101][0],[],function(){function i(){return{getSize:function(i,t){if(!i)return null;t=t||i.getContext("2d");var e,a,n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,h=n/r;return n!==r?(e=i.width/h,a=i.height/h):(e=i.width,a=i.height),{width:e,height:a,ratio:h,originalWidth:i.width,originalHeight:i.height}},resizeCanvas:function(i,t,e,a){if(i&&(t&&(e=i.parentNode.clientWidth,a=i.parentNode.clientHeight),0!==e||0!==a)){{var n=document.createElement("canvas"),r=n.getContext("2d");i.getContext("2d")}n.width=e,n.height=a,r.clearRect(0,0,n.width,n.height);var h=this.getSize(n,r);n.width=h.originalWidth*h.ratio,n.height=h.originalHeight*h.ratio,r.drawImage(i,0,0,n.width,n.height),r.scale(h.ratio,h.ratio),i.width=n.width,i.height=n.height,i.style.width=h.originalWidth+"px",i.style.height=h.originalHeight+"px";var l=angular.element(i).data("infrastruct.services.charts.data");return this.sparkLines(i,l.data,l.min,l.max,h.originalWidth,h.originalHeight),i}},sparkLines:function(i,t,e,a,n,r){if(null!=t&&window.HTMLCanvasElement){n=i.width=n||i.parentNode.clientWidth,r=i.height=r||i.parentNode.clientHeight;var h,l=i.getContext("2d"),o=t.length,g=n/o,d=0,c=3.5,s=this.getSize(i,l);s&&(i.width=s.originalWidth*s.ratio,i.height=s.originalHeight*s.ratio,i.style.width=s.originalWidth+"px",i.style.height=s.originalHeight+"px",l.scale(s.ratio,s.ratio)),l.beginPath(),l.lineWidth=c,l.strokeStyle="#2c9dd7",l.fillStyle="#E9F5FB",e||(e=Math.min.apply(null,t)),a||(a=Math.max.apply(null,t));var u,w=d;for(h=0;o>h;h++)0===h?w=d:1===h?w+=2*g:w=d+g,d=w,u=this.normalizeHeightValue(t[h],r,e,a),l.lineTo(w,u);return l.stroke(),l.lineTo(w,r),l.lineTo(0,r),l.fill(),angular.element(i).data("infrastruct.services.charts.data",{data:t,min:e,max:a}),l}},normalizeHeightValue:function(i,t,e,a){if(e==a)return 45;var n=(i-e)/(a-e)*-1*t+t;return n+=.05*t,n>t&&(n=t),n}}}return i});define(rA[169][0],["angular"],function(){function e(e,t,i,o,r,s,n,a,c,h){this.$location=e,this.$route=t,this.$log=i,this.$rootScope=o,this.$injector=r,this.$q=s,this.session=n,this.loaderFactory=a,this.config=c,this.performanceService=h}return e.$inject=["$location","$route","$log","$rootScope","$injector","$q","bl.factories.session.sessionFactory","infrastruct.services.loader","infrastruct.services.config","PerformanceService"],e.prototype={_saveUrl:function(){var e=this.$location.path();e&&"/login"!==e&&"/s-login"!==e&&(this.config.query.next=encodeURI(this.$location.url()))},authCheck:function(e,t){var i=t.authRoles;if(window.parent&&-1!==window.location.search.indexOf("captcha")){var o=window.parent.document.getElementById("cf-challenge");o&&o.parentNode.removeChild(o)}this.session.restored?i&&!this.session.isAuthorized(i)&&(e.preventDefault(),e.preventedByAuthorization=!0,this.loaderFactory.show(),this.session.isLoggedIn?this.$log.error("we got into auth:notAuthorized and we not have it yet"):(this._saveUrl(),this.$rootScope.$evalAsync(function(){var e=this.$location.search();this.$location.url("/login").search(e)}.bind(this)),this.$rootScope.$broadcast("auth:notAuthenticated")),this.loaderFactory.hide()):(e.preventDefault(),this.loaderFactory.show(),this._saveUrl(),this.performanceService.mark("sessionRestoreStart"),this.session.restore()["finally"](function(){if(!this._runned){this._runned=!0;var e=decodeURI(this.config.query.next);e&&"undefined"!==e&&(this.$location.url(e),delete this.config.query.next),this.loaderFactory.hide(),this.performanceService.mark("sessionRestoreEnd"),this.performanceService.endFlow("initialLoading",{report:!0}),this.$route.reload()}}.bind(this)))}},e});define(rA[174][0],["angular"],function(t){function r(r,e,n,i){function u(t){return!!t&&(-1===t.status||503===t.status)}function s(r,e){return t.isNumber(r)?r:e}function c(){return i.dynamics.enableMaxRetries}function a(){return i.dynamics.maxRetriesDefaultDelay||500}function o(t,r){return t*Math.pow(2,r)+Math.round(Math.random()*t)}function f(t){return r(function(r){n(r,t)})}var h=3;return{responseError:function(t){var n=t.config||{},i=u(t),m=Math.min(s(n.maxRetries,0),h),p=s(n.retryDelay,a()),l=s(n.retriesNumber,0);return c()&&i&&m&&m>l?(n.retriesNumber=++l,f(o(p,l)).then(function(){var r=e.get("$http");return r(t.config)})):r.reject(t)}}}var e=t.module("infrastruct.utils.httpRetries",[]);return e.factory("infrastruct.utils.httpRetries",r),e.config(["$httpProvider",function(t){t.interceptors.push("infrastruct.utils.httpRetries")}]),r.$inject=["$q","$injector","$timeout","infrastruct.services.config"],e});define(rA[173][0],["angular"],function(t){function r(t,r){return{responseError:function(c){var a=c.config||{},e=a.fallback,n=!!e&&e.enabled;if(n){var l=r.get("$http"),i=/^(https?:\/\/.*)?(\/?s?api)((\/[\w]+)+)(\?.*)?/;return e.url?a.url=e.url:a.url.match(i)&&(a.url=a.url.replace(i,"https://etoro-cdn.etorostatic.com/web-client/fallback$3/default.json")),a.fallback=!1,l(c.config)}return t.reject(c)}}}var c=t.module("infrastruct.utils.httpFallback",[]);return c.factory("infrastruct.utils.httpFallback",r),c.config(["$httpProvider",function(t){t.interceptors.push("infrastruct.utils.httpFallback")}]),r.$inject=["$q","$injector","$timeout","infrastruct.services.config"],c});define(rA[198][0],["angular",rA[89][0]],function(t,a){function r(r,e){return{response:function(t){var r=t.config,s=r.jsonBackupKey;return s?t.status>=200&&t.status<=300?(setTimeout(function(){var r={data:a.pack(t.data),algo:"hpack",status:t.status,cachedDay:new Date};e.setItem("httpbackup_"+s,r)},4),t):void 0:t},responseError:function(s){var u=s.config||{},c=t.isNumber(u.maxRetries)?u.maxRetries:0,n=t.isNumber(u.retriesNumber)?u.retriesNumber:0;if(!u.jsonBackupKey||(0===s.status||-1===s.status||503===s.status)&&c&&c>n)return r.reject(s);var i=e.getItem("httpbackup_"+u.jsonBackupKey);return i?(s.data=a.unpack(i.data),u.originalStatus=s.status,s.status=250,r.resolve(s)):r.reject(s)}}}var e=t.module("infrastruct.utils.httpBackup",[]);return e.factory("infrastruct.utils.httpBackup",r),e.config(["$httpProvider",function(t){t.interceptors.push("infrastruct.utils.httpBackup")}]),r.$inject=["$q","infrastruct.services.localStorage"],e});!function(e){e(rA[89][0],[],function(){var e=-1,r=-2,n=-3,t=-4,i=-5,o=function(o,s){s=s||{};var l=s.verbose||!1;l&&console.log("Normalize the JSON Object"),o="string"==typeof o?this.JSON.parse(o):o,l&&console.log("Creating a empty dictionary");var f={strings:[],integers:[],floats:[]};l&&console.log("Creating the AST");{var g=function d(o){l&&console.log("Calling recursiveAstBuilder with "+this.JSON.stringify(o));var s=typeof o;if(null===o)return{type:"null",index:n};if("undefined"==typeof o)return{type:"undefined",index:i};if(o instanceof Array){var g=["@"];for(var p in o)o.hasOwnProperty(p)&&g.push(d(o[p]));return g}if("object"===s){var g=["$"];for(var h in o)o.hasOwnProperty(h)&&(g.push(d(h)),g.push(d(o[h])));return g}if(""===o)return{type:"empty",index:t};if("string"===s){var v=c.call(f.strings,o);return-1==v&&(f.strings.push(a(o)),v=f.strings.length-1),{type:"strings",index:v}}if("number"===s&&o%1===0){var v=c.call(f.integers,o);return-1==v&&(f.integers.push(u(o)),v=f.integers.length-1),{type:"integers",index:v}}if("number"===s){var v=c.call(f.floats,o);return-1==v&&(f.floats.push(o),v=f.floats.length-1),{type:"floats",index:v}}if("boolean"===s)return{type:"boolean",index:o?e:r};throw new Error("Unexpected argument of type "+typeof o)}(o),p=f.strings.length,h=f.integers.length;f.floats.length}l&&console.log("Parsing the dictionary");var v=f.strings.join("|");return v+="^"+f.integers.join("|"),v+="^"+f.floats.join("|"),l&&console.log("Parsing the structure"),v+="^"+function y(e){if(l&&console.log("Calling a recursiveParser with "+this.JSON.stringify(e)),e instanceof Array){var r=e.shift();for(var o in e)e.hasOwnProperty(o)&&(r+=y(e[o])+"|");return("|"===r[r.length-1]?r.slice(0,-1):r)+"]"}var s=e.type,a=e.index;if("strings"===s)return u(a);if("integers"===s)return u(p+a);if("floats"===s)return u(p+h+a);if("boolean"===s)return e.index;if("null"===s)return n;if("undefined"===s)return i;if("empty"===s)return t;throw new TypeError("The item is alien!")}(g),l&&console.log("Ending parser"),s.debug?{dictionary:f,ast:g,packed:v}:v},s=function(o,s){s=s||{};var a=o.split("^");s.verbose&&console.log("Building dictionary");var u=[],c=a[0];if(""!==c){c=c.split("|"),s.verbose&&console.log("Parse the strings dictionary");for(var g=0,p=c.length;p>g;g++)u.push(l(c[g]))}if(c=a[1],""!==c){c=c.split("|"),s.verbose&&console.log("Parse the integers dictionary");for(var g=0,p=c.length;p>g;g++)u.push(f(c[g]))}if(c=a[2],""!==c){c=c.split("|"),s.verbose&&console.log("Parse the floats dictionary");for(var g=0,p=c.length;p>g;g++)u.push(parseFloat(c[g]))}c=null,s.verbose&&console.log("Tokenizing the structure");for(var h="",v=[],d=a[3].length,g=0;d>g;g++){var y=a[3].charAt(g);"|"===y||"$"===y||"@"===y||"]"===y?(h&&(v.push(f(h)),h=""),"|"!==y&&v.push(y)):h+=y}var b=v.length,k=0;return s.verbose&&console.log("Starting recursive parser"),function w(){var o=v[k++];if(s.verbose&&console.log("Reading collection type "+("$"===o?"object":"Array")),"@"===o){for(var a=[];b>k;k++){var l=v[k];if(s.verbose&&console.log("Read "+l+" symbol"),"]"===l)return a;if("@"===l||"$"===l)a.push(w());else switch(l){case e:a.push(!0);break;case r:a.push(!1);break;case n:a.push(null);break;case i:a.push(void 0);break;case t:a.push("");break;default:a.push(u[l])}}return s.verbose&&console.log("Parsed "+this.JSON.stringify(a)),a}if("$"===o){for(var a={};b>k;k++){var f=v[k];if("]"===f)return a;f=f===t?"":u[f];var l=v[++k];if("@"===l||"$"===l)a[f]=w();else switch(l){case e:a[f]=!0;break;case r:a[f]=!1;break;case n:a[f]=null;break;case i:a[f]=void 0;break;case t:a[f]="";break;default:a[f]=u[l]}}return s.verbose&&console.log("Parsed "+this.JSON.stringify(a)),a}throw new TypeError("Bad token "+o+" isn't a type")}()},a=function(e){return"string"!=typeof e?e:e.replace(/[\+ \|\^\%]/g,function(e){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[e]})},l=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e]})},u=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},f=function(e){return parseInt(e,36)},c=Array.prototype.indexOf||function(e,r){for(var n=r||0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1};return{JSON:JSON,pack:o,unpack:s}})}("undefined"!=typeof define&&define.amd?define:function(e,r){var n=r();if("undefined"!=typeof exports)for(var t in n)exports[t]=n[t];else window.jsonpack=n});define(rA[172][0],["angular"],function(r){function t(r,t,i,o,e){return{responseError:function(r){if(n&&-1===r.status&&"ReToroIOS"===o.statics.ApplicationIdentifier&&!r.config.proxyRetry&&window.WebviewProxy&&Date.now()-r.config._timing.start<1e4){r.config.proxyRetry=!0,r.config.url=window.WebviewProxy.convertProxyUrl(r.config.url),console.log("retrying with proxy",r.config.url);var t=e.get("$http");return t(r.config)}return i.reject(r)}}}var i=r.module("infrastruct.utils.httpCloudFlare",[]),n=!1;return i.factory("infrastruct.utils.httpCloudFlare",t),i.config(["$httpProvider",function(r){r.interceptors.push("infrastruct.utils.httpCloudFlare")}]),t.$inject=["$location","$window","$q","infrastruct.services.config","$injector"],i});define(rA[201][0],["angular","underscore"],function(e,t){"use strict";function r(e,r){return'<form method="post" action="'+e+'">'+t.collect(r,function(e,t){return e=e?e:"",'<input type="hidden" name="'+t+'" value="'+e.replace(/\"/g,"&quot;")+'" />'}).join("")+"</form><script>document.forms[0].submit()</script>"}function i(t,i,n){return function(c,o,s,u){var a,d=window.open("",t());return s=s||{},d?(a=d.document,a.title=c,u?u.then(function(t){e.extend(s,t),a.write(r(o,s))})["catch"](function(){d.close()}):a.write(r(o,s)),{error:!1,window:d}):(n.get("bl.factories.notifications.infraNotificationsService").appPostRedirectFailed(),i.$emit("app:postRedirect:failed"),{error:!0,window:null})}}var n=e.module("infrastruct.services.postRedirect",[]);return i.$inject=["infrastruct.services.guid","$rootScope","$injector"],n.service("infrastruct.services.postRedirect",i),n});define(rA[142][0],["moduleDefiner","underscore"],function(r,e){"use strict";function t(){function r(r,e){if(-1!==e.indexOf("||")){var t=e.replace(/ /g,"").split("||");return t[t[0]in r?0:1]}return e}function t(t,i){var n=i.split(".");if(n.length<=1)return t[r(t,i)];var s=t,c=!1;return e.each(n,function(e){e=r(t,e),e in s&&(s=s[e],c=!0)}),c?s:null}function i(r){return e.isDate(r)?1e4*r+621355968e9:r}return{sort:function(r,n,s){r&&e.isArray(r)&&r.sort(function(r,c){var u=t(r,n),o=t(c,n);return e.isUndefined(u)||e.isNull(u)?1:e.isUndefined(o)||e.isNull(o)?-1:(e.isString(u)?u=u.toLowerCase():e.isDate(u)&&(u=i(u)),e.isString(o)?o=o.toLowerCase():e.isDate(o)&&(o=i(o)),e.isObject(o)&&!e.isObject(u)?s?1:-1:e.isObject(u)&&!e.isObject(o)?s?-1:1:e.isObject(u)&&e.isObject(o)?0:o>u?s?1:-1:u>o?s?-1:1:0)})}}}var i=r("infrastruct.services.sorter",[]);return i.factory("infrastruct.services.sorterFactory",[t]),i});define(rA[196][0],["angular",rA[132][0]],function(e,r){"use strict";var s=e.module("infrastruct.services.experiments",[]);return s.service("infrastruct.services.experiments",r),s.run(["infrastruct.services.experiments",function(){}]),s});define(rA[132][0],[rA[102][0]],function(e){function i(e,i,t,s){this.googleTagManagerService=t,this.$q=e,this.$log=i,this.config=s,this._init()}return i.$inject=["$q","$log","infrastruct.services.analytics.services.googleTagManager","infrastruct.services.config"],i.prototype={getExperimentById:function(e){return this.experiments[e]?this.$q.resolve(this.experiments[e]):(this.experimentsPromise[e]||(this.experimentsPromise[e]=this._createPromiseWithTimeout(e)),this.experimentsPromise[e].promise["catch"](function(){this.$log.logJSON("info","log",{Message:"Experiment Timeout",Categories:["Experiments"],Properties:{"Experiment ID":e},Domain:"Experience"}),delete this.experimentsPromise[e]}.bind(this)),this.experimentsPromise[e].promise)},_init:function(){this.experiments={},this.experimentsPromise={},this.config.dynamics.isWrapper||this._getAllExperiments()},_getAllExperiments:function(){this.googleTagManagerService.insertToDataLayer("event","optimize.callback",{callback:this._setExperimentVariant.bind(this)})},_setExperimentVariant:function(i,t){var s=this.experiments[t];s||(s=this.experiments[t]=new e),s.variant=i,this.experimentsPromise[t]&&(this.experimentsPromise[t].resolve(s),delete this.experimentsPromise[t]),this.$log.logJSON("info","log",{Message:"Experiment Participant",Categories:["Experiments"],Properties:{"Experiment ID":t,Variant:i},Domain:"Infra"})},_createPromiseWithTimeout:function(){var e=this.$q.defer(),i=setTimeout(function(){e.reject()}.bind(this),5e3);return e.promise["finally"](function(){clearTimeout(i)}),e}},i});define(rA[102][0],[],function(){function t(){}return t.prototype={set variant(t){this._variant=t},get variant(){return this._variant}},t});define(rA[248][0],["angular","moduleDefiner",rA[100][0],rA[167][0],rA[168][0]],function(a,t,e,i,r){"use strict";var n=window.angulartics||(window.angulartics={});n.waitForVendorCount=0,n.waitForVendorApi=function(a,t,e,i,r){r||n.waitForVendorCount++,i||(i=e,e=void 0),!Object.prototype.hasOwnProperty.call(window,a)||void 0!==e&&void 0===window[a][e]?setTimeout(function(){n.waitForVendorApi(a,t,e,i,!0)},t):(n.waitForVendorCount--,i(window[a]))};var s=a.module("infrastruct.services.analytics",[]);return s.provider("$analytics",e),s.directive("analyticsOn",i),s.service("infrastruct.services.ecommerceTrackingService",r),s.run(["$rootScope","$window","$analytics","$injector",function(t,e,i,r){i.settings.pageTracking.autoTrackFirstPage&&r.invoke(["$location",function(a){var t=!0;if(r.has("$route")){var n=r.get("$route");for(var s in n.routes){t=!1;break}}else if(r.has("$state")){var c=r.get("$state");for(var o in c.get()){t=!1;break}}if(t)if(i.settings.pageTracking.autoBasePath&&(i.settings.pageTracking.basePath=e.location.pathname),i.settings.trackRelativePath){var g=i.settings.pageTracking.basePath+a.url();i.pageTrack(g,a)}else i.pageTrack(a.absUrl(),a)}]),i.settings.pageTracking.autoTrackVirtualPages&&r.invoke(["$location",function(a){i.settings.pageTracking.autoBasePath&&(i.settings.pageTracking.basePath=e.location.pathname+"#"),r.has("$route")&&t.$on("$routeChangeSuccess",function(t,e){if(!e||!(e.$$route||e).redirectTo){var r=i.settings.pageTracking.basePath+a.url();i.pageTrack(r,a)}}),r.has("$state")&&t.$on("$stateChangeSuccess",function(){var t=i.settings.pageTracking.basePath+a.url();i.pageTrack(t,a)})}]),i.settings.developerMode&&a.forEach(i,function(a,t){"function"==typeof a&&(i[t]=function(){})})}]),s});define(rA[100][0],[],function(){"use strict";function e(){var e={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:""},eventTracking:{},bufferFlushDelay:1e3,developerMode:!1},t=["pageTrack","eventTrack","setAlias","setUsername","setUserId","setUserInfo","setAlias","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","chargeTrack","copySuperProperties","setGlobalEventProperties","ecommerceEventTrack","reset"],r={},a={},n=function(e){return function(){angulartics.waitForVendorCount&&(r[e]||(r[e]=[]),r[e].push(arguments))}},s=function(e,t){return a[e]||(a[e]=[]),a[e].push(t),function(){var t=arguments;angular.forEach(a[e],function(e){e.apply(this,t)},this)}},i={settings:e},u=function(e,t){t?setTimeout(e,t):e()},c={$get:function(){return i},api:i,settings:e,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(e){this.settings.pageTracking.basePath=e?angular.element("base").attr("href").slice(0,-1):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e},developerMode:function(e){this.settings.developerMode=e}},o=function(t,a){i[t]=s(t,a);var n=e[t],c=n?n.bufferFlushDelay:null,o=null!==c?c:e.bufferFlushDelay;angular.forEach(r[t],function(e,t){u(function(){a.apply(this,e)},t*o)})},f=function(e){return e.replace(/^./,function(e){return e.toUpperCase()})},g=function(e){var t="register"+f(e);c[t]=function(t){o(e,t)},i[e]=s(e,n(e))};return angular.forEach(t,g),c}return e});define(rA[167][0],["angular"],function(t){"use strict";function n(n){function e(t){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(t.tagName.toLowerCase()+":"+(t.type||""))>=0}function i(t){return e(t),"click"}function r(t){return e(t)?t.innerText||t.value:t.id||t.name||t.tagName}function a(t){return"analytics"===t.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(t.substr(9))}function u(t){var n=t.slice(9);return"undefined"!=typeof n&&null!==n&&n.length>0?n.substring(0,1).toLowerCase()+n.substring(1):n}return{restrict:"A",link:function(e,s,c){var o=c.analyticsOn||i(s[0]),f={};t.forEach(c.$attr,function(t,n){a(n)&&(f[u(n)]=c[n],c.$observe(n,function(t){f[u(n)]=t}))}),t.element(s[0]).bind(o,function(i){var a=c.analyticsEvent||r(s[0]);f.eventType=i.type,(!c.analyticsIf||e.$eval(c.analyticsIf))&&(c.analyticsProperties&&t.extend(f,e.$eval(c.analyticsProperties)),n.eventTrack(a,f))})}}}return n.$inject=["$analytics"],n});define(rA[168][0],["angular"],function(){function e(e,t){this.$analytics=e,this.$rootScope=t}return e.$inject=["$analytics","$rootScope"],e.prototype={track:function(e,t){var c=new Date,o=/Open|Close|Copy/g,a=o.test(e)?e.split(" ")[0]:"View",r=this.$rootScope.session.user.realCID+"-"+t.id+"-"+(t.amount||0)+"-"+c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear(),n=[{id:t.id,name:t.name+"-"+a,price:0,metric7:t.amount||0,dimension71:t.dimension71||""}],s={actionField:{option:t.marketMode},purchase:{actionField:{id:r,revenue:0},products:n}},i={checkout:{products:n}},l={detail:{products:n}},u={"Open Trade - Success":s,"Close Trade - Success":s,"Close Copy - Success":s,"Close All - Success":s,"Copy Trader - Success":s,"Market - Page View":l,"Close Trade":i,"Close Copy":i,"Open Trade":i,"Copy Trader":i},d={event:"purchase",GA_event_category:t.category||"Trade",GA_event_action:t.action,GA_event_label:t.label,ecommerce:u[e]};this.$analytics.ecommerceEventTrack(d)}},e});define(rA[219][0],["angular",rA[248][0],rA[233][0]],function(t,e,i){"use strict";var n=t.module("infrastruct.services.analytics.providers.ga",[e.name]);return n.config(["$analyticsProvider","infrastruct.services.configProvider",function(e,n){var a=n.getConfig(),r=/deposit|registration/gi;a.dynamics.isGoogleAnalyticsActive&&(e.settings.trackRelativePath=!0,e.settings.ga={additionalAccountNames:void 0},e.registerSetUserId(function(t){window.ga&&ga("set","&uid",t)}),e.registerPageTrack(function(i){window._gaq&&_gaq.push(["_trackPageview",i]),window.ga&&(ga("send","pageview",i),t.forEach(e.settings.ga.additionalAccountNames,function(t){ga(t+".send","pageview",i)}))}),e.registerEventTrack(function(n,a){if(a&&a.category){if(a.value){var s=parseInt(a.value,10);a.value=isNaN(s)?0:s}if(window._gaq)_gaq.push(["_trackEvent",a.category,n,a.label,a.value,a.noninteraction]);else if(window.ga){for(var o={eventCategory:a.category||null,eventAction:n||null,eventLabel:a.label||null,eventValue:a.value||null,nonInteraction:a.noninteraction||null},c=1;20>=c;c++)a["dimension"+c.toString()]&&(o["dimension"+c.toString()]=a["dimension"+c.toString()]),a["metric"+c.toString()]&&(o["metric"+c.toString()]=a["metric"+c.toString()]);if(ga("send","event",o),n.match(r))try{i.logJSON("warn","log",{message:"GA pixel fired",action:n})}catch(g){}t.forEach(e.settings.ga.additionalAccountNames,function(t){ga(t+".send","event",o)})}}else if(n.match(r))try{i.logJSON("warn","log",{message:"GA pixel wasn't fired due to missing category parameter",action:n})}catch(g){}}))}]),n.run(["infrastruct.services.config",function(t){t.dynamics.isGoogleAnalyticsActive&&(!function(t,e){t.GoogleAnalyticsObject=e,t[e]=t[e]||function(){(t[e].q=t[e].q||[]).push(arguments)},t[e].l=1*new Date}(window,"ga"),ga("create",t.statics.googleAnalyticsId,"auto"),setTimeout(function(){require(["https://www.google-analytics.com/analytics.js"])},6e3))}]),n});define(rA[195][0],["angular",rA[248][0]],function(e,i){"use strict";for(var a=e.module("infrastruct.services.analytics.providers.intercom",[i.name]),t=["CopyFunds - Page View","Deposit - Page View","Login - Success","Market - Page View","Markets - Page View","Post - Page View","News Feed - Page View","People - Page View","People Result - Page View","Portfolio Breakdown - Page View","Portfolio Cards - Page View","Portfolio Orders - Page View","Portfolio History - Page View","Portfolio Overview - Page View","Public Portfolio Breakdown - Page View","Public Portfolio History - Page View","Public Portfolio Overview - Page View","Reset Password - Enter New Password - Page View","User - Page View","User Stats - Page View","Withdraw Page View","Open Trade - Success","Copy Trader - Success","Deposit - Success","Notification - Open","KYC - attitudeToRisk","KYC - completeProfile","KYC - evDetails","KYC - EvWait","KYC - fatca","KYC - financialStatus","KYC - firstCopy","KYC - IsraelDisclaimer","KYC - liquidAssets","KYC - mainIncomeSource","KYC - marketsEx","KYC - netAnnualIncome","KYC - open kyc modal","KYC - Overall failed - Review details","KYC - Overall Suitability Fail - Page View","KYC - Passed Suitability - Continue Deposit","KYC - Passed Suitability - Review Profile","KYC - phoneVerification","KYC - phoneVerification - failure","KYC - phoneVerification - rejected","KYC - phoneVerification - send SMS","KYC - phoneVerification - success","KYC - planMoneyInvestment","KYC - process deposit","KYC - profileDetails","KYC - profileUpdated","KYC - purposeOfTrading","KYC - riskDisclosure","KYC - suitabilityAssFailedGeneral","KYC - suitabilityAssObjHigh","KYC - suitabilityAssObjLow","KYC - suitabilityAssPassed","KYC - suitabilityAssXpHigh","KYC - suitabilityAssXpLow","KYC - thanksVerifying","KYC - tnc","KYC - tradingEx","KYC - tradingKnowledge","KYC - tradingStrategy","KYC - uploadDocId","KYC - uploadDocId - idCard","KYC - uploadDocId - passport","KYC - uploadDocReq","KYC - uploadDocUtility","KYC - welcome","KYC - welcomeMandatoryVerification","KYC - wizardLoading","Feed - Comment","Feed - Like","Feed - Post","Feed - Share","Feed - Clicked Share Network","Market - Research - Page View","Inner Markets Discovery - Results - Page View","Markets - Search - Filter","Procharts - Launch Success","Verification Level 1 - Change","Verification Level 2 - Change","Verification Level 3 - Change","Registration - Success","Watchlist - Page View","Main Discovery - Page view","Crypto - Page view","Stocks - Page view","Home - Start Carousel - New User","Home - Start Carousel - User Exist","Discover - Page View"],o={},r=0;r<t.length;r++)o[t[r]]=!0;return a.config(["$analyticsProvider",function(e){e.registerEventTrack(function(e,i){o[e]&&(window.cordova?!!intercom&&intercom.logEvent&&intercom.logEvent(e,i):window.Intercom&&window.Intercom("trackEvent",e,i))})}]),a});define(rA[220][0],["angular",rA[248][0],"underscore"],function(e,t,i){"use strict";var n=e.module("infrastruct.services.analytics.providers.mixpanel",[t.name]),r=function(){};return n.config(["$analyticsProvider","infrastruct.services.configProvider",function(e,t){var n=t.getConfig(),a=[];n.calculated.isMixpanelActive&&angulartics.waitForVendorApi("mixpanel",1e3,"__loaded",function(t){function s(e){var t={};return i.each(e,function(n,r){t[r]=i.result(e,r)}),t}var c={Portfolio:null,Username:"Visitor",Application:n.statics.ApplicationIdentifier};e.registerCopySuperProperties(function(e){return i.extend(e,c)}),e.registerSetGlobalEventProperties(function(e){return i.extend(c,e)}),e.registerSetUserId(function(e){t.identify(e)}),e.registerSetAlias(function(e){t.alias(e)}),e.registerSetSuperPropertiesOnce(function(e){t.register_once(e)}),e.registerSetSuperProperties(function(e){t.register(e)}),e.registerSetUserPropertiesOnce(function(e){t.people.set_once(e)}),e.registerSetUserProperties(function(e){t.people.set(e)}),e.registerReset(function(){t.reset()}),e.registerChargeTrack(function(e,i){t.people.track_charge(e,i)}),e.registerEventTrack(function(e,n){if(!(a.indexOf(e)>=0)){var o=s(c);i.extend(o,n),t.track(e,o),r.apply(r,arguments)}})})}]),n.run(["$window","$document","infrastruct.services.config",function(e,t,i){i.calculated.isMixpanelActive&&(r=function(e,t){i.browser.isVisualDebug&&console.log("Mixpanel: ",e,t)},i.dynamics.whenReady().then(function(){var e=i.dynamics.mixpanelOriginalHost,t=i.dynamics.mixpanelPersist;i.dynamics.mixpanelAlternativeHostEnabled&&(e="https://"+i.dynamics.mixpanelAlternativeHost),function(e,t,i){if(!t.__SV){var n,r,a,s;window.mixpanel=t,t._i=[],t.init=function(e,i,n){function r(e,t){var i=t.split(".");2==i.length&&(e=e[i[0]],t=i[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var c=t;for("undefined"!=typeof n?c=t[n]=[]:n="mixpanel",c.people=c.people||[],c.toString=function(e){var t="mixpanel";return"mixpanel"!==n&&(t+="."+n),e||(t+=" (stub)"),t},c.people.toString=function(){return c.toString(1)+".people (stub)"},a="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "),s=0;s<a.length;s++)r(c,a[s]);t._i.push([e,i,n])},t.__SV=1.2,n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src=i+"/libs/mixpanel-2-latest.min.js",r=e.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r)}}(document,window.mixpanel||[],e),i.dynamics.mixpanelAlternativeHostEnabled?window.mixpanel.init(i.statics.mixpanelToken,{api_host:e,persistence:t}):window.mixpanel.init(i.statics.mixpanelToken,{persistence:t})}))}]),n});define(rA[239][0],["underscore","angular",rA[248][0],rA[233][0]],function(e,t,n,i){"use strict";function a(e,t){this.config=e,this.ngZone=t,t.runOutsideAngular(function(){this._init(),this._cleanup()}.bind(this))}var r=t.module("infrastruct.services.analytics.providers.googleTagManager",[n.name]);return r.service("infrastruct.services.analytics.services.googleTagManager",a),r.config(["$analyticsProvider","infrastruct.services.configProvider","infrastruct.services.experimentsProvider",function(n,a){function r(t){var n={};return e.each(t,function(i,a){n[a]=e.result(t,a)}),n}function o(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0===+e?"":0===t?e.toLowerCase():e.toUpperCase()})}function s(t){var n={};return e.map(t,function(e,t){var i=o(t);n[i]=e}),n}var c=a.getConfig(),u={},l=["Registration - Form Loaded","Registration - Success","Deposit - Attempt","Deposit - Success","Verification Level 3 - Change","Verification Level 2 - Change","Verification Level 1 - Change","Open Trade - Error","Open Trade - Attempt","Close Trade - Error","Close Trade - Attempt","Copy Trader - Error","Copy Trader - Attempt","Mobile App - Install","Login - Success","Guidance - Step","Onboarding - Load Success","Onboarding - Click - Login","Onboarding - Click - Get Started","Complete Your Profile - Click","Set Price Alert","Watchlist - Item Added","Watchlist - Item Removed","Feed - Post","Feed - Save Post","Royal Oak money - registration success"],g={Portfolio:null,Username:"Visitor",Application:c.statics.ApplicationIdentifier},d=/deposit|registration/gi,f=null;c.dynamics.isGoogleTagManagerActive&&(n.settings.trackRelativePath=!0,n.registerSetUserInfo(function(t){e.extend(u,t)}),n.registerSetGlobalEventProperties(function(t){return e.extend(g,t)}),n.registerPageTrack(function(e,t){var n=t&&t.url()||"";if(n!==f){f=n;var i={event:"GTM page to GA",pageURL:n,fullURL:c.calculated.baseUrl+n,language:c.dynamics.languageCode,appIicationIdentifier:c.statics.ApplicationIdentifier,applicationVersion:c.statics.ApplicationVersion,userSessionGuid:c.dynamics.userSession};g.hashe&&(i.hashe=g.hashe),i.userParams=r(u),i.userParams.portfolio="function"==typeof g.Portfolio?g.Portfolio():"not available",i.userParams.isVisitor="function"==typeof g.Username?"Visitor"===g.Username()?"Yes":"No":"Yes",i.userParams.userCountry="function"==typeof g.userCountry?g.userCountry():"not available",g.deviceId&&(i.userParams.deviceId=g.deviceId),setTimeout(function(){window.requestAnimationFrame(function(){window.dataLayer&&window.dataLayer.push(i)})},1e3)}}),n.registerEventTrack(function(n,a,o,c){var u={};if(l.indexOf(n)>=0){if(!a||!n||!a.category&&!o||!a.label&&!c){if(n.match(d))try{i.logJSON("warn","log",{message:"GTM pixel wasn't fired due to missing params",action:n,category:o,label:c})}catch(f){}return}var m=t.copy(a);if(m.value){var p=parseInt(m.value,10);m.value=isNaN(p)?0:p}if(window.dataLayer){u={event:"GTM event to GA",GAEventCategory:m.category||o||null,GAEventAction:n||null,GAEventLabel:m.label||c||null,nonInteraction:m.noninteraction||null},delete m.category,delete m.label,delete m.value,delete m.noninteraction;var v=r(g);e.extend(v,m),v=s(v),e.extend(u,v);try{window.dataLayer.push(u),n.match(d)&&i.logJSON("info","log",{message:"GTM pixel fired",action:n,category:o,label:c})}catch(f){}}else try{i.logJSON("warn","log",{message:"GTM pixel fire failed due to missing SDK",dataLayer:window.dataLayer,label:c})}catch(f){}}}),n.registerEcommerceEventTrack(function(e){if(e&&window.dataLayer){var t={portfolio:"function"==typeof g.Portfolio?g.Portfolio():{},isVisitor:"No",userCountry:g.userCountry&&g.userCountry()};e.userParams=t,dataLayer.push(e)}}))}]),r.run(["infrastruct.services.analytics.services.googleTagManager",function(){}]),a.$inject=["infrastruct.services.config","ngZone"],a.prototype={insertToDataLayer:function(){this.ngZone.runOutsideAngular(function(){dataLayer.push(arguments)}.bind(this))},_init:function(){if(this.config.dynamics.isGoogleTagManagerActive){var e=this.config.dynamics.isWrapper?"GTM-MDZQ644":"GTM-N7SQ5DP",t=this;this.ngZone.runOutsideAngular(function(){!function(e,n,i,a,r){e[a]=e[a]||[],e[a].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=n.getElementsByTagName(i)[0],s=n.createElement(i),c="dataLayer"!=a?"&l="+a:"";s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+r+c,t.config.dynamics.whenReady().then(function(){var e=t.config.dynamics.gtmDelayPc,n=e?Math.random()<e/100:!1;t.config.dynamics.gtmDelayParticipant=!!n,setTimeout(function(){o.parentNode.insertBefore(s,o)},n?1e4:0)})}(window,document,"script","dataLayer",e)}.bind(this))}},_cleanup:function(){var t=1;this.ngZone.runOutsideAngular(function(){setInterval(function(){var n=document.querySelectorAll("iframe[src*='etoro-gtm-memory-cleanup']");n.length>t&&(n=e.initial(n,t),n.forEach(function(e){e.remove()}))},6e4)}.bind(this))}},r});define(rA[197][0],["angular",rA[252][0]],function(r,e){function s(r){return{request:function(e){return e.params=e.params||{},e.resourceVersionId&&!e.params.cv?r.dynamics.whenReady().then(function(){var s=r.dynamics.resourcesVersion;return s&&s[e.resourceVersionId+"_enabled"]!==!1&&(e.params.cv=s[e.resourceVersionId]),e}):e}}}var n=r.module("infrastruct.services.httpResourceVersion",[e.name]);return n.factory("infrastruct.services.httpResourceVersion",s),n.config(["$httpProvider",function(r){r.interceptors.push("infrastruct.services.httpResourceVersion")}]),s.$inject=["infrastruct.services.config"],n});define(rA[223][0],["angular",rA[249][0],rA[252][0]],function(n,i,t){"use strict";function e(n,i,t,e,a){this.$q=n,this.$injector=i,this.$location=t,this.config=e,this.localizeFactory=a,this.defaultUrl=this.config.dynamics.urls.maintenanceUrl+"/technical.html?culture="+this.localizeFactory.language,this.config.dynamics.whenReady().then(function(){this.defaultUrl=this.config.dynamics.urls.maintenanceUrl+"/technical.html?culture="+this.localizeFactory.language}.bind(this))}var a=n.module("infrastruct.services.maintenanceNavigation",["infrastruct.services.config",i.name,t.name]);return e.$inject=["$q","$injector","$location","infrastruct.services.config","infrastruct.services.localization.localizeFactory"],e.prototype={isUnderMaintenance:void 0,get maintenanceRedirectUrl(){return this.config.dynamics.urls.maintenanceUrl+"/"+this.config.calculated.languageCode+"/?maintenance_reason=unknown&target_redirect="+encodeURIComponent(window.location.origin+this.$location.path())},navigate:function(n){this.$location.nativeHref(n||this.defaultUrl),setTimeout(function(){location.hash="#/login"},500)},maintenanceCheck:function(){var n=this.$injector.get("$http");return this.$q(function(i,t){return"undefined"!=typeof this.isUnderMaintenance?void(this.isUnderMaintenance?t(this.maintenanceRedirectUrl):i()):n({url:this.config.dynamics.urls.maintenanceUrl+"/maintenance.json",method:"GET",addHeaders:!1}).then(function(n){this.isUnderMaintenance=!1;var e=n.data.pagesConfig;return e&&e.client&&e.client.plannedClient&&(this.isUnderMaintenance=e.client.plannedClient[0]),this.isUnderMaintenance?void t(this.maintenanceRedirectUrl):void i()}.bind(this))["catch"](i)}.bind(this))},resetMaintenanceCheck:function(){this.isUnderMaintenance=void 0}},a.service("infrastruct.services.maintenanceNavigation",e),a});define(rA[170][0],["angular"],function(e){function t(t,n){function i(e,t){var n=t.activationRegex;return n?a(n)?e.url.match(new RegExp(n,"i")):!1:!0}function r(t){s={name:"api",enabled:!0,suspensionTime:6e4,activationRegex:null},o||(t&&e.isNumber(t.suspensionTime)&&(s.suspensionTime=t.suspensionTime),t&&a(t.activationRegex)&&(s.activationRegex=t.activationRegex),o=setTimeout(function(){s=null,o=null},s.suspensionTime))}function u(){return s||n.dynamics.httpCircuitBreaker||{name:"default",enabled:!1,activationRegex:null}}function a(e){try{return!!new RegExp(e,"i")}catch(t){return!1}}var c=530,s=null,o=null;return window.apiActivate=r,{request:function(e){var n=u();return n.enabled&&i(e,n)?t.reject({data:{error:{failureReason:"Maintenance"}},circuitBreakerConfig:n,status:c,config:e,cause:"rejected by "+n.name+" circuit breaker"}):e||t.when(e)},responseError:function(e){return e&&e.status===c&&!e.circuitBreakerConfig&&r(e.data),t.reject(e)}}}var n=e.module("infrastruct.utils.httpCircuitBreaker",[]);return n.factory("infrastruct.utils.httpCircuitBreaker",t),n.config(["$httpProvider",function(e){e.interceptors.push("infrastruct.utils.httpCircuitBreaker")}]),t.$inject=["$q","infrastruct.services.config"],n});define(rA[175][0],["angular"],function(t){"use strict";function e(t,e){this.$injector=t,this.isReady=e(function(e){var n=setInterval(function(){try{var r=t.get("bl.factories.login.loginFactory");if(!r)throw new Error;clearInterval(n),e()}catch(i){}},100)})}var n=t.module("infra.services.newAngularReady",[]);return e.$inject=["$injector","$q"],e.prototype.getDowngradedInjectable=function(t){var e=this.$injector;return this.isReady.then(function(){return e.get(t)})},n});define(rA[245][0],["angular",rA[208][0],rA[207][0],rA[138][0]],function(e,n,t,o){"use strict";var r=e.module("walletIntegration",[]);return r.component("redeemPositionPopup",n),r.component("cancelRedeemPositionPopup",t),r.service("integrations.wallet.redeemCrytoService",o),r});define(rA[208][0],["angular",rA[36][0]],function(e,t){"use strict";function i(e,t,i,s,n,o,r){this.$rootScope=e,this.$analytics=t,this.$timeout=i,this.redeemService=s,this.loader=n,this.$injector=o,this.configService=r,this.instrument=null,this.redeemFee=null,this.wallet=null,this.netUnits=null,this.isRegulationASICorASICGaml=null,this.isRegulationCYSECAndIsGermany=null,this.isInProcess=!1,this.interpolationObjectForList=null,this.config={timeout:3e3}}return i.$inject=["$rootScope","$analytics","$timeout","integrations.wallet.redeemCrytoService","infrastruct.services.loader","$injector","infrastruct.services.config"],i.prototype={get netAmount(){return this.netUnits*this.position.CurrentRate},$onInit:function(){this.instrument=this.position.Instrument,this.redeemFee=this.response.RedeemFee,this.wallet=this.response.WalletAddress,this.netUnits=this.position.Units-this.redeemFee,this.precision=this.response.Precision,this.isRegulationASICorASICGaml=4===this.$rootScope.session.user.regulationId||10===this.$rootScope.session.user.regulationId,this.isRegulationCYSECAndIsGermany=1===this.$rootScope.session.user.regulationId&&79===this.$rootScope.session.user.countryId,this.interpolationObjectForList={amount:this.configService.dynamics.payments.redeem.cryptocurrencies.TRX.fee,cryptocurrencyName:this.instrument.Name}},redeem:function(){this.isInProcess=!0;var e=this.$rootScope.session.user;this.$analytics.eventTrack("Redeem Trade - Submit",{Instrument:this.instrument.SymbolFull,units:this.position.Units,VerificationLevel:e.verificationLevel}),this.loader.show(),this.redeemService.processRedeemRequest(this.position).then(function(e){e.data.Success?this.$injector.get("bl.factories.trading.walletNotificationsService").redeemSuccess():this.$injector.get("bl.factories.trading.walletNotificationsService").redeemError()}.bind(this))["catch"](function(){this.$injector.get("bl.factories.trading.walletNotificationsService").redeemError()}.bind(this))["finally"](function(){this.isInProcess=!1,this.loader.hide(),this.onClose()}.bind(this))},onAbort:function(){this.onClose()},_isShowMessageForTRX:function(){return"TRX"===this.instrument.Name&&!this.response.WalletAddress&&this.response.IsShowMessageForTRX&&this.configService.dynamics.payments.redeem.cryptocurrencies.TRX.enabled}},{bindings:{position:"<",response:"<",onClose:"&"},controller:i,templateUrl:t.name}});define(rA[36][0] , [rA[222][0]],function(f){var o={"name":"/etoro/integrations/wallet/redeem/redeemPopup/redeem.popup.view.html","text":"<div class=\"execution edit redeem-popup\"    data-etoro-automation-id=\"redeem-position-dialog\"    data-instrument-id=\"{{:: $ctrl.instrument.InstrumentID}}\"    data-instrument-rate=\"::$ctrl.instrument\">    <div class=\"execution-head\"        data-etoro-automation-id=\"update-position-header-container\">        <div class=\"execution-head-title redeem-position-title\">            <span ng-if=\"$ctrl.isRegulationASICorASICGaml\"                data-etoro-locale-ns=\"redeemCfdPositionDialog\">                {{_title_}}            </span>            <span ng-if=\"!$ctrl.isRegulationASICorASICGaml\"                data-etoro-locale-ns=\"redeemPositionDialog\">                {{_title_}}            </span>        </div>        <div class=\"head-buttons-ph\">            <a ng-click=\"$ctrl.onAbort()\"                class=\"head-button sprite close pointer\">            </a>        </div>    </div>    <div class=\"execution-main\">        <div class=\"execution-wrap\">            <div class=\"execution-main-head\"                data-etoro-locale-ns=\"redeemPositionDialog\">                <div class=\"execution-avatar-ph\">                    <img class=\"avatar\"                        ng-src=\"{{:: $ctrl.instrument.Avatars['default']}}\"                        alt=\"{{:: $ctrl.instrument.name}}\"/>                </div>                <div class=\"user-info stock-sell-buy redeem\">                    <span class=\"execution-main-head-title-name\">{{:: $ctrl.instrument.Name}}</span>                    <span class=\"execution-main-head-title-display-name\"><span class=\"divider\">|</span>  {{:: $ctrl.instrument.DisplayName}}</span>                    <div class=\"execution-main-head-title-price\">                        <span class=\"execution-main-head-price-value\">{{ $ctrl.position.CurrentRate | formatRate:  $ctrl.instrument}}</span>                        <span ng-if=\"!$ctrl.position.IsBuy\"                            ng-class=\"{'negative':  $ctrl.instrument.rate.Change.askNumber('Daily') < 0, 'positive':  $ctrl.instrument.rate.Change.askNumber('Daily') > 0}\">                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-ask-change-daily\">                                {{ $ctrl.instrument.rate.Change.askNumber('Daily') | tofixed:  $ctrl.instrument.Precision}}                            </span>                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-ask-change-daily-percentage\">                                ({{  $ctrl.instrument.rate.Change.askPercent('Daily') |  percentageparser  }})                            </span>                        </span>                        <span ng-if=\"$ctrl.position.IsBuy\"                            ng-class=\"{'negative':  $ctrl.instrument.rate.Change.bidNumber('Daily') < 0, 'positive':  $ctrl.instrument.rate.Change.bidNumber('Daily') > 0}\">                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-bid-change-daily\">                                {{ $ctrl.instrument.rate.Chang;e.bidNumber('Daily') | tofixed:  $ctrl.instrument.Precision}}                            </span>                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-bid-change-daily-percentage\">                                ({{  $ctrl.instrument.rate.Change.bidPercent('Daily') | percentageparser }})                            </span>                        </span>                    </div>                    <div class=\"disclaimer\">                        <span>{{:: $root.t.dynamic('market' , 'disclaimer.' + $ctrl.instrument.ProviderPriceSource)}}</span>                        <span>{{:: $root.t.dynamic('market' , 'disclaimer.Currency' + $ctrl.instrument.SellCurrencyID) + ' |'}}</span>                        <i class=\"clock-icon\" ng-class=\"{'clock-open': $ctrl.instrument.IsActive, 'clock-close': !$ctrl.instrument.IsActive}\"></i>                        <span ng-class=\"{'market-open': $ctrl.instrument.IsActive}\">                            <span ng-bind-html=\"$root.t.dynamic('market', 'disclaimer.marketStateV2', $ctrl.instrument)\"></span>                        </span>                    </div>                </div>            </div>            <div class=\"execution-main-update-info\"                data-etoro-locale-ns=\"redeemPositionDialog\">                <div class=\"execution-edit-info redeem-position\">                    <span class=\"execution-edit-info-item\">{{:: $root.t.dynamic('orders' , 'units')}}</span>                    <span class=\"execution-edit-info-item\">                        <span>{{ $ctrl.position.Units | unitsOpenClose: $ctrl.instrument : 6 : true }}</span>                    </span>                </div>                <div class=\"execution-edit-info redeem-position\">                    <span class=\"execution-edit-info-item\">{{:: $root.t.dynamic('portfolioManualTrades' , 'fees')}}</span>                    <span class=\"execution-edit-info-item\">                        <span class=\"item-details\">{{ $ctrl.redeemFee | number:$ctrl.precision}}</span>                    </span>                </div>                <div class=\"execution-edit-info redeem-position\">                    <span class=\"execution-edit-info-item\">{{_netUnits_}}</span>                    <span class=\"execution-edit-info-item\">                        <span class=\"item-details\"> {{$ctrl.netUnits | number:$ctrl.precision}} </span>                        <span class=\"item-description\">{{ $ctrl.netAmount | currencyparser:2}}</span>                    </span>                </div>            </div>            <div class=\"execution-additional-info\"                ng-if=\"!$ctrl.wallet\">                <ul ng-if=\"$ctrl.isRegulationASICorASICGaml\">                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'noWalletBulet1', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'noWalletBulet2', this)\"></li>                    <li ng-if=\"$ctrl._isShowMessageForTRX()\"                        ng-bind-html=\"$root.t.dynamic('payments', 'rpCreateListTRX', $ctrl.interpolationObjectForList)\">                    </li>                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'noWalletBulet3', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'NowalletBulet4', this)\"></li>                </ul>                <ul ng-if=\"!$ctrl.isRegulationASICorASICGaml\">                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'noWalletBulet1', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'noWalletBulet2', this)\"></li>                    <li ng-if=\"$ctrl._isShowMessageForTRX()\"                        ng-bind-html=\"$root.t.dynamic('payments', 'rpCreateListTRX', $ctrl.interpolationObjectForList)\">                    </li>                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'noWalletBulet3', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'NowalletBulet4', this)\"></li>                </ul>            </div>            <div class=\"execution-additional-info has-wallet with-important-info\"                ng-if=\"$ctrl.wallet\">                <div class=\"important-info\">                    <p class=\"info\"                       ng-if=\"$ctrl.isRegulationASICorASICGaml\"                       ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'walletSendTo', this)\">                    </p>                    <p class=\"info\"                        ng-if=\"!$ctrl.isRegulationASICorASICGaml\"                        ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'walletSendTo', this)\">                    </p>                </div>                <ul ng-if=\"$ctrl.isRegulationASICorASICGaml\">                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'walletBulet1', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'walletBulet2', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemCfdPositionDialog', 'walletBulet3', this)\"></li>                </ul>                <ul ng-if=\"!$ctrl.isRegulationASICorASICGaml\">                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'walletBulet1', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'walletBulet2', this)\"></li>                    <li ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'walletBulet3', this)\"></li>                </ul>            </div>            <div class=\"execution-button-wrapper mobile-ui\">                <div class=\"execution-action-button full-execution-button redeem-popup-button\">                    <button class=\"execution-button button-standard button-blue\"                        data-etoro-automation-id=\"transfer-button\"                        ng-disabled=\"$ctrl.isInProcess\"                        ng-click=\"$ctrl.redeem()\">                        <span ng-if=\"$ctrl.isRegulationASICorASICGaml\"                            data-etoro-locale-ns=\"redeemCfdPositionDialog\">                            {{_redeemBtn_}}                        </span>                        <span ng-if=\"!$ctrl.isRegulationASICorASICGaml\"                            data-etoro-locale-ns=\"redeemPositionDialog\">                            {{_redeemBtn_}}                        </span>                    </button>                </div>            </div>            <div class=\"execution-footer mobile-ui\">                <div class=\"footer-license-info\">                    <span ng-if=\"$ctrl.isRegulationCYSECAndIsGermany\"                        ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'GermanCysecFooter', this)\"                        data-etoro-automation-id=\"redeem-position-dialog-footer-germany-cysec\">                    </span>                    <span ng-if=\"!$ctrl.isRegulationCYSECAndIsGermany\"                        ng-bind-html=\"$root.t.dynamic('redeemPositionDialog', 'walletFooter', this)\"                        data-etoro-automation-id=\"redeem-position-dialog-footer-wallet\">                    </span>                </div>            </div>        </div>    </div></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[207][0],["angular",rA[35][0]],function(i,t){"use strict";function e(i,t,e,o,s,n){this.privatePositionFacade=s,this.privatePortfolioFacade=n,this.$rootScope=i,this.$analytics=t,this.redeemService=e,this.loader=o,this.regulationId=i.session.user.regulationId,this.isInProcess=!1}return e.$inject=["$rootScope","$analytics","integrations.wallet.redeemCrytoService","infrastruct.services.loader","bl.factories.trading.portfolio.privatePositionFacade","bl.factories.trading.portfolio.portfolioFacade"],e.prototype={$onInit:function(){this.subscription=this.privatePortfolioFacade.getPosition(this.positionId).subscribe(function(i){this.position=i}.bind(this)),this.instrument=this.position.Instrument},$onDestroy:function(){this.subscription&&this.subscription.unsubscribe()},reverseRedeem:function(){var i=this.$rootScope.session.user;this.isInProcess=!0,this.$analytics.eventTrack("Redeem Trade - Cancel",{Instrument:this.instrument.SymbolFull,units:this.position.Units,VerificationLevel:i.verificationLevel}),this.privatePositionFacade.cancelRedeemPosition(this.position)["finally"](function(){this.isInProcess=!1,this.onComplete(),this.onClose()}.bind(this))},onAbort:function(){this.onClose()}},{bindings:{positionId:"<",onComplete:"&",onClose:"&"},controller:e,templateUrl:t.name}});define(rA[35][0] , [rA[222][0]],function(f){var o={"name":"/etoro/integrations/wallet/redeem/cancelPopup/cancel.redeem.popup.view.html","text":"<div class=\"w-sm execution reverse absolute-override\" data-etoro-locale-ns=\"reverseRedeemPosition\">    <div class=\"w-confirmation-modal-title\"         ng-bind-html=\"$root.t.dynamic('reverseRedeemPosition',(($ctrl.regulationId===4)||($ctrl.regulationId===10)) ? 'dialogTitle.typeB' : 'dialogTitle.typeA', this)\">    </div>    <div class=\"w-share-header-nav-button-x sprite\" ng-click=\"$ctrl.onAbort()\" analytics-on=\"click\" analytics-event=\"\"></div>    <div class=\"w-sm-main ng-scope\">        <div class=\"w-execution-main-head\">            <div class=\"execution-avatar-ph\">                <img class=\"avatar\" ng-src=\"{{:: $ctrl.instrument.Avatars['default']}}\" alt=\"{{:: $ctrl.instrument.name}}\"                automation-id=\"cd-cancel-redeem-avatar\"/>            </div>            <div class=\"user-info stock-sell-buy\">                <span class=\"execution-main-head-title-name\" automation-id=\"cd-cancel-redeem-symbol\">{{:: $ctrl.instrument.Name}}</span>                <span class=\"execution-main-head-title-display-name\" automation-id=\"cd-cancel-redeem-name\"><span class=\"divider\">|</span>  {{:: $ctrl.instrument.DisplayName}}</span>                <div class=\"execution-main-head-title-price\">                    <span class=\"execution-main-head-price-value\" automation-id=\"cd-cancel-redeem-current-rate\">{{ $ctrl.position.CurrentRate | formatRate:  $ctrl.instrument}}</span>                    <span ng-if=\"!$ctrl.position.IsBuy\"                          ng-class=\"{'negative':  $ctrl.instrument.rate.Change.askNumber('Daily') < 0, 'positive':  $ctrl.instrument.rate.Change.askNumber('Daily') > 0}\">                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-ask-change-daily\">                                {{ $ctrl.instrument.rate.Change.askNumber('Daily') | tofixed:  $ctrl.instrument.Precision}}                            </span>                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-ask-change-daily-percentage\">                                ({{  $ctrl.instrument.rate.Change.askPercent('Daily') |  percentageparser  }})                            </span>                        </span>                    <span ng-if=\"$ctrl.position.IsBuy\"                          ng-class=\"{'negative':  $ctrl.instrument.rate.Change.bidNumber('Daily') < 0, 'positive':  $ctrl.instrument.rate.Change.bidNumber('Daily') > 0}\">                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-bid-change-daily\">                                {{ $ctrl.instrument.rate.Change.bidNumber('Daily') | tofixed:  $ctrl.instrument.Precision}}                            </span>                            <span data-etoro-automation-id=\"edit-position-top-info-instrument-rate-bid-change-daily-percentage\">                                ({{  $ctrl.instrument.rate.Change.bidPercent('Daily') | percentageparser }})                            </span>                        </span>                </div>                <div class=\"disclaimer\" automation-id=\"cd-cancel-redeem-disclaimer\">                    <span>{{:: $root.t.dynamic('market' , 'disclaimer.' + $ctrl.instrument.ProviderPriceSource)}}</span>                    <span>{{:: $root.t.dynamic('market' , 'disclaimer.Currency' + $ctrl.instrument.SellCurrencyID) + ' |'}}</span>                    <i class=\"clock-icon\" ng-class=\"{'clock-open': $ctrl.instrument.IsActive, 'clock-close': !$ctrl.instrument.IsActive}\"></i>                    <span ng-class=\"{'market-open': $ctrl.instrument.IsActive}\" ng-bind-html=\"$root.t.dynamic('market', 'disclaimer.marketStateV2', $ctrl.instrument)\">                        </span>                </div>            </div>        </div>        <div class=\"w-sm-details-info-title\"            automation-id=\"cd-cancel-redeem-info\"             ng-bind-html=\"$root.t.dynamic('reverseRedeemPosition',(($ctrl.regulationId===4)||($ctrl.regulationId===10)) ? 'infoText.typeB' : 'infoText.typeA', this)\">        </div>        <div class=\"w-sm-amount-info-close clear-after\">            <div class=\"w-sm-amount-info-unit redeem-position clear-after\">                <div class=\"w-sm-amount-info-label\" automation-id=\"cd-cancel-redeem-sum-label\">{{:: $root.t.dynamic('orders' , 'units')}}</div>                <div class=\"w-sm-amount-info-value ng-binding\" automation-id=\"cd-cancel-redeem-sum-value\">{{$ctrl.position.Units | unitsOpenClose: $ctrl.instrument : 6 : true}}</div>            </div>        </div>    </div>    <div class=\"w-sm-footer\">        <button class=\"execution-button button-standard button-blue pointer\" ng-click=\"$ctrl.reverseRedeem()\" ng-disabled=\"$ctrl.isInProcess\" data-etoro-automation-id=\"reverse-button\">{{_reverseBtn_}}</button>    </div></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[138][0],["underscore"],function(){"use strict";function e(e,i,t,o,n,r,s,a,c,u,l,p){this.$q=e,this.$rootScope=i,this.$http=t,this.$timeout=o,this.$log=n,this.uiDialog=r,this.kycService=s,this.loader=a,this.$injector=c,this.configService=u,this.cryptoRedeemHttpService=l,this.cryptoRedeemExecutionService=p,this.config={openDelay:3e3}}return e.$inject=["$q","$rootScope","$http","$timeout","$log","uiDialog","bl.factories.payments.kycProvider","infrastruct.services.loader","$injector","infrastruct.services.config","crypto.redeem.http.service","crypto.redeem.execution.service"],e.prototype={redeemPosition:function(e){var i=this;this.loader.show();var t=i.isEligibleToRedeem({positionID:e.PositionID,units:e.Units,instrumentID:e.Instrument.InstrumentID,amount:e.Amount}).then(function(t){var o='<et-redeem-popup-wizard [position-id]="uiDialogData.position.PositionID" [response]="uiDialogData.response" (close-wizard-dialog)="uiDialogData.onClose()"></et-redeem-popup-wizard>';i.uiDialog.open({plain:!0,template:o,data:{position:e,response:t,onClose:function(){i.uiDialog.close()}},className:"redeem-trade-dialog"})})["catch"](function(e){return e})["finally"](function(){i.loader.hide()});return t},isEligibleToRedeem:function(e){return this.$q(function(i,t){this.cryptoRedeemHttpService.getRedeemDataAsPromise(e).then(function(e){if(e.Success)i(e);else{var o=e.ErrorCode;switch(o){case"WireDepositsValidation":t({error:o,amount:e.WireAggrAmount});break;case"NotAutoVerifiedPhone":t({error:o});break;default:this._showToastNotification({}),t()}}}.bind(this))["catch"](function(){this._showToastNotification({}),t()}.bind(this))}.bind(this))},processRedeemRequest:function(e,i){var t=this;return this.kycService.loadWithdrawModal().then(function(){return this.$http.post("/api/billing/redeem/process",{positionID:e.PositionID,units:e.Units,instrumentID:e.Instrument.InstrumentID,amount:e.Amount,referenceID:i}).then(function(e){return e})["catch"](function(e){return t.$log.logJSON("info","log",{Categories:["KYC","Redeem"],Message:"KYC reject received on redeem Request",Domain:"Compliance"}),t.$q.reject(e)})}.bind(this))},openCancelRedeemPositionPopup:function(e,i){this.uiDialog.open({plain:!0,template:'<cancel-redeem-position-popup  on-complete="uiDialogData.onComplete()" on-close="uiDialogData.onClose()" position-id="uiDialogData.position.PositionID"></cancel-redeem-position-popup>',data:{position:e,onComplete:function(){i&&"portfolioHistoryCashflows"===i&&this.$rootScope.$emit("payments:portfolioHistoryCashflows:cancelRedeemPositionPopupClosed")}.bind(this),onClose:function(){this.uiDialog.close()}.bind(this)}})},validateRedeem:function(e,i){var t={isEnabled:!1,errorReason:""};if(!e)return t;var o=e.isCMT;if(o)return t.errorReason="cmt",t;var n=e.Units<i.minPositionUnitsForRedeem,r=e.Units>i.maxPositionUnitsForRedeem;return n?(t.errorReason="min",t):r?(t.errorReason="max",t):(t.isEnabled=!0,t)},_showToastNotification:function(e){this.$injector.get("bl.factories.trading.walletNotificationsService").redeemError(e)}},e});define(rA[237][0],["angular","moduleDefiner",rA[206][0],rA[256][0]],function(r,e,t,o){"use strict";var i,a="historyApp";return i=e(a,["ngRoute","ngSanitize",t,o]),i.config(["$routeProvider","ctrlResolverProvider",function(r,e){e.register;r.when("/portfolio/history",{template:"<et-private-history-overview-page></et-private-history-overview-page>",authRoles:["user"],mainNavId:"portfolio",showFooter:!0}),r.when("/portfolio/history/market/:id",{template:'<et-private-history-instrument-breakdown [group]="$resolve.Group"></et-private-history-instrument-breakdown>',sharePages:{showShareButton:!0,urlKey:"MyUserPagePortfolioHistory"},authRoles:["user"],showFooter:!0,resolve:{Group:["bl.factories.history.privateHistoryFacade","$route","$q",function(r,e,t){return t(function(t,o){var i;return e.current&&e.current.params&&e.current.params.id?(i=r.getSavedFilterByDate(),void r.getInstrumentHistoryByName(e.current.params.id,i&&i.from).then(t)["catch"](o)):void o({})})}]}}),r.when("/portfolio/history/people/:id",{sharePages:{showShareButton:!0,urlKey:"MyUserPagePortfolioHistory"},authRoles:["user"],showFooter:!0,template:'<et-private-history-mirror-flat-page [group]="$resolve.Group"></et-private-history-mirror-flat-page>',resolve:{Group:["bl.factories.history.privateHistoryFacade","$route","$q","$location",function(r,e,t){return t(function(t,o){var i;return e.current&&e.current.params&&e.current.params.id?(i=r.getSavedFilterByDate(),void r.getMirrorAggregatedHistoryByMirrorId(e.current.params.id,i&&i.from).then(t)["catch"](o)):void o({})})}]}}),r.when("/portfolio/history/people/:name/:id",{template:'<et-private-history-mirror-breakdown [group]="$resolve.Group"></et-private-history-mirror-breakdown>',sharePages:{showShareButton:!0,urlKey:"MyUserPagePortfolioHistory"},authRoles:["user"],controllerAs:"historyMirrorDetailedViewCtrl",showFooter:!0,resolve:{Group:["bl.factories.history.privateHistoryFacade","$route","$q",function(r,e,t){return t(function(t,o){return e.current&&e.current.params&&e.current.params.id?void r.getMirrorHistoryInfoByMirrorId(e.current.params.id).then(t)["catch"](o):void o({})})}]}}),r.when("/portfolio/history/cashflows",{template:"<et-cash-flows-items></et-cash-flows-items>",mainNavId:"portfolio",authRoles:["user"]}),r.when("/portfolio/history/cashflows/:timeFrame?",{template:'<et-cash-flows-items [default-time-frame]="$resolve.timeFrame"></et-cash-flows-items>',mainNavId:"portfolio",authRoles:["user"],resolve:{timeFrame:["$route","$q",function(r,e){var t=r.current&&r.current.params&&r.current.params.timeFrame;return e.resolve(t)}]}})}]),i});define(rA[209][0],["angular",rA[246][0],rA[257][0]],function(n,e,i){"use strict";var o=n.module("loginApp",[e.name,i.name]);return o});define(rA[246][0],["angular",rA[224][0],rA[177][0],rA[252][0],rA[248][0]],function(e,i,a,r,s){"use strict";var t=e.module("bl.factories.login",[a.name,r.name,s.name]);return t.config(["$provide","infrastruct.services.configProvider",function(e,i){var a=i.getConfig();e.value("requestedScopes",a.statics.login.requiredScopes),e.value("getwayAppId",a.statics.login.gatewayAppId);var r="file:"===window.location.protocol?"file://":a.calculated.baseUrl;e.value("applicationDomain",r)}]),t.service("qs",i),t});define(rA[257][0],["angular",rA[166][0],rA[199][0],rA[185][0],rA[252][0],rA[160][0],rA[59][0],rA[57][0],rA[127][0],rA[58][0],rA[159][0],rA[56][0]],function(s,e,i,o,r,t,n,a,c,f,l,b){"use strict";var u=s.module("bl.factories.base.session",["ngCookies","ngRoute",i.name,o.ngModule.name]);return u.service("bl.factories.session.sessionFactory",t),u.service("bl.factories.session.sessionStorageFactory",c),u.service("bl.factories.session.userClassificationService",l),u.factory("bl.factories.session.headersInjector",n),u.factory("bl.factories.session.unAuthorizedInjector",a),u.factory("bl.factories.session.userClassificationInjector",f),u.factory("bl.factories.session.sessionAbTestHeadersInterceptor",b),u.config(["$httpProvider",function(s){s.interceptors.push("bl.factories.session.headersInjector"),s.interceptors.push("bl.factories.session.unAuthorizedInjector"),s.interceptors.push("bl.factories.session.userClassificationInjector"),s.interceptors.push("bl.factories.session.sessionAbTestHeadersInterceptor")}]),u.run(["bl.factories.session.userClassificationService",function(){}]),u});define(rA[160][0],["angular"],function(t){"use strict";function e(t,e,i,n,o,a,s,r,c,g,u,l){this.sessionStorage=g,this.localizeFactory=c,this.localStorage=r,this.config=s,this.requestedScopes=u,this.$rootScope=t,this.$location=e,this.$route=i,this.$log=n,this.$q=o,this.$cookies=a,this.$injector=l,this.restored=!1,this._initDeffered=null,t.$on("logout:success",this.destroy.bind(this)),t.$on("app:maintenance",this.destroy.bind(this)),t.$on("user:settings:revoke:success",this._removeApplicationLoginData.bind(this))}return e.$inject=["$rootScope","$location","$route","$log","$q","$cookies","infrastruct.services.config","infrastruct.services.localStorage","infrastruct.services.localization.localizeFactory","bl.factories.session.sessionStorageFactory","requestedScopes","$injector"],e.prototype={get user(){return this._user},get token(){return this.stsData&&this.stsData.accessToken},get csrfToken(){return this._csrfToken||(this.stsData&&this.stsData.antiCsrfToken?(this._csrfToken=this.stsData.antiCsrfToken,this.localStorage.setItem("cToken",this._csrfToken)):this.config.query.ctoken?(this._csrfToken=this.config.query.ctoken,this.localStorage.setItem("cToken",this._csrfToken)):this._csrfToken=this.localStorage.getItem("cToken")),this._csrfToken},get authenticationToken(){return this.authenticationData&&this.authenticationData.accessToken},get deviceToken(){return"string"==typeof this.deviceAuthData?this.deviceAuthData:this.deviceAuthData&&this.deviceAuthData.token?this.deviceAuthData.token:void 0},get stsData(){return this._stsData},get authenticationData(){return this._authenticationData},get deviceAuthData(){return this._deviceAuthData},get appInfoData(){return this._appInfoData},get isLoggedIn(){return!!this.user&&!!this.stsData},get locale(){return this.localizeFactory.language},get userRole(){return this.isLoggedIn?"user":"guest"},create:function(t){return this.setSts(t)},setSts:function(e){if(!t.isObject(e))return this.$q.reject(new AppError("try to create session with empty data","sessionFactory","STS_ERROR",null));return this._stsData=e,this.sessionStorage.saveApplicationLoginData(this).then(function(){return e})},restore:function(){var t=this;return this._initDeffered?this._initDeffered:(t._updatePerformanceData("appRestoreStart"),this._initDeffered=this.$q(function(e,i){{var n=function(n){return function(){t.restored=!0,t._updatePerformanceData("appRenderStarAfterSessionRestore"),n?e():i(),t.isLoggedIn&&t._updatePerformanceData("appRenderStarAfterAutoLogin")}};t.$injector.get("bl.factories.login.loginFactory")}t.signupLogin().then(n(!0))["catch"](function(e){t.$log.logJSON("error","log",{Categories:["Login"],Message:"signup login failed",FailureReason:e,Domain:"Infra"}),t.createAndOpenVault()["catch"](function(e){t.$log.logJSON("error","log",{Categories:["Login","Biometrics"],Message:"create and open vault failed",FailureReason:e,Domain:"Infra"})})["finally"](function(){t.localStorageApplicationLogin().then(n(!0))["catch"](function(e){t.$log.logJSON("error","log",{Categories:["Login"],Message:"localStorageApplicationLogin failed",FailureReason:e,Domain:"Infra"}),t.localStorageAuthentication().then(n(!0))["catch"](function(){t.$log.logJSON("error","log",{Categories:["Login"],Message:"localStorageAuthentication failed",Domain:"Infra"}),t.secureStorageDeviceLogin().then(n(!0))["catch"](function(e){t.$log.logJSON("error","log",{Categories:["Login"],Message:"secureStorageDeviceLogin failed",FailureReason:e,Domain:"Infra"}),t.autoLogin().then(n(!0))["catch"](function(e){t.$log.logJSON("error","log",{Categories:["Login"],Message:"autoLogin failed",FailureReason:e,Domain:"Infra"}),setTimeout(n(!1))})})})})})})}))},getAppInfo:function(){var t=this.$injector.get("bl.factories.login.loginFactory");return t.getAppInfo()},createAndOpenVault:function(){if(!this.config.dynamics.isWrapper)return this.$q.resolve();var t=this.$injector.get("auth.biometricLoginService");return t.initVault()},localStorageApplicationLogin:function(){var t=this;return this.duringLocalStorageApplicationLogin=!0,this.getAppInfo().then(function(e){return t.setApplicationData(e),t.sessionStorage.getApplicationLoginData(e.applicationId).then(function(e){if(!e||!e.accessToken||t._isApplicationTokenExpired(e.expirationUnixTimeMs))return t.$q.reject();performance.mark("perf:lightstreamer:simulatedAtLocalStorageLogin"),t._isPerfAutoLogin=!0,t._restoreAuthenticationData()["catch"](function(){}),t._restoreDeviceAuthData()["catch"](function(){});var i=t.$injector.get("bl.factories.login.loginFactory");i.startRefreshTokenTimer(e.expirationUnixTimeMs);var n=t.$injector.get("bl.factories.login.permissions.approval");return n.hasMissingPermissions(t.requestedScopes,e.accessToken).then(function(i){return i.hasMissingScopes?(t.setApplicationData(i),t.$q.reject()):t._login({source:{type:"auto"},timerData:{label:"reloginFunnel"},logData:{ReLogin:!0,SilentLogin:!1},tracking:{Type:"Auto"}},e)})})})["finally"](function(){t.duringLocalStorageApplicationLogin=!1})},localStorageAuthentication:function(){var t=this,e=this.$injector.get("bl.factories.login.loginFactory"),i=this.$injector.get("bl.factories.login.permissions.approval");return this._restoreAuthenticationData().then(function(){return t._restoreDeviceAuthData()["catch"](function(){}),i.hasMissingPermissions(t.requestedScopes).then(function(i){return i.hasMissingScopes?(t.setApplicationData(i),t.$q.reject()):e.refreshToken().then(function(e){return t._login({source:{type:"auto exchange"},timerData:{label:"reloginFunnel"},logData:{ReLogin:!0,SilentLogin:!1,AutoExchange:!0},tracking:{Type:"Auto"}},e)})})})},secureStorageDeviceLogin:function(){var t=this;if(!this.config.dynamics.isWrapper)return t.$log.logJSON("error","log",{Categories:["Login","Biometrics"],Message:"not continue with secure storage",FailureReason:"is not wrapper",Domain:"Infra"}),this.$q.reject();var e=this.$injector.get("auth.biometricLoginService"),i=e.getSavedBioData(),n=e.getLastUserGcid();if(!i[n]||!i[n].hasBio)return t.$log.logJSON("error","log",{Categories:["Login","Biometrics"],Message:"not continue with secure storage",FailureReason:"is not biometric user",bioData:JSON.stringify(i)+"lastgcid"+n,Domain:"Infra"}),this.$q.reject();var o=this.$injector.get("bl.factories.login.permissions.approval");return this._restoreDeviceAuthData().then(function(){return o.hasMissingPermissions(t.requestedScopes).then(function(i){return i.hasMissingScopes?(t.setApplicationData(i),t.$q.reject()):e.biometricLogin().then(function(e){return t._login({source:{type:"auto device"},timerData:{label:"reloginFunnel"},logData:{ReLogin:!0,SilentLogin:!1},tracking:{Type:"Auto"}},e)})})})},_updatePerformanceData:function(t){window.eToroLoadPerformance&&window.eToroLoadPerformance.setTime(t)},_restoreAuthenticationData:function(){var t=this;return this.getAppInfo().then(function(e){return t.setApplicationData(e),t.sessionStorage.getAuthenticationData().then(function(e){return e&&e.accessToken?(t.setAuthenticationData(e,!0),e):t.$q.reject()})})},_restoreDeviceAuthData:function(){var t=this,e=this.$injector.get("auth.secureStorageService");if(!this.config.dynamics.isWrapper)return this.$q.resolve();var i=this.$injector.get("auth.biometricLoginService"),n=i.getSavedBioData(),o=i.getLastUserGcid(),a=n[o]&&n[o].hasBio;return a?t.sessionStorage.getDeviceAuthData().then(function(i){return i?t.setDeviceAuthData(i,o):e.isUserCanceled?t.$q.reject():(n[o].hasBio=!1,e.isUserCanceled=!1,t.localStorage.setItem("bioData",n),t.$log.logJSON("error","log",{Categories:["Login","Biometrics"],Message:"Deactivating biometric user - device token is invalid for biometric user",FailureReason:i?"No token":"No device auth data",Domain:"Infra"}),t.$injector.get("bl.factories.notifications.infraNotificationsService").biometricTypeChangeError(),e.initializeVault()["finally"](function(){return t.$q.reject()}))}):this.$q.resolve()},autoLogin:function(){var t=this.config.initialParams.loginData,e=this;return t&&t.accessToken?(delete this.config.initialParams.loginData,this.getAppInfo().then(function(i){return e.setApplicationData(i),e._login({source:{type:"silent"},timerData:{label:"silentLoginFunnel"},logData:{ReLogin:!1,SilentLogin:!0},tracking:{Type:"Silent"}},t)})):this.$q.reject()},manualLogin:function(t,e){var i=Math.random().toString(36).slice(2),n=this;return t&&t.accessToken?this.getAppInfo().then(function(o){return n.setApplicationData(o),n._login({source:{type:"manual"},timerData:{label:"loginFunnel"},logData:{ReLogin:!1,SilentLogin:!1,TypedUsername:e,Username:e,LoginID:i},tracking:{TypedUsername:e,Type:"Manual",category:"login",label:"login"}},t)}):this.$q.reject()},signupSocialLogin:function(t){var e=this.$injector.get("bl.factories.login.loginFactory"),i=this;return!t&&this.sessionStorage.hasRegistrationData&&(t=this.sessionStorage.getRegistrationData()),t&&t.accessToken?(this.setAuthenticationData(t),this.getAppInfo().then(function(n){return i.setApplicationData(n),t.missingScopes&&t.missingScopes.length>0?(i.setApplicationData({hasMissingScopes:!0,missingScopes:t.missingScopes}),i.$q.reject()):e.refreshToken().then(function(t){return i._login({source:{type:"socialRegistration"},timerData:{label:"socialRegistrationFunnel"},logData:{ReLogin:!1,SilentLogin:!0},tracking:{Type:"SSO"}},t)})})):this.$q.reject()},signupLogin:function(t){return this._signupLogin(t)},_signupLogin:function(t){var e=this;if(!t&&this.sessionStorage.hasRegistrationData&&(t=this.sessionStorage.getRegistrationData()),!t||!t.accessToken)return this.$q.reject();if(t&&t.gcid){var i=this.$injector.get("auth.biometricLoginService");i.setLastUserGcid(t.gcid)}return this.setAuthenticationData(t),this.localStorage.setItem("isRegistered",!0),this.getAppInfo().then(function(i){if(e.setApplicationData(i),t.missingScopes&&t.missingScopes.length>0)return e.setApplicationData({hasMissingScopes:!0,missingScopes:t.missingScopes}),e.$q.reject();var n=e.$injector.get("bl.factories.login.loginFactory");return n.refreshToken().then(function(t){return e._login({source:{type:"registration"},timerData:{label:"registrationLoginFunnel"},logData:{ReLogin:!1,SilentLogin:!0},tracking:{Type:"Registration"}},t)})})},isAuthorized:function(e){return t.isArray(e)||(e=[e]),-1!==e.indexOf(this.userRole)},isInMaintenance:function(t){return!!this.config.dynamics.apisMaintenance[t]},setApplicationData:function(e){this._appInfoData?t.extend(this._appInfoData,e):this._appInfoData=e},setAuthenticationData:function(e,i){var n=this;return t.isObject(e)?(this._authenticationData=e,i?this.$q.resolve(e):this.sessionStorage.saveAuthenticationData(this).then(function(){return n.$q.resolve(e)})):this.$q.reject(new AppError("try to create authentication data with empty data","sessionFactory","STS_ERROR",null))},setDeviceAuthData:function(t,e){this._deviceAuthData=t;var i=this;return this.sessionStorage.saveDeviceAuthData(t,e).then(function(){return i.$q.resolve(t)})},assertMaintenance:function(t){return this.isInMaintenance(t)?(this.$injector.get("bl.factories.notifications.infraNotificationsService").appMaintenanceServiceError({service:t}),!0):!1},assertIsAuthorized:function(t){return t||(t="user"),this.isAuthorized(t)?!0:"signup"===this.config.query.funnel?(this.$location.path("/accounts/sign-up"),!1):(this.$location.path("/login"),!1)},destroy:function(t,e){this._destroy(e)},_isApplicationTokenExpired:function(t){return Date.now()>=t},_login:function(e,i){var n=t.extend({Message:"Login success",Domain:"Infra"},e.logData,{Categories:["Login"]});return this.$log.logJSON("info","log",n),this.create(i).then(function(t){return this._setRedirectCookie(),t}.bind(this))},_destroy:function(t){var e=this;this._removeLoginData(t).then(function(){e.duringLocalStorageApplicationLogin||(e._initDeffered=null),e._stsData=null,e._user=null,e._csrfToken=null})["catch"](function(){})},_removeApplicationLoginData:function(t,e){e&&e.application&&this.sessionStorage.removeApplicationLoginData(e.application)},_removeLoginData:function(t){var e=!(!t||!t.isManual),i=!(!t||!t.isAuthTokenUnauthorized);return i?this.sessionStorage.removeAuthenticationData():e&&this.appInfoData.isInternal?this.sessionStorage.removeLoginData():this.sessionStorage.removeApplicationLoginData(this.appInfoData)},_setRedirectCookie:function(){var t=new Date;t.setFullYear(2100),this.$cookies.put("etoroHPRedirect","1",{path:"/",expires:t,domain:".etoro.com"})}},e});define(rA[59][0],[],function(){"use strict";function t(t,e,i,n,a){var o={request:function(o){function s(){try{return/embed/.test(window.location.href)}catch(t){}}var r=t.session,c=e.dynamics.urls.staticApiUrl;if(o.timeout=o.timeout||3e4,!e.dynamics.disableStaticAPI&&o.staticAPI===!0)return-1===o.url.indexOf(c)&&(o.url=c+o.url),o;if(o.addHeaders===!1)return o;var d=o.addHeaders||{},p=o.headers;if(0!=d.accountType&&!p.AccountType){var u=a.get("bl.factories.trading.portfolio.accountFacade").account;p.AccountType=r.isLoggedIn&&u.type||"Real"}if(0!=d.auth&&(0!=d.csrfToken&&r.csrfToken&&(p["X-CSRF-TOKEN"]=r.csrfToken),d.authenticationToken&&r.authenticationToken?p.Authorization=r.authenticationToken:r.token&&(p.Authorization=r.token)),0!=d.appInfo&&(p.ApplicationIdentifier=e.statics.ApplicationIdentifier,p.ApplicationVersion=e.statics.ApplicationVersion,e.statics.httpConfig&&e.statics.httpConfig.withCredentials)){var f=e.dynamics.http&&e.dynamics.http.withCredentialsRoutes;f&&("*"===f||o.url.match(new RegExp(f,"gi")))&&(o.withCredentials=!0)}return d.gatewayAppId&&(p["X-STS-GatewayAppId"]=i),d.appDomain&&(p["X-STS-AppDomain"]=n),d.refreshToken&&!s()&&(p["X-STS-JWT"]=!0),0!=d.deviceId&&(p["X-STS-DeviceId"]=e.dynamics.userSession),0!=d.sessionId&&(p["X-Session-Id"]=e.dynamics.sessionGuid),o}};return o}return t.$inject=["$rootScope","infrastruct.services.config","getwayAppId","applicationDomain","$injector"],t});define(rA[57][0],[],function(){"use strict";function e(e,t,n,i,o,r){function a(n){window.startTimeStempFromLoginBTN=void 0,window.startTimeStempEver=void 0;var i=t.path();e.$broadcast("logout:success",{isAuthTokenUnauthorized:n}),i&&"/login"!==i&&(o.query.next=encodeURI(t.url())),t.url("/login").search(t.search())}function s(e,t){if(!l){var o=n.get("bl.factories.login.loginFactory");l=o.refreshToken()}return l.then(function(t){return l=null,e.headers.Authorization=t.accessToken,e})["catch"](function(){return l=null,a(t),i.reject({data:{error:{failureReason:"refreshTokenUnauthorized"}},status:401,config:e})})}function u(t){var o=n.get("$http");return i(function(i,r){var a=n.get("uiDialog");a.open({plain:!0,template:'<et-elevation-dlg [dialog-reason]="uiDialogData.dialogReason" (on-close)="closeThisDialog();uiDialogData.onClose()" (on-success)="closeThisDialog();uiDialogData.onSuccess(sts)"></et-elevation-dlg>',data:{dialogReason:e.session.user.isAccountClosureInProcess?"closeAccount":"passwordConfirmation",onSuccess:function(){i(o(t.config))}.bind(this),onClose:function(){r(t)}.bind(this)},isNewDesign:!0})})}function c(e){var t=n.get("auth.secureStorageService"),o=n.get("auth.biometricLoginService"),r=n.get("$http");return t.showBioPrompt().then(function(){return o.biometricLogin().then(function(){return r(e.config)})["catch"](function(){return n.get("auth.loginNotifications").elevationBioLoginFalied(),i.reject(e)})})["catch"](function(){return u(e)})}var l=null;return{request:function(t){var n=!(!t.addHeaders||!t.addHeaders.authenticationToken),o=t.headers.Authorization;if(!o)return t;var u=e.session.stsData,c=e.session.authenticationData;if(c&&c.expirationUnixTimeMs){var l=Date.now()>c.expirationUnixTimeMs;if(l)return r.logJSON("info","log",{Categories:["logout","infra"],Message:"logged out because refresh token expiration",RequestedURL:t.url,Domain:"Infra"}),a(n),i.reject({data:{error:{failureReason:"refreshTokenUnauthorized"}},status:401,config:t})}if(u&&u.expirationUnixTimeMs&&!n){var l=Date.now()>u.expirationUnixTimeMs;if(l)return s(t)}return t},responseError:function(t){var r=t.config||{},l=!(!r.addHeaders||!r.addHeaders.authenticationToken),f=!(!r.headers||!r.headers.Authorization),g=e.session.stsData&&e.session.stsData.expirationUnixTimeMs,d=n.get("$http");if(t&&t.status&&401===t.status){if("Partial"===t.headers("x-unauthorizedstatus")){var h=n.get("auth.biometricLoginService"),v=o.dynamics.isWrapper;return v&&h.isCurrUserBioEnabled()?c(t):u(t)}if(l)a(l);else if(f&&g&&Date.now()>g)return s(t.config,l).then(function(e){return d(e)})}return i.reject(t)}}}return e.$inject=["$rootScope","$location","$injector","$q","infrastruct.services.config","$log"],e});define(rA[127][0],["underscore"],function(t){"use strict";function e(t,e,i,a,n,o){this.localStorage=t,this.sessionStorage=e,this.$cookies=a,this.ETORO_APP_ID=1,this.$injector=n,this.$q=o,this.config=i}return e.$inject=["infrastruct.services.localStorage","infrastruct.services.sessionStorage","infrastruct.services.config","$cookies","$injector","$q"],e.prototype={get rememberMe(){return this.localStorage.getItem("rememberMe")!==!1},get hasRegistrationData(){return!!this.$cookies.get("regData")},getLoginObject:function(){return this._getStorage().getAsyncEncodedItem("loginData").then(function(t){return t?t:null})},getAllDeviceTokens:function(){var t=this.config.deviceIdOverwritten,e=t?"deviceLoginData_"+this.config.dynamics.userSession:"deviceLoginData",i=this.localStorage.getItem(e)||{};return Object.values(i).map(function(t){return"string"==typeof t.deviceAuthData?t.deviceAuthData:t.deviceAuthData.token?t.deviceAuthData.token:void 0}).filter(Boolean)},getDeviceLoginObject:function(){var t=this.config.deviceIdOverwritten,e=t?"deviceLoginData_"+this.config.dynamics.userSession:"deviceLoginData",i=this.localStorage.getItem(e)||{},a=this.localStorage.getItem("lastUserGcid");if(i[a])return this.$q.resolve(i[a]);return this._getStorage().getAsyncEncodedItem("deviceLoginData").then(function(t){return t?(i[a]=t,t):null})},getAuthenticationData:function(){var t=this;return this.getLoginObject().then(function(e){return t._isValidAuthenticationData(e)?e.authenticationData:null})},getApplicationLoginData:function(t){var e=this;return this.getLoginObject().then(function(i){return t===e.ETORO_APP_ID?e._isValidApplicationLoginData(i,t)||e._isValidOldLoginData(i)?i["stsData_app_"+t]||i.stsData:null:e._isValidApplicationLoginData(i,t)?i["stsData_app_"+t]:null})},getDeviceAuthData:function(){var t=this;return this.getDeviceLoginObject().then(function(e){return t._isValidDeviceAuthData(e)?e.deviceAuthData:null})},getRegistrationData:function(){var t=this.$cookies.get("regData"),e=null;try{e=JSON.parse(t)}catch(i){}return this._isValidAuthenticationData(e)?(this.$cookies.remove("regData"),e.authenticationData):null},saveApplicationLoginData:function(e){var i,a={};if(e&&e.appInfoData&&e.stsData){i=e.appInfoData.applicationId,a["stsData_app_"+i]=e.stsData,i===this.ETORO_APP_ID&&(a.stsData=e.stsData);var n=this;return this.getLoginObject().then(function(e){return n._getStorage().setAsyncEncodedItem("loginData",t.extend(e||{},a))})}return this.$q.resolve()},saveAuthenticationData:function(t){var e=this;return this.removeLoginData().then(function(){return t&&t.authenticationData?e._getStorage().setAsyncEncodedItem("loginData",{authenticationData:t.authenticationData}):void 0})},saveDeviceAuthData:function(t,e){var i=this.config.deviceIdOverwritten,a=i?"deviceLoginData_"+this.config.dynamics.userSession:"deviceLoginData",n=this.localStorage.getItem(a)||{};return n[e]={deviceAuthData:t},this.localStorage.setItem(a,n),this._hasBioByGcid(e)?this._getStorage().setAsyncEncodedItem("deviceLoginData",{deviceAuthData:t}):this.$q.resolve()},removeApplicationLoginData:function(t){if(t){var e=this;return this.getLoginObject().then(function(i){var a=t.applicationId;return i?(delete i["stsData_app_"+a],a===e.ETORO_APP_ID&&delete i.stsData,Object.keys(i).length>0?e._getStorage().setAsyncEncodedItem("loginData",i):e.removeLoginData()):void 0})}return this.$q.resolve()},removeAuthenticationData:function(){var t=this;return this.getLoginObject().then(function(e){return e?(delete e.authenticationData,Object.keys(e).length>0?t._getStorage().setAsyncEncodedItem("loginData",e):t.removeLoginData()):void 0})},removeLoginData:function(){this.localStorage.removeItem("loginData"),this.sessionStorage.removeItem("loginData");var t=this.$injector.get("auth.secureStorageService");return t.isVaultExist&&!t.isVaultLocked&&t.removeItem("loginData"),this.$q.resolve()},_getStorage:function(){var t=this.$injector.get("auth.secureStorageService");return t.isVaultExist&&!t.isVaultLocked?t:this.rememberMe?this.localStorage:this.sessionStorage},_isValidAuthenticationData:function(t){if(!t||!t.authenticationData)return!1;var e=t.authenticationData;if(isNaN(e.expirationUnixTimeMs)||new Date(e.expirationUnixTimeMs)<=new Date)return!1;var i=this.localStorage.getItem("lastUserGcid"),a=this._hasBioByGcid(i);return this.config.dynamics.isWrapper&&a&&new Date(e.expirationUnixTimeMs)<=new Date(Date.now()+432e5)?!1:!0},_hasBioByGcid:function(t){var e=this.localStorage.getItem("bioData")||{},i=e[t]&&e[t].hasBio;return i},_isValidApplicationLoginData:function(t,e){if(!t||!t["stsData_app_"+e])return!1;var i=t["stsData_app_"+e];return isNaN(i.expirationUnixTimeMs)||new Date(i.expirationUnixTimeMs)<=new Date?!1:!0},_isValidDeviceAuthData:function(t){return t&&t.deviceAuthData},_isValidOldLoginData:function(t){return t&&t.stsData?isNaN(t.stsData.expirationUnixTimeMs)||new Date(t.stsData.expirationUnixTimeMs)<=new Date?!1:!0:!1}},e});define(rA[58][0],[],function(){"use strict";function e(e,s,n,i,r,t,a){function o(s){if(s&&s.isInMaintenance&&s.MaintenanceRedirectUrl){var n=e.session&&e.session.user&&e.session.user.username||"Visitor";i.eventTrack("Login - Error",{Reason:"Throttling",Username:n}),a.navigate(s.MaintenanceRedirectUrl)}}return{request:function(s){var n=t.dynamics;return n.userCalssification&&s.addHeaders!==!1&&(n.disableStaticAPI||s.staticAPI!==!0)?(s.headers["X-Etoro-U-Class"]=r.info.uClass,s.headers["X-Etoro-U-In-App"]=e.session.isLoggedIn,s):s},responseError:function(e){return e&&503===e.status&&e.data&&o(e.data.error),n.reject(e)}}}return e.$inject=["$rootScope","$location","$q","$analytics","bl.factories.session.userClassificationService","infrastruct.services.config","infrastruct.services.maintenanceNavigation"],e});define(rA[159][0],["angular"],function(s){"use strict";function i(s,i){this.cacheKey="uScore",this.$rootScope=s,this.localStorage=i,this.isDepositor=!1,this.scoring={pi:500,etorian:400,platinum:300,gold:200,silver:100,depositor:50},this.playerLevelScoreMap={4:this.scoring.etorian,2:this.scoring.platinum,3:this.scoring.gold,5:this.scoring.silver},this.info=this._getInfo(),s.$on("login:success",this._setInfo.bind(this)),s.$on("logout:success",this._setInfo.bind(this)),s.$on("user:info:depositor",this._isDepositor.bind(this))}return i.$inject=["$rootScope","infrastruct.services.localStorage"],i.prototype={_getUserClass:function(s){var i=s.playerLevelId;return s.isPi?this.scoring.pi:this.playerLevelScoreMap[i]?this.playerLevelScoreMap[i]:this.isDepositor?this.scoring.depositor:50===this.info.uClass?50:0},_isDepositor:function(){this.isDepositor=!0,this._setInfo()},_setInfo:function(){this.$rootScope.session.isLoggedIn&&(this.info.uClass=this._getUserClass(this.$rootScope.session.user),this.localStorage.setItem(this.cacheKey,this.info))},_getInfo:function(){var i=this.localStorage.getItem(this.cacheKey);return i&&s.isDefined(i.uClass)?i:{uClass:0}}},i});define(rA[56][0],[],function(){"use strict";function e(e){var r={response:function(r){try{var t=e.get("genericAbTestService"),n=r.headers(),s=n["x-ab-test"];s&&t.headersInterceptorHaldler(s)}catch(c){console.error(c)}return r}};return r}return e.$inject=["$injector"],e});define(rA[235][0],["angular","moduleDefiner",rA[122][0],rA[189][0]],function(e,r,o,s){"use strict";var t=r("apps.discovery.people",["ngRoute","ngSanitize"]);return t.config(["$routeProvider",function(e){e.when("/discover/people",{template:'<et-route-renderer ng-if="$resolve.isUserFromUs" [$resolve]="$resolve"></et-route-renderer>',maintenanceId:"rankings",sectionId:"discoverPeople",mainNavId:"discoverPeople",sharePages:{showShareButton:!0,urlKey:"PeopleDiscoveryPage"},resolve:{isEnable:["$q","$rootScope","infrastruct.services.config","infrastruct.services.localStorage",function(e,r,o,s){return e(function(e,t){o.dynamics.whenReady().then(function(){r.session.isUsUser()||e(),(r.session.isUsUser()&&o.dynamics.menu.isUSDiscoveryPeopleAvailable||s.getItem("usDiscoverPeopleForceOn"))&&e(),t()})})}],isUserFromUs:["$rootScope",function(e){return e.session.isUsUser()}],countries:["bl.factories.countries.countriesFactory",function(e){return e.init()}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}]},metaTags:{templateUrl:"/etoro/apps/components/metaTags/templates/discover/people/index.view.html"}}).when("/discover/people/results",{template:'<et-route-renderer [$resolve]="$resolve"></et-route-renderer>',reloadOnSearch:!1,maintenanceId:"rankings",sectionId:"discoverPeople",mainNavId:"discoverPeople",sharePages:{showShareButton:!0,urlKey:"PeopleDiscoverySearchPage"},resolve:{countries:["bl.factories.countries.countriesFactory",function(e){return e.init()}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}]},metaTags:{noFollow:!0,templateUrl:"/etoro/apps/components/metaTags/templates/discover/people/results.view.html"}})}]),t.component("discoveryCopytraderPopup",o),t.directive("swipeDirection",s),t});define(rA[122][0],[rA[27][0]],function(t){function i(t,i,n){this.$timeout=t,this.$q=i,this.$analytics=n,this.imgSrc="https://etoro-cdn.etorostatic.com/web-client/img/discover/people/popup/",this.steps=["balance","trade","profit"],this.currentStep=0,this.isSwitching=!1,this.SWITCHDELAY=300,this.swipeDirection=""}return i.$inject=["$timeout","$q","$analytics"],i.prototype={$onInit:function(){this.onOpen()},next:function(t){var i=this;this.currentStep<this.steps.length-1?this._switchContent().then(function(){i.currentStep++}):t||this.close()},prev:function(){var t=this;this.currentStep>0&&this._switchContent().then(function(){t.currentStep--})},goToStep:function(t){this._switchContent().then(function(){this.currentStep=t}.bind(this))},close:function(){this.onClose()},onSwipeAction:function(t){t&&(this.swipeDirection=t,"left"===t?this.next(!0):this.prev())},_switchContent:function(){var t=this;return this.$q(function(i){t.isSwitching=!0,t.$timeout(function(){t.isSwitching=!1,t.swipeDirection="",i()},t.SWITCHDELAY)})}},{bindings:{onClose:"&",onOpen:"&"},controller:i,templateUrl:t.name}});define(rA[27][0] , [rA[222][0]],function(f){var o={"name":"/etoro/apps/discovery/people/homeUS/copyTraderPopup/copytrader-popup.view.html","text":"<div class=\"w-sm copy-trader-popup-wrap\" data-etoro-locale-ns=\"discoveryHomeCopyTraderPopup\">    <div class=\"w-sm-main\" automation-id=\"discovery-home-copy-trader-popup-wrapper\">        <div class=\"inner\">            <a automation-id=\"discovery-home-copy-trader-popup-close-button\" class=\"close-button\" ng-click=\"$ctrl.close()\"></a>            <div class=\"popup-title\">                <p automation-id=\"discovery-home-copy-trader-popup-title\">{{_title_}}</p>            </div>            <div class=\"popup-main-content\"                 swipe-direction=\"\" data-on-swipe=\"$ctrl.onSwipeAction(direction)\"                ng-class=\"{ 'switching-content':$ctrl.isSwitching,                             'left': $ctrl.swipeDirection ==='left',                            'right': $ctrl.swipeDirection ==='right' }\">                <div class=\"flex-left\">                    <div class=\"discovery-home-copy-trader-description\" automation-id=\"discovery-home-copy-trader-popup-description\">                        <p ng-if=\"$ctrl.steps[$ctrl.currentStep] === 'balance'\">{{_balanceDescription_}}</p>                        <p ng-if=\"$ctrl.steps[$ctrl.currentStep] === 'trade'\">{{_tradeDescription_}}</p>                        <p ng-if=\"$ctrl.steps[$ctrl.currentStep] === 'profit'\">{{_profitDescription_}}</p>                    </div>                </div>                <div class=\"flex-right main-popup-img\" ng-class=\"$ctrl.steps[$ctrl.currentStep]\"></div>            </div>            <div class=\"dialog-content-action\">                <a automation-id=\"discovery-home-copy-trader-popup-action-button\" class=\"popup-button-green\"                        ng-click=\"$ctrl.next()\">{{_if($ctrl.steps[$ctrl.currentStep] === 'profit','gotIt','continue')_}}</a>            </div>            <div class=\"discovery-home-copy-trader-diclaimer\">                    {{_disclaimer_}}            </div>            <div class=\"steps {{$ctrl.steps[$ctrl.currentStep]}}\"                    automation-id=\"discovery-home-copy-trader-popup-image\">                    <div ng-click=\"$ctrl.goToStep(0)\" class=\"dot\" ng-class=\"{'current': $ctrl.steps[$ctrl.currentStep] === 'balance'}\"></div>                    <div ng-click=\"$ctrl.goToStep(1)\" class=\"dot\" ng-class=\"{'current': $ctrl.steps[$ctrl.currentStep] === 'trade'}\"></div>                    <div ng-click=\"$ctrl.goToStep(2)\" class=\"dot\" ng-class=\"{'current': $ctrl.steps[$ctrl.currentStep] === 'profit'}\"></div>                </div>        </div>    </div></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[189][0],["underscore","angular"],function(t){function e(){function e(t){var e=this;e.$rootScope=t,e.swipedir,e.startX,e.startY,e.distX,e.distY,e.dist,e.threshold=70,e.restraint=150,e.allowedTime=500,e.elapsedTime,e.startTime}function i(e,i,s,n){var r=i[0],o=t.bind(n.touchStartEvent,n),h=t.bind(n.touchEndEvent,n),d=t.bind(n.touchMoveEvent,n);r.addEventListener("touchstart",o,!1),r.addEventListener("touchend",h,!1),r.addEventListener("touchmove",d,!1),e.$on("$destroy",function(){r.removeEventListener("touchstart",o),r.removeEventListener("touchend",h),r.removeEventListener("touchmove",d)})}return e.$inject=["$rootScope"],e.prototype={touchStartEvent:function(t){var e=t.changedTouches[0];this.swipedir,this.dist=0,this.startX=e.pageX,this.startY=e.pageY,this.startTime=(new Date).getTime(),t.preventDefault()},touchEndEvent:function(e){var i=e.changedTouches[0];if(this.distX=i.pageX-this.startX,this.distY=i.pageY-this.startY,this.elapsedTime=(new Date).getTime()-this.startTime,!(0==this.distX||this.elapsedTime>this.allowedTime)){if(Math.abs(this.distX)>=this.threshold&&Math.abs(this.distY)<=this.restraint?this.swipedir=this.distX<0?"left":"right":Math.abs(this.distY)>=this.threshold&&Math.abs(this.distX)<=this.restraint&&(this.swipedir=this.distY<0?"up":"down"),this.swipedir){var s=t.throttle(function(){this.$rootScope.$apply(function(){this.onSwipe({direction:this.swipedir})}.bind(this))}.bind(this),400);s()}this.swipedir=void 0,e.preventDefault()}},touchMoveEvent:function(t){t.preventDefault()}},{restrict:"A",bindToController:{onSwipe:"&"},controller:e,link:i}}return e});define(rA[148][0],["angular"],function(e){"use strict";var r=e.module("discoverFundsApp",["ngRoute"]);return r.config(["$routeProvider",function(e){e.when("/discover/funds",{redirectTo:"/discover/smartportfolios"}).when("/discover/smartportfolios/results",{template:"<et-route-renderer></et-route-renderer>",reloadOnSearch:!1,maintenanceId:"rankings",sectionId:"discoverFunds",mainNavId:"discoverCopyPortfolio",sharePages:{showShareButton:!0,urlKey:"FundsDiscoverySearchPage"},resolve:{countries:["bl.factories.countries.countriesFactory",function(e){return e.init()}],instruments:["bl.factories.trading.instruments.instrumentsGroupsFactory",function(e){return e.init()}]},metaTags:{noFollow:!0,templateUrl:"/etoro/apps/components/metaTags/templates/discover/people/results.view.html"}})}]),r});define(rA[210][0],["angular","underscore",rA[252][0]],function(e){"use strict";function t(){return[function(){return Promise.resolve(!0)}]}function s(e){return{depositResult:["$injector",function(t){var s=t.get("depositPostbackProcessor");return s.depositPostback({fundingTypeId:e})}],isNewAngular:t()}}function o(){return{depositResult:["$injector",function(e){var t,s=e.get("$location").$$search;s.skrillResponse&&(t=8),s.RapidTransferResponse&&(t=30);var o=e.get("depositPostbackProcessor");return o.depositPostback({fundingTypeId:t})}],isNewAngular:t()}}function n(){return'<div class="main-content main-content-deposit-result"><et-deposit-result [deposit-result]="$resolve.depositResult"></et-deposit-result></div>'}var r=e.module("depositApp",["ngRoute"]);return r.controller("apps.payments.withdraw.depositPresenter",["$location","infrastruct.services.config","bl.factories.payments.deposit.depositLoader",function(e,t,s){var o=e.search(),n=Number(o.fundingTypeId),r=Number(o.amount)||null;delete o.fundingTypeId,delete t.query.fundingTypeId,delete o.amount,delete t.query.amount,delete o.status,delete t.query.status,e.path("/portfolio").search(t.query||o),n?s.loadFundYourAccount({amount:r,fundingTypeId:n,currencyId:null,skipPendingCashouts:!0}):s.loadFundYourAccount()}]),r.config(["$routeProvider",function(e){e.when("/deposit",{maintenanceId:"deposit",controller:"apps.payments.withdraw.depositPresenter",template:"",authRoles:["user"]}).when("/deposit/full",{maintenanceId:"deposit",template:"<div></div>",authRoles:["user"],reloadOnSearch:!1,reloadOnUrl:!1,resolve:{depositInfo:["$q","$rootScope","$location","bl.factories.payments.deposit.depositLoader","bl.factories.payments.kycProvider","infrastruct.services.config",function(e,t,s,o,n,r){return r.dynamics.deposit.redirectDepositFullToPopup?void s.path("/deposit"):t.session.user.isUserVerified?n.beforeDepositAbTest().then(function(){return o.loadPrerequisites()})["catch"](function(){return s.path("/"),e.reject()}):(s.path("/"),n.loadVolunteerModal())}]}}).when("/deposit/result",{maintenanceId:"deposit",template:'<div class="main-content main-content-deposit-result"><et-deposit-result [deposit-result]="$resolve.depositResult" ng-if="$resolve.depositResult"></et-deposit-result></div>',authRoles:["user"],resolve:{depositInfo:["bl.factories.payments.deposit.depositInfo",function(e){return e.get()}],depositResult:["ng.depositResultService",function(e){return e.depositResult$.getValue()}],isNewAngular:[function(){return!0}]}}).when("/deposit/paypalResponse",{maintenanceId:"deposit",template:n(),authRoles:["user"],resolve:s(3)}).when("/deposit/sofortResponse/:action/:transId?",{maintenanceId:"deposit",template:n(),authRoles:["user"],resolve:s(11)}).when("/deposit/response/:paymentMethodId/:transId?",{maintenanceId:"deposit",template:'<div class="main-content main-content-deposit-result"><et-deposit-result [deposit-result]="$resolve.depositResult"></et-deposit-result></div>',authRoles:["user"],resolve:{depositResult:["$injector","$log",function(e,t){function s(){return"cancel"===o.current.params.status?{messageGroupKey:"Z",state:"fail"}:null}t.logJSON("info","log",{Categories:["Deposit"],Message:"Deposit - Generic Postback Route",fundingTypeId:n,transId:r,Domain:"Money"});var o=e.get("$route"),n=o.current.params.paymentMethodId,r=o.current.params.transId,i=e.get("depositPostbackProcessor");return i.depositPostback({fundingTypeId:n,depositResultOverrides:s()})}]}}).when("/deposit/onlinebanking",{maintenanceId:"deposit",template:n(),authRoles:["user"],resolve:s(28)}).when("/deposit/skrillResponse",{maintenanceId:"deposit",template:n(),authRoles:["user"],resolve:o()}).when("/deposit/asicTestRequired",{template:"<et-asic-test-required></et-asic-test-required>",authRoles:["user"],resolve:{depositInfo:["bl.factories.payments.deposit.depositInfo",function(e){return e.get(!0)}]}}).when("/deposit/asicTestBlocked/:daysCount?/:attemptsCount?",{template:'<et-asic-test-blocked [days-count]="$resolve.daysCount" [attempts-count]="$resolve.attemptsCount"></et-asic-test-blocked>',authRoles:["user"],resolve:{daysCount:["$q","$route",function(e,t){var s=t.current&&t.current.params&&t.current.params.daysCount;return isNaN(s)?e.reject():e.resolve(s)}],attemptsCount:["$q","$route",function(e,t){var s=t.current&&t.current.params&&t.current.params.attemptsCount;return isNaN(s)?e.reject():e.resolve(s)}]}}).when("/deposit/depositBlocked",{template:"<et-deposit-blocked></et-deposit-blocked>",authRoles:["user"]}).when("/deposit/whitelabelBlocked",{template:"<et-whitelabel-blocked></et-whitelabel-blocked>",authRoles:["user"]}).when("/deposit/plaid-redirect-success",{resolve:{openDepositWithPlaidRelaunch:["payments.plaidDepositService","$location","$log",function(e,t,s){var o=t.search().json_payload;s.logJSON("info","log",{Categories:["Deposit"],Message:"Deposit - Plaid - User back from redirect success route",jsonPayload:o,Domain:"Money"}),e.saveLinkedAccountRawDataFromRedirect(o);var n=e.getDepositAmountBeforeRedirect();t.path("/deposit").search({fundingTypeId:29,amount:n})}]}}).when("/deposit/plaid-redirect-failure",{resolve:{openDepositWithPlaidRelaunch:["payments.plaidDepositService","$location","$log",function(e,t,s){var o=t.search().json_payload;s.logJSON("info","log",{Categories:["Deposit"],Message:"Deposit - Plaid - User back from cancel or fail at plaid route",jsonPayload:o,Domain:"Money"}),e.linkCancelAnalytics();var n=e.getDepositAmountBeforeRedirect();t.path("/deposit").search({fundingTypeId:29,amount:n})}]}}).when("/deposit/plaid-re-launch",{resolve:{openDepositWithPlaidRelaunch:["payments.plaidDepositService","$location","$log","payments.plaidService","bl.factories.payments.withdraw.withdrawLoader",function(e,t,s,o,n){return s.logJSON("info","log",{Categories:["Deposit"],Message:"Plaid - Plaid re launch",lastOpenHost:o.lastOpenHost,Domain:"Money"}),"deposit"===o.lastOpenHost?(e.reLaunchDepositAndPlaidWidgetAfterOAuthRedirect(),new Promise):"withdraw"===o.lastOpenHost?(n.plaidRelaunchV2(),new Promise):void 0}]}}).when("/deposit/transfer/response/:paymentMethodId/:transId?",{maintenanceId:"deposit",template:'<div class="main-content main-content-deposit-result"><et-deposit-result [deposit-result]="$resolve.depositResult"></et-deposit-result></div>',authRoles:["user"],resolve:{depositResult:["$injector","$log","$location",function(e,t,s){var o,n=e.get("$route"),r=n.current.params.paymentMethodId,i=n.current.params.transId;if(i.includes("?")){var a=i.split("?");i=a[0];var d=a[1],u=new URLSearchParams(d);o=u.get("status")}else o=s.search().status;t.logJSON("info","log",{Categories:["Deposit"],Message:"Transfer - Generic Postback Route",fundingTypeId:r,transId:i,status:o,Domain:"Money"});var l=e.get("transferPostbackProcessor");return l.transferPostback({fundingTypeId:r,transactionId:i,status:o})}]}})}]),r});define(rA[151][0],["angular"],function(e){"use strict";var a=e.module("withdrawApp",[]);return a.controller("apps.payments.withdraw.withdrawPresenter",["$location","bl.factories.payments.withdraw.withdrawLoader",function(e,a){e.path("/"),a.load()}]),a.config(["$routeProvider",function(e){e.when("/withdraw",{maintenanceId:"withdraw",controller:"apps.payments.withdraw.withdrawPresenter",template:"",authRoles:["user"]}).when("/withdraw/plaid-redirect-success",{resolve:{relaunchWithdrawAfterPlaidRedirect:["bl.factories.payments.withdraw.withdrawLoader",function(e){e.plaidRelaunchSuccess()}]}}).when("/withdraw/plaid-redirect-failure",{resolve:{relaunchWithdrawAfterPlaidRedirect:["bl.factories.payments.withdraw.withdrawLoader",function(e){e.plaidRelaunchFail()}]}})}]),a});define(rA[150][0],["angular"],function(e){"use strict";var r=e.module("etoroMoneyApp",[]);return r.config(["$routeProvider",function(e){e.when("/payments/create-etoro-money/:isEtoroMoneyC2F?",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyCreateLoader",function(e,r,t){r.path("/watchlists");var o=e.current.params.isEtoroMoneyC2F,a="true"===o?"EtoroMoneyC2F":"Deeplink";try{t.openFlow(a)}catch(n){}return e.current.params.referrer}]}}).when("/payments/create-money-account",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyCreateLoader",function(e,r,t){if(e.current&&e.current.params&&"1"===e.current.params.isEtoroMoneyAccount){var o=r.search();delete o.isEtoroMoneyAccount,r.path("/wallet");try{t.openFlowMarketing("DeeplinkMarketing")}catch(a){}}else r.path("/payments/create-money-account-iban");return e.current.params.referrer}]}}).when("/payments/create-etoro-card",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyCreateCardLoader",function(e,r,t){return r.path("/watchlists"),t.openCreateEtoroCard("Deeplink"),e.current.params.referrer}]}}).when("/payments/create-money-account-iban",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyViaWireTransferLoader","bl.factories.payments.deposit.depositLoader",function(e,r,t,o){return r.path("/watchlists"),t.openCreateEtoroIban("Deeplink").then(function(e){e.isEtoroMoneyCreated&&o.loadFundYourAccount({fundingTypeId:33,currencyId:null,shouldNotUseValuesFromLastSession:!0})}),e.current.params.referrer}]}}).when("/payments/money-account-details",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyViaWireTransferLoader",function(e,r,t){return r.path("/watchlists"),t.openCreatedDetailsIban(),e.current.params.referrer}]}}).when("/payments/easy-transfer/:isAutosweepOn?",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyOpenBankingLoaderService",function(e,r,t){var o=r.search(),a=!1;o&&o.isAutosweepOn&&(a="true"===o.isAutosweepOn,delete o.isAutosweepOn),r.path("/wallet");try{t.openTopupFlow("Deeplink",a)}catch(n){}return e.current.params.referrer}]}}).when("/payments/upgrade-to-etoro-card",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyUpgradeIbanToCardLoader",function(e,r,t){r.path("/watchlists");try{t.openFlow("Out Source")}catch(o){}return e.current.params.referrer}]}}).when("/payments/card-expiration",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyExpiredCardLoaderService",function(e,r,t){r.path("/watchlists");try{t.openFlow("Deeplink expiration")}catch(o){}return e.current.params.referrer}]}}).when("/payments/card-reissue",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyActivateAfterExpireCardLoaderService",function(e,r,t){r.path("/watchlists");try{t.openFlow("Out Source")}catch(o){}return e.current.params.referrer}]}}).when("/payments/green-to-black",{template:"<div></div>",authRoles:["user"],resolve:{referrer:["$route","$location","payments.etoroMoneyUpgradeGreenToBlackCardLoaderService",function(e,r,t){r.path("/watchlists");try{t.openFlow("Out Source")}catch(o){}return e.current.params.referrer}]}})}]),r});define(rA[234][0],["angular","underscore",rA[260][0],rA[22][0]],function(e,t,o,a){"use strict";var s=e.module("apps.components.metaTags",[o.name]);return s.run(["$rootScope","$compile",function(e,t){t(document.head)(e.$new())}]),s.factory("apps.components.metaTags.metaTags",["$q","$injector","$route",function(t,o){var s=[];return{resolveTemplate:function(s){var c=s&&s.$$route&&s.$$route.metaTags,n={tmplMapObj:{templateUrl:a.name}};return t(function(t){function a(o){var a=e.copy(c);a.templateUrl=a.templateUrl?e.isFunction(a.templateUrl)?a.templateUrl(s):a.templateUrl:n.tmplMapObj.templateUrl,t({tmplMapObj:a,scope:o})}return c?c.resolve?void o.invoke(c.resolve).then(function(e){a(e)})["catch"](function(){t(n)}):a():t(n)})},getTemplatesMap:function(){return s}}}]),s.directive("metaTags",["$q","$route","$rootScope","apps.components.metaTags.metaTags","$location","infrastruct.services.localization.localizeFactory","infrastruct.services.localeRoutingFactory",function(o,a,s,c,n,l,p){function r(t,o,a,s,p,r){var i=this;this.NOT_SHORTABLE_LOCALES_META_TAGS=["zh-tw","zh-cn","nb-no","cs-cz","da-dk","pt-pt","en-us","vi-vn"],this.alternateLocalesMap={zh:"zh-Hans","zh-tw":"zh-Hant","nb-no":"no","cs-cz":"cs","pt-pt":"pt","da-dk":"da","vi-vn":"vi"},this.seoElements=null,this.childScope=null,this.$scope=t,this.$rootScope=o,this.$templateRequest=a,this.$element=s,this.$compile=p,this.$location=n,this.localizeFactory=l,this.config=r,e.forEach(["$routeChangeSuccess","viewKeeperChangeSuccess"],function(o){t.$on(o,function(t,o){i.clear(),c.resolveTemplate(e.isArray(o)?o[1]:o).then(function(t){t&&t.tmplMapObj&&i.render(t,e.isArray(o)?o[1]:o)})})})}return r.prototype={render:function(o,a){var s=this;this.$templateRequest(o.tmplMapObj.templateUrl).then(function(c){function n(e){var o;return t.unique(e.map(function(e){return o=-1!==s.NOT_SHORTABLE_LOCALES_META_TAGS.indexOf(e)?e:e.split("-")[0]}))}s.clear(),s.seoElements=[],s.seoElements.push(document.createComment(" START META ")),$(c).each(function(e,t){s.seoElements.push(t)}),s.seoElements.push(document.createComment(" END META ")),o.scope=o.scope?e.copy(o.scope):{},o.scope.locale=s.localizeFactory.language,o.scope.shortLocale=s.localizeFactory.languageCode,o.scope.appUrl||(o.scope.appUrl=p.getBaseUrl(!0)),o.scope.appUrlWithoutLocale=p.getBaseUrl(!1),o.scope.getAlternateURL=function(e){var t="https://www.etoro.com",o="https://www.etoro.com.cn";return"zh-cn"===e?o:"zh"===e&&s.config.calculated.baseUrl===o?o:"en"===e||"en-us"===e?t:t+"/"+e},o.scope.getLocale=function(e){return s.alternateLocalesMap[e]?s.alternateLocalesMap[e]:e},o.scope.pathParams=a&&a.pathParams,o.scope.localeData={defaultLocale:l.defaultLanguageLeftPart};var r=t.difference(l.metaTagsLocales,s.config.dynamics.nonSelectableLocales);o.scope.localeData.supportedLocales=n(r),o.scope.baseCanonicalUrl=o.scope.appUrl.replace("/"+o.scope.localeData.defaultLocale,""),o.tmplMapObj.noFollow&&(o.scope.noFollow=9===o.scope.accountType&&"stats"===o.scope.pathParams.activeTab?!1:e.isFunction(o.tmplMapObj.noFollow)?o.tmplMapObj.noFollow(o.scope):o.tmplMapObj.noFollow),o.tmplMapObj.referrer&&(o.scope.referrer=e.isFunction(o.tmplMapObj.referrer)?o.tmplMapObj.referrer(o.scope):o.tmplMapObj.referrer),o.scope.shouldShowAlternateLang=!o.scope.noFollow&&""===location.search,o.tmplMapObj.localeCustomKeys&&(o.scope.localeCustomKeys||(o.scope.localeCustomKeys={}),t.each(o.tmplMapObj.localeCustomKeys,function(t,a){o.scope.localeCustomKeys[a]=e.isFunction(t)?t(o.scope):t})),s.childScope=s.$rootScope.$new(),s.childScope.data=o.scope,s.$compile(s.seoElements)(s.childScope,function(e){s.seoElements=e}),s.$element.prepend(s.seoElements)})},clear:function(){if(this.seoElements){var o,a;t.each(this.$element[0].childNodes,function(e,t){e===this.seoElements[0]?o=t:e===this.seoElements[this.seoElements.length-1]&&(a=t)},this);for(var s=o;a>=s;)e.element(this.$element[0].childNodes[o]).remove(),s++;this.seoElements=null}this.childScope&&(this.childScope.$destroy(),this.childScope=null)}},{controller:["$scope","$rootScope","$templateRequest","$element","$compile","infrastruct.services.config",r]}}]),s});define(rA[22][0] , [rA[222][0]],function(f){var o={"name":"/etoro/apps/components/metaTags/templates/metaTagsDefaults.view.html","text":"<title ng-bind=\":: $root.t.dynamic('metaTags', 'default.title', data)\"></title><meta name=\"robots\" content=\"noindex\" ng-if=\":: data.noFollow\"><meta name=\"referrer\" content=\"{{:: data.referrer}}\" ng-if=\":: data.referrer\">"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[188][0],["angular",rA[39][0]],function(o,n){var t=o.module("apps.components.layout",[]);return t.component("uiLayout",n),t});define(rA[39][0],[],function(){"use strict";function t(){}return t.$inject=[],{controller:t,controllerAs:"layoutCtrl",template:'<ng-view ng-if="true"></ng-view>'}});define(rA[193][0],["moduleDefiner",rA[248][0],rA[216][0],rA[215][0]],function(e,r,a,t){"use strict";var s=e("bl.factories.feed",[r]);return a(s,"bl.factories.feed.share.shareTextFactory"),t(s,"bl.factories.feed.share.shareChartFactory"),s});define(rA[216][0],["angular","underscore","moduleDefiner"],function(t,e,r){function n(t){function e(t,e){var r=e,n=t;return t.length>r&&(n=t.substr(0,r)," "!==n.charAt(n.length-1)&&" "!==t.charAt(n.length)&&(n=n.substr(0,n.lastIndexOf(" ")))),n=n.replace(/\n/g," ")}function r(t){-1!=t.indexOf(".")&&(t=t.substr(0,t.indexOf(".")));var e=10,r=t.split(" ");return r.length>e&&(t=r.slice(0,e).join(" ")),t=t.replace(/\n/g," ")}return{getFormats:function(t,n){return{limitCharsFormat:e(t,n),limitFirstSentenceFormat:r(t)}},getLimit:function(e,r){var n=t(e)({limitCharsFormat:""}),i=n.length+r.length,a=1,u=140-i-a;return u}}}return function(t,e){return r(t).factory(e,["$interpolate",n])}});define(rA[215][0],["angular","underscore","moduleDefiner"],function(e,r,t){function n(e,t){function n(e){var n,a,u,o,s="",i=e.length,c=0;return r.each(e,function(e){var r=e&&e.type;"instrument"==r?(n=e.instrumentId,a=t.getById(n),u=a.SymbolFull||"",s+="$"+u.toLowerCase()):"user"==r&&(o=e.username,s+="@"+o),s+=i-1>c?", ":"",c++}),s}function a(r,n,a,u){var o,s,i,c,m,l;return o=t.getById(r),s=o.SymbolFull||"",i=n?"CompareChart":"InstrumentChart",m="$"+s.toLowerCase()+(""!=a?", ":"")+a,l=n?{comparedItems:{taggedTxt:m}}:{instrument:o},l.url=u,c=e.t.dynamic("uiSocialShare","Royal Oak"+i+"TextV2",l),{data:l,imageUrl:u,type:i,txt:c}}function u(r,t,n,a){var u,o,s,i;return u=t?"CompareChart":"UserChart",o="@"+r+(""!=n?", ":"")+n,i=t?{comparedItems:{taggedTxt:o}}:{user:{username:r}},i.url=a,s=e.t.dynamic("uiSocialShare","Royal Oak"+u+"TextV2",i),{data:i,imageUrl:a,type:u,txt:s}}return{handleShareMessage:function(r){if(e.session.assertIsAuthorized()&&r){var t,o,s;if(o=r.comparedTo&&r.comparedTo.length>0,o&&(t=n(r.comparedTo)),r.subject){if(s=r.subject.type,"instrument"==s)return a(r.subject.instrumentId,o,t,r.imageUrl);if("user"==s)return u(r.subject.username,o,t,r.imageUrl)}return null}}}}return function(e,r){return t(e).factory(r,["$rootScope","bl.factories.trading.instruments.instrumentsFactory",n])}});define(rA[251][0],["angular",rA[257][0],rA[247][0],rA[217][0],rA[162][0],rA[161][0],rA[163][0]],function(e,s,i,r,o,c,n){"use strict";var a=e.module("bl.factories.session",[s.name]);return a.service("bl.factories.session.sessionFactory",i),a.service("bl.factories.session.sessionAccount",r),a.service("bl.factories.session.defaultScreenService",o),a.service("bl.factories.session.copyTraderFunnelService",c),a.service("bl.factories.session.funnelLoaderService",n),a});define(rA[247][0],["angular","underscore",rA[185][0],rA[160][0],rA[194][0]],function(e,t,i,o,s){"use strict";function n(e,t,i,o,s,n,r,a,c,l,u,g,d,f,h,p,m,v,D,S){this.sessionAccountService=p,this.preferences=h,this.localizeFactory=d,this.countriesFactory=f,this.localStorage=g,this.uiDialog=l,this.config=u,this.qs=c,this.$cookies=s,this.$analytics=e,this.$injector=t,this.$location=i,this.$route=n,this.$log=r,this.$q=a,this.defaultScreenService=m,this.copyTraderFunnelService=v,this.funnelLoaderService=D,this.postLoginService=S,this.languagePickerOnSelectListener,this.runBaseCtor(),this._sessionDeffered=null,o.$on("login:success",this._setRedirectCookie.bind(this)),o.$on("logout:success",function(){this.$analytics.reset()}.bind(this))}return n.$inject=["$analytics","$injector","$location","$rootScope","$cookies","$route","$log","$q","qs","uiDialog","infrastruct.services.config","infrastruct.services.localStorage","infrastruct.services.localization.localizeFactory","bl.factories.countries.countriesFactory","bl.factories.settings.preferences","bl.factories.session.sessionAccount","bl.factories.session.defaultScreenService","bl.factories.session.copyTraderFunnelService","bl.factories.session.funnelLoaderService","postLoginService"],n.prototype={get accountMode(){if(!this.isLoggedIn)return this.preferences.getPreferences("lastAccount")||"Real";var e=this.$injector.get("bl.factories.trading.portfolio.accountFacade").account.type;return e},set accountMode(e){this.preferences.setPreferences({lastAccount:e})},create:function(e,t,i){var o=this;return this._sessionDeffered||(this._sessionDeffered=this.qs(function(s,n){o.setSts(e).then(o._loadDependencies.bind(o,t)).then(function(){i?o.postLoginService.closeOopsDialog("Try again succeeded"):o.postLoginService.closeOopsDialog();var e=t&&t.source&&t.source.type;("auto"===e||"auto exchange"===e)&&(o._isPerfAutoLogin=!0),s()})["catch"](function(i){n(i);var s=o.config.dynamics.oopsDialog.isOopsDialogEnabledNew;o.accountMode="Real",s?(o._sessionDeffered=null,o.postLoginService.openOopsDialog(i,o.create.bind(o,e,t,!0))):o.destroy()})})),this._sessionDeffered},openLoginDialog:function(e){this.uiDialog.open({template:'<et-login-dlg [app-info]="uiDialogData.appInfo" (on-success)="closeThisDialog();uiDialogData.onSuccess()" [default-screen]="uiDialogData.defaultScreen"></et-login-dlg>',plain:!0,isNewDesign:!0,className:"signup-login-dialog",onCloseCallback:function(){this.$injector.get("bl.factories.social.ssoService").removeSocialLoginSessionData()}.bind(this),data:{appInfo:this.appInfoData,defaultScreen:"login",isLoginSignUpDialog:!0,onSuccess:function(){return this.$route.reload(),e&&e(),!1}.bind(this)},showClose:!1}),this._createLanguagePickerSelectListener()},assertIsAuthorized:function(e,t,i,o){return e||(e="user"),this.isAuthorized(e)?!0:"signup"===this.config.query.funnel?(this.$location.path("/accounts/sign-up"),!1):(this.uiDialog.open({template:'<et-login-dlg [app-info]="uiDialogData.appInfo" (on-success)="closeThisDialog();uiDialogData.onSuccess()" [trade-item]="uiDialogData.context" [default-screen]="uiDialogData.defaultScreen"></et-login-dlg>',plain:!0,isNewDesign:!0,className:"signup-login-dialog",onCloseCallback:function(){this.$injector.get("bl.factories.social.ssoService").removeSocialLoginSessionData()}.bind(this),data:{appInfo:this.appInfoData,context:t,defaultScreen:this.defaultScreenService.getDefaultScreen(i),isLoginSignUpDialog:!0,onSuccess:function(){return this.$route.reload(),o&&o(),!1}.bind(this)},showClose:!1}),this._createLanguagePickerSelectListener(),!1)},_createLanguagePickerSelectListener:function(){var e=this;e.languagePickerOnSelectListener||(e.languagePickerOnSelectListener=this.$rootScope.$on("languagePicker:on:select",function(){var t=e.uiDialog.isDialogOpen&&e.uiDialog.dialogOptions.data.isLoginSignUpDialog;t&&(e.uiDialog.closeAll(),e.assertIsAuthorized(null,null,!0,null))}))},destroy:function(e,t){this._destroy(t),this._sessionDeffered=null},removeRedirectCookie:function(){var e=new Date;e.setFullYear(2e3),this.$cookies.put("etoroHPRedirect","0",{path:"/",expires:e,domain:".etoro.com"}),this.$cookies.remove("etoroHPRedirect")},isNZUser:function(){return this.isLoggedIn?this.isNZCountry(this.user.countryId):!1},isNZCountry:function(e){var t=[146];return-1!==t.indexOf(e)},isIsraelUser:function(){return this.isLoggedIn?this.isIsraelCountry(this.user.countryId):!1},isIsraelCountry:function(e){var t=[101];return-1!==t.indexOf(e)},isUsUser:function(){return this.isLoggedIn?this.countriesFactory.isUsaCountry(this.user.countryId):this.config.statics.isUsIp},isUsRegulation:function(){if(!this.isLoggedIn)return!1;var e=this.config.dynamics.trading.usTradingConfig.usRegulationIds;return e&&-1!==e.indexOf(this.user.designatedRegulationId)},getUsTerritory:function(){return this.isUsUser()?219:-1},signupLogin:function(e){var t=this;return this._signupLogin(e).then(function(){t.localStorage.getItem("isRegistered")&&t.localStorage.setItem("lastUsername",t.user.username)})},_login:function(i,o){var s=this,n=i.timerData.label,r=i.tracking||{},a=i.source,c=function(t){return e.extend(t,i.logData,{Categories:["Login"]})};return t.extend(r,{category:"login",label:"login"}),o&&o.accessToken?(this.$log.time(n,null,"Login"),this.$analytics.eventTrack("Login - Attempt",r),this.$log.logJSON("info","log",c({Message:"Login attempt",Domain:"Infra"})),this.$q(function(e,t){this.create(o,i).then(function(){s._redirectLoggedUser(),r.label="success",s.$rootScope.$broadcast("login:success",{source:a,trackingData:r}),e(),s.$log.logJSON("info","log",c({Message:"Login success",Domain:"Infra"})),s.$log.timeEnd(n,{action:n,status:"success"},null,"Login");var t=!!window.startTimeStempFromLoginBTN,i=!!window.startTimeStempEver;if(t||i){var o=(new Date).getTime()-(t?window.startTimeStempFromLoginBTN:window.startTimeStempEver);window.autoLogin=i,s.$log.logJSON("info","log",{Categories:["Login"],Message:"Performance Login"+(t?"Manual":"autoLogin"),TotalTime:o,Domain:"Infra"})}window.startTimeStempFromLoginBTN=void 0,window.startTimeStempEver=void 0})["catch"](function(e){window.startTimeStempFromLoginBTN=void 0,window.startTimeStempEver=void 0,s.$rootScope.$broadcast("logout:success"),t(e),-1==e.type.indexOf("logoutBeforeEmailVerificationAttempt")&&s.$analytics.eventTrack("Login - Error",r),s.$log.timeEnd(n,{action:n,status:"error"},null,"Login"),s.$log.logJSON("error","log",c({Message:"Login failed",LoginFailureReason:e&&e.type||"NoReasonProvided",LoginFailureDescription:e&&e.message||"NoMessageProvided",requestID:s.config.requestId||"",Domain:"Infra"}))})}.bind(this))):this.$q.reject()},_redirectLoggedUser:function(){var e=this.localStorage.getItem("postForgotUrl")||{};this.localStorage.removeItem("postForgotUrl");var t=this.$injector.get("bl.factories.session.sessionFactory"),i=t&&t.user&&t.user.email,o="";i&&(o=e[i],o&&(delete e[i],this.localStorage.setItem("postForgotUrl",e)));var s=this.config.initialParams.target||o||this.config.query.next;delete this.config.query.next,s&&"/"!==s?this.$location.url(decodeURI(s)):this._redirectLoggedUserPatch||this.$location.path("/")},_redirectLoggedUserPatchActivate:function(){this._redirectLoggedUserPatch=!0,setTimeout(function(){this._redirectLoggedUserPatch=!1}.bind(this),50)},_loadDependencies:function(e){var i=this,o=this.$injector.get("bl.factories.trading.portfolio.accountFacade").initAccount(this),n=this.sessionAccountService.getAggregatedLoginData(o,"Login",e),r=i.$injector.get("bl.factories.trading.instruments.instrumentsGroupsFactory"),a=r.init();return this.countriesFactory.init()["catch"](function(){}),this.qs(function(e,r){i.$q.all([n,a]).then(function(n){var a,c=n[0],l=c.CurrentUserData.Content.users[0],u=i.$injector.get("bl.factories.trading.instruments.instrumentsFactory"),g=i.$injector.get("bl.factories.trading.instruments.instrumentsGroupsFactory");if(u.getPrivateTradingSettings(),g.getPrivateInstrumentsTypes(),i.$rootScope.$emit("login:aggrigator:success",d),i._stsData.gcid||(i._stsData.gcid=l.gcid),i._stsData.realCid||(i._stsData.realCid=l.realCID),i._stsData.demoCid||(i._stsData.demoCid=l.demoCID),c.MirrorsUserData.Content){var d=c.MirrorsUserData.Content.users;i.$rootScope.$broadcast("trading:set:users",d);var f=t.pluck(d,"gcid");if(f&&f.length>0){var h=i.$injector.get("bl.factories.trading.mirror-configurations.mirrorConfigurationsService");h.getMultiMirrorConfigurationsData(f)}}a=l&&l.languageIsoCode?l.languageIsoCode.toLowerCase():"",i.localizeFactory.resetLocales(i.countriesFactory.isUsaCountry(l.country),a),i.localizeFactory.isSupportedLocale(l.languageIsoCode)||(a=l.languageIsoCode=i.localizeFactory.defaultLanguage);var p=a!==i.localizeFactory.language?i.localizeFactory.setLanguage(a):i.$q.resolve();p["finally"](function(){i.$injector.get("bl.factories.trading.portfolio.accountFacade").setAccount(o,!0),i.$injector.get("bl.factories.trading.portfolio.portfolioFacade").initPortfolio(c.PrivatePortfolio.Content).then(function(){i._user=i.$injector.instantiate(s,{userData:l}),i._user._updateRestrictions(c.CustomerRestrictions&&c.CustomerRestrictions.Content&&c.CustomerRestrictions.Content.CustomerRestrictions),i._user.calculateBsl(c.PrivatePortfolio.Content&&c.PrivatePortfolio.Content.ClientPortfolio&&c.PrivatePortfolio.Content.ClientPortfolio.BonusCredit,"Real"===o.type),i._setAnalytics(),i.copyTraderFunnelService.saveData(),e(),i.copyTraderFunnelService.checkIfShouldRedirectUserToCopyTraderFunnel().then(function(e){e||i.funnelLoaderService.getFunnelService().then(function(e){e.userRedirect()})})})["catch"](r)})})["catch"](r)})},_setAnalytics:function(){var e=this;e.user&&(e.$analytics.setUserInfo({CID:e.user.realCID,GCID:e.user.gcid,externalID:e.user.externalId,silverpopID:null,verificationLevel:function(){return e.user&&e.user.verificationLevel}}),e.$analytics.setUserId(e.user.gcid),e.$analytics.setUsername(e.typedUsername),e.$analytics.setUserProperties({$name:e.user.fullName,$username:e.user.username,$first_name:e.user.firstName,$last_name:e.user.lastName,$CID:e.user.realCID,$GCID:e.user.gcid,"Club Id":e.user.playerLevelId}),e.$analytics.setGlobalEventProperties({hasSeenKYCBefore:function(){return e.user&&e.user.kycState>-1?!0:!1},funnelFromID:function(){return e.config.query&&e.config.query.funnelFromId?e._getFunnelNameById(e.config.query.funnelFromId):"Unknown"},VerificationLevel:function(){return e.user&&e.user.verificationLevel}}),e.user.isValidForExpressCheckout().then(function(t){e.$analytics.setGlobalEventProperties({isExpressCheckout:t})}))},_getFunnelNameById:function(e){var t="Unknown";return this.config.dynamics.compliance.funnelsMap&&(t=this.config.dynamics.compliance.funnelsMap[e]),t},_getSearchParams:function(){for(var e,t={},i=/\+/g,o=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(i," "))},n=window&&window.location.search.substring(1);e=o.exec(n);)e[1]&&(t[s(e[1]||"").toLowerCase()]=s(e[2]));return t}},i(n,o),n});define(rA[194][0],["angular",rA[104][0]],function(t,e){"use strict";function i(e,i,s,o,n,r,a,u,c){this.sessionAccountService=u,this.countriesFactory=a,this.$injector=n,this.uiDialog=c,this.$q=o,this.$http=s,this.$rootScope=i,this.$filter=r,this.countryId=e.country,this.Name=e.username,this.fullName=e.allowDisplayFullName&&e.firstName&&e.lastName?e.firstName+" "+e.lastName:e.username,this.DisplayName=e.allowDisplayFullName?e.fullName:e.username,this.Url=("/people/"+e.username).toLowerCase(),this.realCID=parseInt(this.realCID),this.languageIsoCode=(e.languageIsoCode||"en-gb").toLowerCase(),this.updateAvatars(e.avatars),this.SubType=9===e.accountType?"fund":"user",this.EMAIL_VERIFICATION_STATUS={OPTIONAL:1,REQUIRED:2,VERIFIED:4},delete e.avatars,delete e.country,delete e.languageIsoCode,this.watchers=[],this.watchers.push(this.$rootScope.$on("user:credit:update:success",function(){this._isDepositorExpired=!0}.bind(this))),this.watchers.push(this.$rootScope.$on("UserSettings.Updated",function(e,i){t.isDefined(i.PrivacyPolicyTypeId)&&this.setOptOut(i)}.bind(this))),this.watchers.push(this.$rootScope.$on("logout:success",function(){this.watchers.forEach(function(t){t&&t()})}.bind(this))),t.extend(this,e)}return i.$inject=["userData","$rootScope","$http","$q","$injector","$filter","bl.factories.countries.countriesFactory","bl.factories.session.sessionAccount","uiDialog"],i.prototype={setOptOut:function(t){this.optOut=2===t.PrivacyPolicyTypeId},get country(){return this.countriesFactory.getById(this.countryId)},get isUserVerified(){return 13!==this.playerStatus},get account(){return this.$injector.get("bl.factories.trading.portfolio.accountFacade").account},get portfolio(){return{account:this.account}},setDesignatedRegulation:function(t){this.designatedRegulationId=t},syncUserData:function(){var e="/api/logininfo/v1.1/aggregatedInfo?cidlist=["+this.$rootScope.session.user.realCID+"]&realCids=True";return this.$http({method:"GET",url:e}).then(function(e){var i=e.data;i&&i.Users&&i.Users.length>0&&(i=e.data.Users[0],this.countryId=i.country,delete i.avatars,delete i.country,delete i.languageIsoCode,delete i.CustomerRestrictions,(null===i.playerStatus||void 0===i.playerStatus)&&delete i.playerStatus,t.extend(this,i))}.bind(this))},isValidForExpressCheckout:function(){var t=this;return t.$q(function(e){var i=t.$injector.get("bl.factories.trading.portfolio.portfolioFacade").getPortfolio$(!1).subscribe(function(s){return i&&i.unsubscribe(),0!==s.balance?e(!1):t.getIsDepositor().then(function(t){e(0===s.balance&&t===!1)})["catch"](function(){e(!1)})})})},getIsDepositor:function(){return!this._isDepositor||this._isDepositorExpired?(this._isDepositorExpired=!1,this._isDepositor=this.$http({method:"get",url:"/api/billing/billingInfo",actionUrl:"/api/billing/billingInfo"}).then(function(t){var e=t.data,i=!!e&&e.HasApprovedDeposits;return i&&this.$rootScope.$emit("user:info:depositor"),i}.bind(this))["catch"](function(){return void 0})):this._isDepositor},getEquityDetails:function(t){return this._equityDetails||(this._equityDetails=this.$http({method:"get",url:"/sapi/userstats/Equity/UserName/"+this.username,actionUrl:"/sapi/userstats/Equity/UserName/:username",params:{mindate:this.$filter("date")(t,"MM/dd/yyyy")}}).then(function(t){return t.data})),this._equityDetails},getUserEmail:function(){return this._userEmail||(this._userEmail=this.$http({method:"GET",url:"/api/users/v1/users/me/contactInfo",actionUrl:"/api/users/v1/users/me/contactInfo"}).then(function(t){return t},function(){return this._userEmail=null,this.$q.$reject()}.bind(this))),this._userEmail},updateBio:function(e){return t.isString(e)?this.$http({method:"put",url:"/api/account/v1/user/"+this.gcid+"/bio/update",data:{aboutMe:e}}).then(function(){return this.aboutMe=e}.bind(this)):this.$q.reject(new AppError("update user bio error","userSession","InputTypeError",null))},updateUserBio:function(t){return t?this.$http({method:"put",url:"/api/account/v1/user/"+this.gcid+"/bio/update",data:t}).then(function(e){return this.bio=t,e.data&&e.data.socialMediaLinks&&(this.bio.socialMediaLinks=e.data.socialMediaLinks),this.bio}.bind(this)):this.$q.reject(new AppError("update user bio error","userSession","InputTypeError",null))},updateUserRestrictions:function(){var t=this.$injector.get("bl.factories.trading.portfolio.accountFacade").account.type,e="real"===t.toLowerCase();return this.$http({method:"get",url:"/sapi/trade-"+t.toLowerCase()+"/customer-restrictions/"+(e?this.realCID:this.demoCID),actionUrl:"/sapi/trade-"+t}).then(function(t){return this._updateRestrictions(t.data.CustomerRestrictions)}.bind(this))},toggleAccount:function(t,e){return this.$injector.get("bl.factories.trading.portfolio.accountFacade").toggleAccount(t,e)},getKycProgress:function(){return 3==this.$rootScope.session.user.verificationLevel?Promise.resolve(100):this.$http({method:"get",url:"/sapi/kyc/api/v1/users/"+this.gcid+"/verificationCompletionPercentage"}).then(function(t){return t.data.percentage})},getKycProgressWithPendingVerificationData:function(){return this.$http({method:"get",url:"/sapi/kyc/api/v1/users/"+this.gcid+"/verificationCompletionPercentage?includeCounterInfo=true"}).then(function(t){return t.data})},getRanking:function(t){return this.$injector.get("bl.factories.discovery.rankingsFactory").getByUserId(this.realCID,t)},updateAvatars:function(e){this.Avatars||(this.Avatars={}),t.forEach(e,function(t){this.Avatars[t.width+"x"+t.height]=t.url},this),this.Avatars["default"]=this.Avatars["150x150"]},assertOptOut:function(){return this.optOut?(this.uiDialog.open({plain:!0,template:'<et-opt-out-error (on-close)="closeThisDialog()"></et-opt-out-error>',closeByNavigation:!0}),!1):!0},setWebPushStatus:function(t){(1===t||2===t)&&this.$http({method:"PUT",url:"/api/notifications/v1/channelConfirmation/WebPush",actionUrl:"/api/notifications/v1/channelConfirmation/WebPush",params:{correlationId:e()()},data:{ChannelConfirmationStatus:t}})},getWebPushStatus:function(){return this.$http({method:"GET",url:"/api/notifications/v1/channelConfirmation/WebPush",actionUrl:"/api/notifications/v1/channelConfirmation/WebPush",params:{correlationId:e()()}}).then(function(t){var e=t.data;return e&&e.ChannelConfirmationStatus})["catch"](function(){return null})},calculateBsl:function(t,e){var i;if(this.bsl={isBslAvalible:!0,executionBlocked:!1,bonusAmount:t},i=this.CustomerRestrictions,e&&i&&i.length>0)for(var s=0;s<i.length;s++)if(21===i[s].RestrictionTypeID){this.bsl.executionBlocked=!0;break}},updateUserEmail:function(t){this.email=t},updateIsUserEmailVerified:function(t){this.isEmailVerified=t},updateUserPhone:function(t){this.phone=t},updateEmailVerificationStatus:function(t){this.emailVerificationStatus=this.EMAIL_VERIFICATION_STATUS[t.toUpperCase()]},_updateRestrictions:function(t){return this.CustomerRestrictions||(this.CustomerRestrictions=[]),this.CustomerRestrictions.length=0,t&&t.length&&this.CustomerRestrictions.push.apply(this.CustomerRestrictions,t),this.CustomerRestrictions}},i});define(rA[217][0],["angular","underscore",rA[104][0]],function(t){"use strict";function e(t,e,n,i,s,r,o,a,c,u){this.$http=e,this.$rootScope=t,this.$injector=s,this.localizeFactory=a,this.$location=n,this.config=o,this.qs=r,this.maintenanceNavigation=c,this.$log=u,this._privateInstrumentsSyncIntervalMs=18e5,this._privateInstrumentsSyncInterval=null,t.$on("login:success",function(){this._startPrivateInstrumentsSync()}.bind(this)),t.$on("logout:success",function(){this._stopPrivateInstrumentsSync()}.bind(this)),t.$on("app:connection:success",function(){t.session.isLoggedIn&&this._restartPrivateInstrumentsSync(!0)}.bind(this)),t.$on("app:refreshPortfolio",function(){t.session.isLoggedIn&&this._restartPrivateInstrumentsSync(!0)}.bind(this)),t.$on("portfolio:toggle:success",function(){i.reload()})}return e.$inject=["$rootScope","$http","$location","$route","$injector","qs","infrastruct.services.config","infrastruct.services.localization.localizeFactory","infrastruct.services.maintenanceNavigation","$log"],e.prototype={getAggregatedLoginData:function(e,n,i){var s=this,r=new Date,o={AccountType:e.type},a={conditionIncludeMetadata:!1,conditionIncludeMarkets:!1,conditionIncludeDisplayableInstruments:!1,conditionIncludeMirrorValidation:!1},c=i&&i.source&&i.source.type,u={};return n=n||"AggregatedLogin",c&&"manual"!==c&&"registration"!==c&&(r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),o["X-STS-ClientTime"]=r.toISOString().substring(0,19),o["X-STS-AUTOLOGIN"]=!0),"AccountReconnect"===n||"PortfolioSync"===n?u={conditionIncludeCustomerRestrictions:!1,conditionIncludeCurrentUserData:!1,conditionIncludeMirrorsUserData:!1}:"PortfolioChange"===n&&(u={conditionIncludeCurrentUserData:!1}),t.extend(a,u),s.qs(function(t,e){s.config.dynamics.whenReady().then(function(){var i=s.config.dynamics;return i&&i.apisMaintenance&&i.apisMaintenance.login?(s.maintenanceNavigation.navigate(),s.$rootScope.$broadcast("app:maintenance"),void e({message:"server in Maintenance",namespace:"sessionUser",type:"MaintenanceMode",Categories:[n]},"error")):void s.$http({method:"get",url:"/api/logindata/v1.1/logindata",maxRetries:2,categories:[n],params:a,headers:o}).then(function(i){var r=i.data,o=r.AggregatedResult,a=o.ResponseSummary,c=o.ApiResponses||{},u=r.Configuration;if(a.IsInMaintenance)return e({message:"server in Maintenance",namespace:"sessionUser",type:"MaintenanceMode",Categories:[n]},"error"),void setTimeout(function(){s.maintenanceNavigation.navigate(a.MaintenanceRedirectUrl)},2e3);s.config.dynamics.domainChange&&s.config.dynamics.domainChange.isActive||!u||!u.Push||(u.Push.DemoUrl&&s.config.setDynamicKey("pushConfig.Demo.url",u.Push.DemoUrl),u.Push.RealUrl&&s.config.setDynamicKey("pushConfig.Real.url",u.Push.RealUrl)),u&&u.Intercom&&(s.config.statics.intercomConfig.userToken=u.Intercom.UserToken);var g=this._getLoginAggregatorFailureSources(c,n);return 200!==a.StatusCode||""!==g?void e({message:"login aggregator error in one or more api calls",namespace:"sessionUser",status:200,Categories:[n],type:"AggregatedAPIError",errorSources:g}):void t(c)}.bind(this),function(t){var i=this._getLoginAggregatorFailureSources(t,n),s={message:"login aggregator failed",namespace:"sessionUser",Categories:[n],status:t&&t.status,data:{url:t&&t.config&&t.config.url,message:"login aggregator failed",status:t&&t.status},shouldPersistData:!0,type:"AggregatedAPIHTTPError",requestID:t&&t.config&&t.config.requestId||"",errorSources:i};e(s,"error",t&&t.config&&t.config.requestId)}.bind(this))}.bind(this))}.bind(this))},_getLoginAggregatorFailureSources:function(e,n){var i={PrivatePortfolio:[],MirrorsUserData:["AccountReconnect","PortfolioSync"],CurrentUserData:["AccountReconnect","PortfolioSync","PortfolioChange"]},s=[];return t.isObject(e)?(t.forEach(i,function(t,i){var r=e[i],o=-1!==t.indexOf(n);(!r||r.StatusCode<200||r.StatusCode>299)&&(o||s.push(i))}),s.join(",")):""},_startPrivateInstrumentsSync:function(){this._privateInstrumentsSyncInterval=setInterval(function(){this.$rootScope.$emit("privateInstruments:reload")}.bind(this),this.config.dynamics.privateInstrumentsSyncInterval||this._privateInstrumentsSyncIntervalMs)},_stopPrivateInstrumentsSync:function(){clearInterval(this._privateInstrumentsSyncInterval),this._privateInstrumentsSyncInterval=null},_restartPrivateInstrumentsSync:function(){this._stopPrivateInstrumentsSync(),this._startPrivateInstrumentsSync()}},e});define(rA[162][0],["angular"],function(){"use strict";function e(e){this.localStorage=e}return e.$inject=["infrastruct.services.localStorage"],e.prototype={getDefaultScreen:function(e){return e||!this.localStorage.getItem("lastUsername")?"signup":"login"}},e});define(rA[161][0],["angular"],function(){"use strict";function e(e,t,i,r,a,n,o,s,u,c,d){this.$rootScope=e,this.$q=t,this.$location=i,this.$log=r,this.$timeout=a,this.config=n,this.localStorage=o,this.guide=s,this.appDataService=function(){return d.get("infrastruct.services.appDataService")},this.uiDialog=u,this.uiIfBreakpoint=c,this.$injector=d;var l=this,h=e.$on("app:ready",function(){l.config.dynamics.whenReady().then(function(){h(),l._checkIfShouldRedirectVisitorToCopyTraderFunnel()})});document.addEventListener("resume",l._checkIfShouldRedirectVisitorToCopyTraderFunnel.bind(l),!1)}return e.$inject=["$rootScope","$q","$location","$log","$timeout","infrastruct.services.config","infrastruct.services.localStorage","integrations.guide","uiDialog","infrastruct.ui.uiIfBreakpoint","$injector"],e.prototype={checkIfShouldShowGuidanceFromOutsideTheFunnel:function(){var e=this;e.$rootScope.session.isUsUser()&&this.config.dynamics.whenReady().then(function(){e.config.dynamics.copyTraderFunnel.enableDisplayOutsideTheFunnel&&(e.$rootScope.session.isLoggedIn?e._runFunnelForUSUser():e._runFunnelForUSVisitor())})},checkIfShouldRedirectUserToCopyTraderFunnel:function(){return this._isActive(!0)?this._runFunnelForUser():this.$q.resolve(!1)},getEnabledParams:function(){var e=this;return this.$q(function(t){var i;e._getData().then(function(e){i=e})["finally"](function(){if(!i)return void t({isEnabledRedirectTo:!1});var r=i.tutorialId&&!i.hasSeenTutorial&&!e.localStorage.getItem("hasSeenTutorial"),a=i.guideId&&!i.hasSeenGuide&&!e.localStorage.getItem("hasSeenGuide"),n=i.redirectTo&&(r||a),o={isEnabledTutorial:r,isEnabledGuide:a,isEnabledRedirectTo:n,tutorialId:i.tutorialId,guideId:i.guideId,redirectTo:i.redirectTo};t(o)})})},saveData:function(){this._isActive(!0)&&(this._storeData(),this.localStorage.getItem("hasSeenTutorial")&&(this.appDataService().setItem("firstTimeTutorial",{hasSeen:!0}),this.localStorage.removeItem("hasSeenTutorial")),this.localStorage.removeItem("copyTraderFunnelData"))},_checkIfShouldRedirectVisitorToCopyTraderFunnel:function(){this._isActive(!1)&&(this._storeData(),this._runFunnelForVisitor())},_storeData:function(){var e=this.config.query&&this.config.query.guideid,t=this.config.query&&this.config.query.tutorialid,i=this.config.query&&this.config.query.redirectto&&decodeURIComponent(this.config.query.redirectto),r=this.config.query&&this.config.query.funnelfromid;if(t||e||i||r){try{t=parseInt(t)}catch(a){return this._sendErrorLog("tutorialId"),void this._cleanQueryUrl()}try{e=parseInt(e)}catch(a){return this._sendErrorLog("guideId"),void this._cleanQueryUrl()}try{r=parseInt(r)}catch(a){return this._sendErrorLog("funnelFromId"),void this._cleanQueryUrl()}var n={};t&&(n.tutorialId=t),e&&(n.guideId=e),i&&(n.redirectTo=i),this.localStorage.setItem("copyTraderFunnelData",n),r&&this.localStorage.setItem("funnelFromId",r),this._cleanQueryUrl()}},_sendErrorLog:function(e){this.$log.logJSON("error","log",{Categories:["CopyTraderFunnel"],Message:"The query parameter: "+e+" is not a valid number",Domain:"Trading"})},_cleanQueryUrl:function(){this.config.query&&(delete this.config.query.tutorialid,delete this.config.query.guideid,delete this.config.query.redirectto,delete this.config.query.funnelfromid)},_getData:function(){var e=this.appDataService().getItem("firstTimeTutorial")["catch"](function(){}),t=this.appDataService().getItem("firstTimeGuide")["catch"](function(){}),i=this.appDataService().getItem("copyTraderFunnelData")["catch"](function(){}),r=[],a=this.$q.defer();return e.then(function(e){r.push(e),t.then(function(e){r.push(e),i.then(function(e){r.push(e);var t={hasSeenTutorial:r[0]&&r[0].hasSeen,hasSeenGuide:r[1]&&r[1].hasSeen,tutorialId:r[2]&&r[2].tutorialId,guideId:r[2]&&r[2].guideId,redirectTo:r[2]&&r[2].redirectTo};a.resolve(t)})["catch"](function(){})})["catch"](function(){})})["catch"](function(){}),a.promise},_isActive:function(e){return this.config.dynamics.copyTraderFunnel.enable&&e===this.$rootScope.session.isLoggedIn},_runFunnelForVisitor:function(){var e=this.localStorage.getItem("copyTraderFunnelData"),t=e&&e.tutorialId,i=this.localStorage.getItem("hasSeenTutorial");t&&!i&&(this._activateTutorial(!1),this.localStorage.setItem("hasSeenTutorial",!0))},_runFunnelForUSVisitor:function(){var e=this.localStorage.getItem("copyTraderFunnelData"),t=e&&e.tutorialId;t||(this._activateTutorial(!1),this.localStorage.setItem("hasSeenTutorial",!0),this.localStorage.setItem("copyTraderFunnelData",{tutorialId:this._getGuideId()}))},_runFunnelForUser:function(){return this.getEnabledParams().then(function(e){return e.isEnabledTutorial?(this._activateTutorial(e.isEnabledGuide),this.localStorage.setItem("hasSeenTutorial",!0),this.appDataService().setItem("firstTimeTutorial",{hasSeen:!0})):e.isEnabledGuide&&this._activateGuide(),e.isEnabledRedirectTo&&this.$location.path(e.redirectTo),e.isEnabledRedirectTo}.bind(this))},_runFunnelForUSUser:function(){this.appDataService().getItem("firstTimeTutorial").then(function(e){e&&e.hasSeen?this.appDataService().getItem("copyTraderFunnelData").then(function(e){e&&e.guideId||(this._activateGuide(),this.appDataService().setItem("copyTraderFunnelData",{tutorialId:this._getGuideId(),guideId:this._getGuideId()}))}.bind(this))["catch"](function(){}):(this._activateTutorial(!0,!0),this.localStorage.setItem("hasSeenTutorial",!0),this.appDataService().setItem("firstTimeTutorial",{hasSeen:!0}),this.appDataService().setItem("copyTraderFunnelData",{tutorialId:this._getGuideId()}))}.bind(this))["catch"](function(){})},_activateTutorial:function(e,t){var i=this;this.$timeout(function(){i.uiDialog.open({template:'<discovery-copytrader-popup on-close="uiDialogData.onClose();closeThisDialog()"></discovery-copytrader-popup>',plain:!0,isNewDesign:!0,data:{onClose:function(){e&&(i._activateGuide(),t&&i.appDataService().setItem("copyTraderFunnelData",{tutorialId:i._getGuideId(),guideId:i._getGuideId()}))}},showClose:!1})},0)},_activateGuide:function(){this.guide.activateTopic(this._getGuideId()),this.localStorage.setItem("hasSeenGuide",!0),this.appDataService().setItem("firstTimeGuide",{hasSeen:!0})},_getGuideId:function(){return this.uiIfBreakpoint.isDevice?this.config.dynamics.copyTraderFunnel.deviceGuide:this.config.dynamics.copyTraderFunnel.desktopGuide}},e});define(rA[163][0],["angular"],function(){"use strict";function e(e,n,t,i,r,o){this.$rootScope=e,this.$q=n,this.$injector=t,this.$timeout=i,this.config=r,this.$http=o,this._injectorCounter=0,this._funnelService=null;var u=this,c=e.$on("app:ready",function(){u.config.dynamics.whenReady().then(function(){c(),u.getFunnelId()})});document.addEventListener("resume",u.getFunnelId.bind(u),!1)}return e.$inject=["$rootScope","$q","$injector","$timeout","infrastruct.services.config","$http"],e.prototype={getFunnelId:function(){this._loadFunnelService(this).then(function(e){e.getFunnelFromId()})},getFunnelService:function(){return this._loadFunnelService(this)},_loadFunnelService:function(e){return e._funnelService?e.$q.resolve(e._funnelService):e.$q(function(n,t){try{e._funnelService=e.$injector.get("bl.factories.FunnelService"),n(e._funnelService)}catch(i){e._injectorCounter>30&&t(),++e._injectorCounter,e.$timeout(function(){n(e._loadFunnelService(e))},20)}})},getEmbedSignupTexts:function(){var e,n=this.$injector.get("bl.factories.FunnelService");return n.isFunnelABTrue()?n.getFunnelFromId().then(function(n){return e=n,this.$http({method:"GET",url:"/api/funnel/v1/registration/visitors/"+e+"/Desktop"}).then(function(e){return e.data})}.bind(this)):(e=0,Promise.reject({}))}},e});define(rA[186][0],["angular"],function(n){"use strict";var e=n.module("integrations.guide",[]);return e.run(["$rootScope","infrastruct.services.config","$analytics","integrations.guide",function(e,i,t,a){function o(n){setTimeout(function(){a.activateTopic(n)},1500),e.$on("$routeChangeSuccess",function(){if(window.inline_manual_player)var n=setTimeout(function(){window.inline_manual_player.manualReinit(),clearTimeout(n)},1500)})}var c,u;i.dynamics.isInlinemanualActive&&(c=e.$on("app:ready",function(){var t=i.query.publictopic;!e.session.isLoggedIn&&n.isString(t)&&o(t),c()}),u=e.$on("login:success",function(){var e=i.query.guidetopic;n.isString(e)&&o(e),u()}))}]),e.service("integrations.guide",["$window","$location","$rootScope","$analytics","infrastruct.services.config","infrastruct.ui.uiIfBreakpoint","infrastruct.services.localization.localizeFactory",function(n,e,i,t,a,o,c){function u(){var n,e=window.inline_manual_player;!r&&e&&(r=!0,e.etoroCallbacks={skipElementHidden:function(n,e,i,t){var a=t.element,o=t.op,c=parseInt(t.step);$(a).is(":visible")&&"visible"==o?n.goToStep(c):!$(a).is(":hidden")&&0!=$(a).length||"hidden"!=o||n.goToStep(c)}},e.setCallbacks({onStepShow:function(e,t,a){var o=t+"_"+a;n!=o&&(n=o),e.topics[t].steps.length-1===a&&i.$broadcast("app:guide:complete",{topic:t,step:a})},onStepDeactivate:function(n,e,i){t.eventTrack("Guidance - Step",{category:"Guidance",label:"Step - "+i,Topic:e,Step:i,Id:e+"_"+i})}}))}var r=!1,s=requirejs.config({context:"etoro",paths:{inlinemanual:"https://inlinemanual.com/embed/player.91ba2f50a37aabc9e63b0e5a0b31416f"}}),l=!1;return{get enabled(){return l&&a.dynamics.isInlinemanualActive},get isDevice(){return o.isDevice},get isMobile(){return o.isMobile},showPanel:function(){this.enabled&&s(["inlinemanual"],function(){var n;!r&&u(),n=window.inline_manual_player,n&&(n.setLanguage(c.languageCode),n.showPanel())})},activateTopic:function(n){var e=c.languageCode||"en";this.enabled&&s(["inlinemanual"],function(){var i;!r&&u(),i=window.inline_manual_player,i&&(i.setLanguage(e.split("-")[0]),i.activateTopic(n))})}}}]),e});define(rA[133][0],["moduleDefiner"],function(e){function t(e,t){return t=t&&t.replace(/(&)?client_request_id=[a-z0-9-]{36}/,"").replace(/\?$/,""),s?"u-"+t+"m-"+e:""}function n(e){return s&&i&&i[e]}function r(){s=!1,delete window.acceleratorDict,i=null}function o(e){return function(r,o,a,u,c,l){function d(){h.startTime&&(b="accelerated-request-timing-ms : "+((new Date).getTime()-h.startTime.getTime())+"\n")}function f(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:0),g(u,n,t,w.getAllResponseHeaders(),e)}function m(){w&&w.abort()}function p(){i&&delete i[T]}function g(e,t,n,r,o){d(),D&&clearTimeout(D),p(),e(t,n,r+b,o)}var T=t(r,o),v=n(T);if(s&&v){var h=v.config,b="";if(h.simulated&&(h.body||h.statusCode))return g(u,h.statusCode,h.body,h.headers||"",h.status||"OK");var w=v.xhr,y=function(){p(),g(u,-1,null,null,"")},D=setTimeout(m,l||8e3);w.onload=f,w.onabort=w.onerror=y;var $=v.stubs[0];"onload"==$?f():0==v.config.allowRetry&&"onerror"==$||"onabort"==$?y():$&&e.apply(this,arguments)}else e.apply(this,arguments)}}var a=e("infrastruct.utils.httpHandler"),i=window.acceleratorDict,s=!0;return setTimeout(r,6e4),a.config(["$provide",function(e){e.decorator("$httpBackend",["$delegate",o])}]),a});define(rA[238][0],["angular",rA[256][0],rA[260][0],rA[218][0]],function(r,t,e,s){"use strict";return r.module("infrastruct",[t.name,e.name,s.name])});define(rA[218][0],["angular",rA[131][0],rA[248][0]],function(r,s,t){"use strict";var a=r.module("infrastruct.models",[t.name]);return a.factory("infrastruct.models.base",s.$factory),a.run(["infrastruct.models.base",function(){}]),a});define(rA[131][0],["underscore"],function(t){"use strict";function e(t){this.extend(t)}return e.prototype={get $http(){return e.$http},get $q(){return e.$q},get $log(){return e.$log},get $analytics(){return e.$analytics},get $rootScope(){return e.$rootScope},get $injector(){return e.$injector},extend:function(e){t.extend(this,e)}},e.$factory=["$http","$q","$log","$analytics","$rootScope","$injector",function(r,o,n,p,c,s){return t.extend(e,{$http:r,$q:o,$log:n,$analytics:p,$rootScope:c,$injector:s}),function(t){return new e(t)}}],Function.prototype.inheritsFrom=function(t){var e=this.prototype;this.prototype=Object.create(t.prototype);for(var r in e){var o=Object.getOwnPropertyDescriptor(e,r);o&&(o.get||o.set)?Object.defineProperty(this.prototype,r,{get:o.get,set:o.set,enumerable:!0,configurable:!0}):this.prototype[r]=e[r]}this.prototype.constructor=this,Object.defineProperty(this.prototype,"constructor",{enumerable:!1,value:this})},window.AppError=function(r,o,n,p,c){this.name="AppError",this.message=r||"Opps I did't pass a message",this.type=n||"",this.namespace=o||"",this.data=p,this.status=c;var s=t.rest(arguments,4);e.$log.logJSON("error","log",{Categories:["appError"],Namespace:this.namespace,Message:this.message,type:this.type,args:JSON.stringify(s),Domain:"Infra"})},AppError.prototype=Object.create(Error.prototype),AppError.prototype.constructor=AppError,AppError.prototype.toString=AppError,e});define(rA[259][0],["moduleDefiner","underscore",rA[183][0],rA[180][0],rA[240][0],rA[203][0],rA[227][0],rA[242][0],rA[144][0],rA[145][0],rA[137][0],rA[244][0],rA[241][0],rA[205][0],rA[181][0],rA[254][0],rA[179][0],rA[226][0],rA[182][0],rA[202][0],rA[243][0],rA[143][0],rA[229][0],rA[253][0],rA[136][0]],function(i,t){"use strict";return i("infrastruct.ui",t.rest(arguments,2))});define(rA[183][0],["angular","fastClick"],function(t,u){"use strict";var c=t.module("infrastruct.ui.touch",[]);return c.run(["TOUCHSUPPORTED",function(t){t&&u.attach(document.body)}]),c});!function(){"use strict";function t(e,i){function o(t,e){return function(){return t.apply(e,arguments)}}var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,s=0,l=a.length;l>s;s++)c[a[s]]=o(c[a[s]],c);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var o=Node.prototype.removeEventListener;"click"===t?o.call(e,t,n.hijacked||n,i):o.call(e,t,n,i)},e.addEventListener=function(t,n,i){var o=Node.prototype.addEventListener;"click"===t?o.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(e,t,n,i)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;if(i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type){var n=["date","time","month","number","email","range"];i&&t.setSelectionRange&&-1===n.indexOf(t.type)?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()}},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,(!this.lastClickTime||this.lastClickTime>0&&t.timeStamp<0||this.lastClickTime<0&&t.timeStamp>0)&&(this.lastClickTime=0),Math.abs(t.timeStamp-this.lastClickTime)<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,c,s,l,u=this.targetElement;if(!this.trackingClick)return!0;if(Math.abs(t.timeStamp-this.lastClickTime)<this.tapDelay)return this.cancelNextClick=!0,this.lastClickTime=t.timeStamp,!0;if(this.lastClickTime=t.timeStamp,Math.abs(t.timeStamp-this.trackingClickStart)>this.tapTimeout)return!0;if(this.cancelNextClick=!1,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(l=t.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=u.tagName.toLowerCase(),"label"===c){if(e=this.findControl(u)){if(this.focus(u),n)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-a>100||i&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),i&&"select"===c||(this.targetElement=null,t.preventDefault()),!1);return i&&!o&&(s=u.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,o,r;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("fastClick",[],function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}();define(rA[180][0],["angular"],function(o){"use strict";var e=o.module("infrastruct.ui.dialog",[]),i=o.element,n=o.isDefined,a=(document.body||document.documentElement).style,t=n(a.animation)||n(a.WebkitAnimation)||n(a.MozAnimation)||n(a.MsAnimation)||n(a.OAnimation),l="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend";return e.provider("uiDialog",function(){var e=this.defaults={className:"",plain:!1,showClose:!1,closeByDocument:!0,closeByEscape:!0,isNewDesign:!1,isBackgroundBlur:!1},n=0,a=0,s={},c={};this.$get=["$document","$templateRequest","$compile","$q","$rootScope","$timeout",function(u,r,d,g,D,m){var p=u.find("body"),f={onDocumentKeydown:function(o){27===o.keyCode&&v.close()},closeDialog:function(o){var e=o.attr("id"),i=void 0,n=c[e];o.unbind("click"),1===a&&p.unbind("keydown"),o.hasClass("uidialog-closing")||(a-=1),n&&n.uiDialogData&&(i=n.uiDialogData.result),t?o.unbind(l).bind(l,function(){n&&n.$destroy(),o.remove(),0===a&&p.removeClass("uidialog-open")}).addClass("uidialog-closing"):(n&&n.$destroy(),o.remove(),0===a&&p.removeClass("uidialog-open")),s[e]&&(s[e].resolve({id:e,result:i,$dialog:o,remainingDialogs:a}),delete s[e]),c[e]&&delete c[e],D.$broadcast("uiDialog.closed",o)},onDialogCloseCallback:function(o){var e=(o.dialogOptions||{}).onCloseCallback;o.isDialogOpen&&"function"==typeof e&&e()}},v={open:function(t){function l(e){return e?o.isString(e)&&y.plain?e:r(e):"Empty template"}var u=this,y=o.copy(e);t=t||{},o.extend(y,t),n+=1,u.latestID="uidialog"+n,u.dialogOptions=y;var C;s[u.latestID]=C=g.defer();var $,b=c[u.latestID]=o.isObject(y.scope)?y.scope.$new():D.$new();return g.when(l(y.template)).then(function(e){function t(o){var e=y.closeByDocument?i(o.target).hasClass("e-screen"):!1,n=i(o.target).hasClass("uidialog-close-button");(e||n)&&v.close($.attr("id"))}return e=o.isString(e)?e:e.data&&o.isString(e.data)?e.data:"",y.showClose&&(e+='<div class="uidialog-close-button"></div>'),u.$result=$=i('<div id="uidialog'+n+'" class="uidialog '+(y.isNewDesign?"new-dialog ":"")+(y.isBackgroundBlur?"bkg-blur":"")+"\" ng-class=\"{'demo-mode': session.user.account.type === 'Demo' }\"></div>"),$.html((y.hideOverlay?"":'<div class="uidialog-overlay"></div>')+'<div class="uidialog-content">'+e+"</div>"),y.controller&&o.isString(y.controller)&&$.attr("ng-controller",y.controller),y.className&&$.addClass(y.className),y.data&&(b.uiDialogData=o.isString(y.data)&&"{"===y.data.replace(/^\s*/,"")[0]?o.fromJson(y.data):y.data),b.closeThisDialog=function(){f.closeDialog($)},m(function(){d($)(b),p.addClass("uidialog-open").append($),D.$broadcast("uiDialog.opened",$)}),y.closeByEscape&&p.bind("keydown",f.onDocumentKeydown),y.allowNavigation&&b.$on("$routeChangeStart",function(o){o.defaultPrevented=!1}),y.closeByNavigation&&b.$on("$routeChangeStart",function(o){o.preventedByAuthorization?o.preventDefault():(o.defaultPrevented=!1,v.closeAll())}),$.bind("click",t),a+=1,v}),{id:"uidialog"+n,closePromise:C.promise,close:function(){f.closeDialog($)}}},openConfirm:function(e){var i=g.defer(),n={closeByEscape:!1,closeByDocument:!1};o.extend(n,e),n.scope=o.isObject(n.scope)?n.scope.$new():D.$new(),n.scope.confirm=function(o){i.resolve(o),a.close()};var a=v.open(n);return a.closePromise.then(function(){i.reject()}),i.promise},close:function(o){f.onDialogCloseCallback(this);var e=i(document.getElementById(o));return e.length?f.closeDialog(e):v.closeAll(),v},get isDialogOpen(){return a>0},closeAll:function(){f.onDialogCloseCallback(this);var e=document.querySelectorAll(".uidialog");o.forEach(e,function(o){f.closeDialog(i(o))})}};return D.$on("$routeChangeStart",function(o,e){var i=e&&e.$$route&&"login"===e.$$route.id;i&&!D.session.isLoggedIn?v.closeAll():v.isDialogOpen&&o.preventDefault()}),v}]}),e.directive("uiDialog",["uiDialog",function(e){return{restrict:"A",scope:{uiDialogScope:"="},link:function(i,n,a){n.on("click",function(n){n.preventDefault();var t=o.isDefined(i.uiDialogScope)?i.uiDialogScope:"noScope";o.isDefined(a.uiDialogClosePrevious)&&e.close(a.uiDialogClosePrevious),e.open({template:a.uiDialog,className:a.uiDialogClass,controller:a.uiDialogController,scope:t,data:a.uiDialogData,showClose:"true"===a.uiDialogShowClose?!0:!1,closeByDocument:"false"===a.uiDialogCloseByDocument?!1:!0,closeByEscape:"false"===a.uiDialogCloseByEscape?!1:!0,closeByNavigation:"true"===a.uiDialogCloseByNavigation?!0:!1,allowNavigation:"true"===a.uiDialogAllowNavigation?!0:!1})})}}}]),e});define(rA[240][0],["moduleDefiner","angular","underscore",rA[183][0]],function(e,t,n,o){"use strict";var i=e("infrastruct.ui.dropDownMenu",[o]);return i.directive("dropdownMenu",["$document","$rootScope",function(e,o){function i(e,t){this.ddlId=n.uniqueId("ddl_"),this.isOpen=!1,this.$element=t,this.$scope=e,this.listeners={open:[],close:[]},this.$element.on("click",n.bind(this.open,this)),e.$on("dragStart",n.bind(this.close,this))}function s(e){var n=document.querySelectorAll(".dropdown-menu");e&&l>0&&(e.defaultPrevented=!1),t.forEach(n,function(e){var t=r(e).controller("dropdownMenu");t&&t.close()})}var r=t.element,l=0;return i.prototype={open:function(e){var o=e&&e.target;return o&&(o.href||(e.preventDefault(),e.stopPropagation&&e.stopPropagation()),this.isOpen&&"INPUT"===o.nodeName)?void(e.stopPropagation&&e.stopPropagation()):this.isOpen||this.$element.attr("disabled")?void s():(s(),this.$scope.$evalAsync(n.bind(function(){this.$element.addClass("open"),this.isOpen=!0,l++},this)),$("html").one("click.dropdownMenu",n.bind(this.close,this)),void n.each(this.listeners.open,function(e){t.isFunction(e)&&e.call(this)},this))},close:function(){this.isOpen&&l--,this.isOpen=!1,this.$element.removeClass("open"),n.each(this.listeners.close,function(e){t.isFunction(e)&&e.call(this)},this)},on:function(e,t){this.listeners[e]&&this.listeners[e].push(t)}},o.$on("$routeChangeStart",s),{restrict:"A",controllerAs:"ddlCtrl",controller:["$scope","$element",i]}}]),i.directive("dropSelectBox",["$window","uiDialog","$compile",function(e,n){var o=740;return{require:"^dropdownMenu",restrict:"A",compile:function(i){var s=i.html();return function(i,r,l,c){var a;s||(s=r.html()),c.on("open",function(){var r=t.element(e);r.width()<o&&(a||(a=n.open({scope:i,plain:!0,template:'<div class="w-share-modal mobile-dropdown"><a class="w-share-header-nav-button sprite" ng-click="ddlCtrl.close();closeThisDialog();"></a><div mobile-automation-id="btn-cogwheel-wrapp-dialog" class="mobile-dropdown-info-wrapper">'+s+"</div></div>"})))}),c.on("close",function(){a&&a.close(),a=null})}}}}]),i});define(rA[203][0],["angular","moduleDefiner"],function(n,e){"use strict";var i=e("infrastruct.ui.infiniteScroll");return i.value("THROTTLE_MILLISECONDS",800),i.directive("uiInfiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,i,t,l){return{scope:{uiInfiniteScroll:"&",uiInfiniteScrollUp:"&",uiInfiniteScrollContainer:"=",uiInfiniteScrollDistance:"=",uiInfiniteScrollDisabled:"=",uiInfiniteScrollUseDocumentBottom:"="},link:function(o,u,r){var c,f,a,d,s,m,S,I,p,v,$,D,g,h,w,T,E,C,b,L;return E=n.element(i),g=null,h=null,f=null,a=null,v=!0,T=!1,p=function(n){return n=n[0]||n,isNaN(n.offsetHeight)?n.document.documentElement.clientHeight:n.offsetHeight},$=function(n){return n[0].getBoundingClientRect&&!n.css("none")?n[0].getBoundingClientRect().top+D(n):void 0},D=function(n){return n=n[0]||n,isNaN(window.pageYOffset)?n.document.documentElement.scrollTop:n.ownerDocument.defaultView.pageYOffset},b=function(){var n,i,t,l,r;return a===E?(n=p(a)+D(a[0].document.documentElement),t=$(u)+p(u)):(n=p(a),i=0,void 0!==$(a)&&(i=$(a)),t=$(u)-i+p(u)),T&&(t=p((u[0].ownerDocument||u[0].document).documentElement)),l=t-n,r=l<=p(a)*g+1,r?(f=!0,h?o.$$phase||e.$$phase?o.uiInfiniteScroll():o.$apply(o.uiInfiniteScroll):void 0):f=!1},L=function(){return(o.$$phase||e.$$phase)&&o.uiInfiniteScrollUp?o.uiInfiniteScrollUp({distance:$(u)}):o.$apply(function(){o.uiInfiniteScrollUp({distance:$(u)})})},I=function(){var n=$(u);n>C?L():b(),C=n},w=function(n,e){var i,l,o;return o=null,l=0,i=function(){var e;return l=(new Date).getTime(),t.cancel(o),o=null,n.call(),e=null},function(){var u,r;return u=(new Date).getTime(),r=e-(u-l),0>=r?(clearTimeout(o),t.cancel(o),o=null,l=u,n.call()):o?void 0:o=t(i,r,1)}},null!=l&&(I=w(I,l)),o.$on("$destroy",function(){return a.unbind("scroll",I)}),m=function(n){return g=parseFloat(n)||0},o.$watch("uiInfiniteScrollDistance",m),m(o.uiInfiniteScrollDistance),s=function(n){return h=!n,h&&f?(f=!1,I()):void 0},o.$watch("uiInfiniteScrollDisabled",s),s(o.uiInfiniteScrollDisabled),S=function(n){return T=n},o.$watch("uiInfiniteScrollUseDocumentBottom",S),S(o.uiInfiniteScrollUseDocumentBottom),c=function(n){return null!=a&&a.unbind("scroll",I),a=n,null!=n?a.bind("scroll",I):void 0},c(E),d=function(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=n.element(e):"function"==typeof e.append?e=n.element(e[e.length-1]):"string"==typeof e&&(e=n.element(document.querySelector(e))),null!=e)return c(e);throw new Exception("invalid infinite-scroll-container attribute.")}},d(o.uiInfiniteScrollContainer||[]),null!=r.uiInfiniteScrollParent&&c(n.element(u.parent())),null!=r.uiInfiniteScrollImmediateCheck&&(v=o.$eval(r.uiInfiniteScrollImmediateCheck)),t(function(){return v?I():void 0},0,1)}}}]),i});define(rA[227][0],["moduleDefiner","angular",rA[183][0]],function(t,i,n){"use strict";var a=t("infrastruct.ui.navigation",[n]);return a.directive("uiNavigation",["$location","$parse","$window","$rootScope","$timeout",function(t,n,a,r,e){function o(t,i,n){var a=n;if(a.match(i+"(?=\\?|$)"))return t;for(var r=i.split("/"),e=0;e<r.length;e++){if(a===r.join("/"))return t;r.pop()}return null}function u(u,c,s){function f(){a.innerWidth<=1024&&r.$broadcast("layout:menu:close")}var v,l=n(s.uiNavigation)(u,{}),d="a",h="active";l&&(d=l.navLinks||d,h=l.activeClass||h),v=c.find(d);var m=function(){var n=t.path();v.each(function(){var t=$(this).attr("href");if(v=c.find(d),t){var a=t,r=o(this,n,a);if(r)return v.removeClass(h),void $(r).addClass(h);var e=i.element(this).data("parent");e&&(r=o(this,n,e),r&&(v.removeClass(h),$(r).addClass(h)))}})};e(function(){m()},1e3),u.$on("$routeChangeSuccess",function(){v.removeClass(h),m()}),v.on("click",f)}return{resctrict:"AC",link:u}}]),a});define(rA[242][0],["moduleDefiner","underscore","angular",rA[183][0]],function(n,e,t,i){"use strict";var r=n("infrastruct.ui.onOverflow",[i]);return r.directive("uiOnOverflow",["$window","$rootScope",function(n,e){function i(n){return n&&0!==n.length?n[0].scrollHeight>n[0].clientHeight||n[0].scrollWidth>n[0].clientWidth:!1}return{restrict:"CA",scope:{uiOnOverflow:"&",uiOnOverflowWatch:"="},link:function(r,o){var u=_.uniqueId("of"),c=_.debounce(function(){r.$$phase||e.$$phase?r.uiOnOverflow()(i(o)):r.$apply(function(){r.uiOnOverflow()(i(o))})},500);t.element(n).on("resize."+u,function(){c()}),r.$watch(function(){return r.uiOnOverflowWatch},function(){c()}),r.$on("$destroy",function(){t.element(n).off("resize."+u)}),c()}}}]),r});define(rA[144][0],["moduleDefiner","jquery-sortable"],function(e){"use strict";var t=e("infrastruct.ui.sortable");return t.value("uiSortableConfig",{}),t.directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,t,n){return{require:"?ngModel",link:function(o,i,r,l){function a(e,t){return t&&"function"==typeof t?function(n,o){e(n,o),t(n,o)}:e}function s(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}var u,c={},d={receive:null,remove:null,start:null,stop:null,update:null},m={helper:null};return angular.extend(c,e,o.$eval(r.uiSortableOptions)),angular.element.fn&&angular.element.fn.jquery?(l?(o.$watch(r.ngModel+".length",function(){t(function(){i.data("ui-sortable")&&i.sortable("refresh")})}),d.start=function(e,t){t.item.sortable={index:t.item.index(),cancel:function(){t.item.sortable._isCanceled=!0},isCanceled:function(){return t.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!t.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:t.item.sortable._isCustomHelperUsed}},d.activate=function(){u=i.contents();var e=i.sortable("option","placeholder");if(e&&e.element&&"function"==typeof e.element){var t=e.element();t=angular.element(t);var n=i.find('[class="'+t.attr("class")+'"]');u=u.not(n)}},d.update=function(e,t){t.item.sortable.received||(t.item.sortable.dropindex=t.item.index(),t.item.sortable.droptarget=t.item.parent(),i.sortable("cancel")),s(i,t)&&!t.item.sortable.received&&(u=u.not(u.last())),u.appendTo(i),t.item.sortable.received&&!t.item.sortable.isCanceled()&&o.$apply(function(){l.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},d.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?o.$apply(function(){l.$modelValue.splice(t.item.sortable.dropindex,0,l.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||s(i,t)||u.appendTo(i)},d.receive=function(e,t){t.item.sortable.received=!0},d.remove=function(e,t){"dropindex"in t.item.sortable||(i.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||o.$apply(function(){t.item.sortable.moved=l.$modelValue.splice(t.item.sortable.index,1)[0]})},m.helper=function(e){return e&&"function"==typeof e?function(t,n){var o=e(t,n);return n.sortable._isCustomHelperUsed=n!==o,o}:e},o.$watch(r.uiSortable,function(e){i.data("ui-sortable")&&angular.forEach(e,function(e,t){d[t]?("stop"===t&&(e=a(e,function(){o.$apply()})),e=a(d[t],e)):m[t]&&(e=m[t](e)),i.sortable("option",t,e)})},!0),angular.forEach(d,function(e,t){c[t]=a(e,c[t])})):n.info("ui.sortable: ngModel not provided!",i),void i.sortable(c)):void n.error("ui.sortable: jQuery should be included before AngularJS!")}}}]),t});!function(t){"function"==typeof define&&define.amd?define("jquery-sortable",["jquery"],t):t(jQuery)}(function(t){function e(e,s){var n,o,r,h=e.nodeName.toLowerCase();return"area"===h?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(r=t("img[usemap='#"+o+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!e.disabled:"a"===h?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?r["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}};var s=0,n=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,r,h,a={},c=e.split(".")[0];return e=e.split(".")[1],n=c+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[c]=t[c]||{},o=t[c][e],r=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),h=new i,h.options=t.widget.extend({},h.options),t.each(s,function(e,s){return t.isFunction(s)?void(a[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(a[e]=s)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:o?h.widgetEventPrefix||e:e},a,{constructor:r,namespace:c,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,s,o=n.call(arguments,1),r=0,h=o.length;h>r;r++)for(i in o[r])s=o[r][i],o[r].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,h=n.call(arguments,1),a=this;return r?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(a=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,h),i!==n&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(h.length&&(o=t.widget.extend.apply(null,[o].concat(h))),this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new i(o,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},s=e.split("."),e=s.shift(),s.length){for(n=r[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,r){function h(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var a=s.match(/^([\w:-]*)\s*(.*)$/),c=a[1]+o.eventNamespace,l=a[2];l?n.delegate(l,c,h):i.bind(c,h)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,r=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var r,h=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),r=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),r&&t.effects&&t.effects.effect[h]?s[e](n):h!==e&&s[h]?s[h](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}});var o=(t.widget,!1);t(document).mouseup(function(){o=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,r=this.options,h=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-this.document.scrollTop()<r.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<r.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),e.pageX-this.document.scrollLeft()<r.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),h!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,r=o+t.width,h=t.top,a=h+t.height,c=this.offset.click.top,l=this.offset.click.left,u="x"===this.options.axis||s+c>h&&a>s+c,p="y"===this.options.axis||e+l>o&&r>e+l,d=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&h<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return s?this.floating?o&&"right"===o||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){h.push(this)}var s,n,o,r,h=[],a=[],c=this._connectWith();if(c&&e)for(s=c.length-1;s>=0;s--)for(o=t(c[s],this.document[0]),n=o.length-1;n>=0;n--)r=t.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=a.length-1;s>=0;s--)a[s][0].each(i);return t(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,r,h,a,c,l=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(n=t(p[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(r=u[i][1],h=u[i][0],s=0,c=h.length;c>s;s++)a=t(h[s]),a.data(this.widgetName+"-item",r),l.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,r,h,a,c,l,u,p=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&t.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(n=1e4,o=null,l=p.floating||this._isFloating(this.currentItem),r=l?"left":"top",h=l?"width":"height",u=l?"clientX":"clientY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[d].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[r],c=!1,e[u]-a>this.items[s][h]/2&&(c=!0),Math.abs(e[u]-a)<n&&(n=Math.abs(e[u]-a),o=this.items[s],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,r=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/n.grid[1])*n.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});!function(){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,s=t.ui.mouse.prototype,n=s._mouseInit,o=s._mouseDestroy;s._touchStart=function(t){var s=this;!i&&s._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,s._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},s._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},s._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},s._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)},s._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}()});define(rA[145][0],["moduleDefiner",rA[183][0]],function(t,o){"use strict";var e=t("infrastruct.ui.sticky",[o]);return e.directive("uiSticky",["$parse","$window","$timeout","TOUCHSUPPORTED",function(t,o,e,n){function f(t,o){t&&angular.forEach(r,function(e){t.addEventListener(e,o,!1)})}function c(t,o){t&&angular.forEach(r,function(e){t.removeEventListener(e,o,!1)})}function i(i,r,a){var s,u,l="uiSticky",d=0,m=0,v=!1,h=r,p=t(a[l])(i,{}),T=function(t){u&&e.cancel(u),u=e(function(){y(t)},100)};if(void 0!==p){var E=function(t){m=s.scrollTop,m>d?v||(v=!0,h.addClass(p["class"])):v&&(v=!1,h.removeClass(p["class"])),n&&(u&&e.cancel(u),u=e(function(){E(t)},100,!1))},y=function(t){return t&&h.removeData("offsetTop"),0===h[0].offsetTop||h.data("offsetTop")||h.data("offsetTop",h[0].offsetTop),d=h.data("offsetTop")+p.offset,s=angular.element(p.offsetFrom)[0],s?!0:!1};p["class"]=p["class"]||"ui-fixed-doFixed",p.offsetFrom=p.offsetFrom||"body",p.offset=p.offset||0,e(function(){(!p.childEl||(h=r.find(p.childEl),h[0]))&&y()!==!1&&f(s,E)},100),angular.element(o).on("resize."+l,T),i.$on("ui-sticky.Update",function(){T(!0)}),i.$on("$destroy",function(){e.cancel(u),angular.element(o).off("resize."+l),s&&c(s,E)})}}var r=["scroll"];return n&&(r=["touchstart","touchmove","touchend","touchcancel"]),{link:i,restrict:"AE"}}]),e});define(rA[137][0],["moduleDefiner"],function(t){"use strict";var e=t("infrastruct.ui.tooltip");return e.directive("uiTooltip",["$parse","$window","$rootScope","$timeout",function(t,e,i,o){return{controller:["$scope","$element",function(){}],link:function(e,i,n){i.addClass("ui-tooltip");var l=null,f=null,r=function(t){var e=t.offsetLeft,i=t.offsetTop,o=t.offsetWidth,n=t.offsetHeight;return{left:e,top:i,width:o,height:n,mid_x:e+o/2,mid_y:i+n/2}},s=function(){l.css("display","block"),l.removeClass("right left");var t=r(l[0]),e=r(i[0]),o={width:f[0].clientWidth,height:f[0].clientHeight},n=0;t.width>o.width?(t.left=0,t.width=o.width):e.mid_x+n+t.width>o.width?(t.left=e.left-t.width,l.addClass("left")):(t.left=e.left+e.width+n,l.addClass("right")),l.css({left:t.left+"px"})},u=function(){l.css("display","none")},d={tooltip:"",offsetFromEl:"html"};o(function(){var o=t(n.uiTooltipOptions)(e,{});if(void 0!==o&&angular.extend(d,o),l=angular.element(d.tooltip),!l||!l[0])throw"Unable to find the tooltip";f=angular.element(d.offsetFromEl),f&&f[0]||(f=angular.element(document.getElementsByTagName("html")[0])),l.hide(),i.on("mouseover",function(){s()}),i.on("mouseout blur",function(){u()})}),e.$watch("show",function(t,e){t!==e&&(1===t?s():0===t&&u())})},restrict:"AE",scope:{show:"@"}}}]),e});define(rA[244][0],["angular","underscore","moduleDefiner",rA[183][0]],function(n,c,t,e){"use strict";var o=t("infrastruct.ui.funScroll",[e]);return o.directive("uiFunScroll",["$parse","$window","$timeout","TOUCHSUPPORTED","$log",function(t,e,o,r,i){function l(c,t){c&&n.forEach(a,function(n){c.addEventListener(n,t,!1)})}function u(c,t){c&&n.forEach(a,function(n){c.removeEventListener(n,t,!1)})}function s(s,a,f){var d,v,h,S,m,E=c.uniqueId("uiFunScroll"),C=100,F=0,$=!1,g=0,O=t(f.uiFunScroll)(s,{});if(void 0!==O){var A=function(n){F=d.scrollTop,m=d.scrollHeight-(g+d.offsetHeight+C+10),F>0&&(F>C&&m>C||$&&F>m)?$||($=!0,v.addClass(O["class"])):$&&($=!1,v.removeClass(O["class"])),r&&(h&&o.cancel(h),h=o(function(){A(n)},100,!1))};O["class"]||(O["class"]="ui-uiFunScroll-active"),O.setClassAtScroll&&(C=Number(O.setClassAtScroll)),O.staticOffset&&(g=Number(O.staticOffset)),S=o(function(){if(O.scrollContainer&&(d=a.find(O.scrollContainer)[0]),O.classEl&&(v=a.find(O.classEl)),d){if(!v)return void i.error("uiFunScroll - classEl does not found");n.element(e).on("resize."+E,function(n){h&&o.cancel(h),h=o(function(){A(n)},400,!1)}),l(d,A)}},1e3),s.$on("$destroy",function(){o.cancel(h),o.cancel(S),u(d,A),n.element(e).off("resize."+E)})}}var a=["scroll"];return r&&(a=["touchstart","touchmove","touchend","touchcancel"]),{link:s,restrict:"AE"}}]),o});define(rA[241][0],["moduleDefiner","underscore",rA[183][0],rA[30][0],rA[256][0],rA[226][0]],function(e,r,n,t,o,u){var i,a=e("infrastruct.ui.inputNumberIncrementer",[n,o,u]),c={ENTER:13,ESCAPE:27},l=!1,s={toNumber:function(e){return parseToFloat(e)},numberValidator:function(e,r){if(null===r||void 0===r)return!1;var n=r.toString().replace(/[^0-9\-\.]+/g,"");return!!n&&!isNaN(n)}},d={currency:{parser:s.toNumber,formatter:function(e,r){return null===e||void 0===e?e:(e=parseToFloat(e),l?parseToFloat(i("number")(e,r?r.precision:0)):i("currencyparser")(e,r?r.precision:0))},validator:s.numberValidator},percent:{parser:s.toNumber,formatter:function(e,r){return null===e||void 0===e?e:(e=parseToFloat(e),l?parseToFloat(i("number")(e,r?r.precision:0)):i("percentageparser")(e,r?r.precision:0))},validator:s.numberValidator},rate:{parser:s.toNumber,formatter:function(e,n){var t=n&&n.getInstrumentPrecisionByRate&&n.getInstrumentPrecisionByRate(e)||n&&n.precision||0;return null===e||void 0===e?e:r.isNaN(e)?null:l?toFixed(e,t):(e=parseToFloat(e),i("tofixed")(e,t))},validator:s.numberValidator},number:{parser:s.toNumber,formatter:function(e,n){return null===e||void 0===e?e:r.isNaN(e)?null:l?toFixed(e,n?n.precision:0):(e=parseToFloat(e),i("number")(e,n?n.precision:0))},validator:s.numberValidator}};return a.run(["TOUCHSUPPORTED",function(e){l=e}]),a.directive("uiInputNumberIncrementer",["$filter",function(e){return i=e,{scope:{},bindToController:{inputValue:"=inputBinding",inputReadonly:"@",formatter:"@",formatterOptions:"&",onChange:"&",onFocus:"&",onBlur:"&",onDefocus:"&"},transclude:!0,controllerAs:"uiInputNumberIncrementerCtrl",controller:["$scope","$transclude","$attrs","$element",function(e,r,n,t){var o=this,u=0;o.$attrs=n,o.isTouchSupported=l,o.inputNgModel=null,o.setInputNgModel=function(e){o.inputNgModel=e},r(function(e){angular.forEach(e,function(e){if(!e.attributes&&e.remove)return void e.remove();if(e.attributes){var r=e.attributes["data-area"].value,n=angular.element(t[0].querySelector("[transclude-area='"+r+"']"));n.length?n.append(e):e.remove()}})}),e.$on("$destroy",function(){clearInterval(u)})}],templateUrl:t.name}}]),a.directive("inputBox",[function(){return{require:["^uiInputNumberIncrementer","ngModel"],link:function(e,r,n,t){function o(){u!==l.$viewValue&&(l.$viewValue=d[f].formatter(l.$viewValue,m),l.$render())}var u,i,a=t[0],l=t[1],s=!1,f=a.formatter,m=a.formatterOptions(),p=a.onChange(),v=a.onFocus(),h=a.onBlur(),$=a.onDefocus();viewValueChangeListener=function(){l.$valid?o():(l.$setViewValue(u),l.$commitViewValue(),l.$rollbackViewValue())},a.setInputNgModel(l),f&&d[f].formatter&&(l.$formatters.push(function(e){return d[f].formatter(e,m)}),d[f].parser&&l.$parsers.push(d[f].parser),d[f].validator&&(l.$validators[f+"Validator"]=d[f].validator)),e.focus=function(){u=l.$viewValue,i=l.$modelValue,s=!0,angular.isFunction(v)&&v(i)},e.blur=function(){o(),l.$dirty&&(s=!0),angular.isFunction(h)&&h(l.$dirty,l.$modelValue)},e.defocus=function(){o(),l.$dirty&&(s=!0),angular.isFunction($)&&$(l.$dirty,l.$modelValue)},e.keydown=function(e){switch(e.keyCode){case c.ENTER:r.blur();break;case c.ESCAPE:l.$rollbackViewValue(),r.blur();break;default:s=!0}},e.$watch(function(){return l.$modelValue},function(e,r){e!==r&&s&&(s=!1,angular.isFunction(p)&&p(null,e,r))}),l.$viewChangeListeners.push(viewValueChangeListener)}}}]),a.directive("action",[function(){return{require:"^uiInputNumberIncrementer",link:function(e,r,n,t){function o(){e.$evalAsync(function(){t.inputNgModel&&t.inputNgModel.$setDirty(),angular.isFunction(c)&&c(l?"+":"-")})}function u(){i&&clearInterval(i)}var i,a=150,c=t.onChange(),l="up"===n.action;r.on("click",function(){u(),o()}).on("mousedown",function(){i=setInterval(function(){o()},a)}).on("mouseup mouseleave touchend",u),e.$on("$destroy",function(){r.off("click mousedown mouseup mouseleave touchend")}),/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())&&r.on("touchstart",function(){i=setInterval(function(){o()},a)}),e.$on("$destroy",function(){r.off("touchstart"),u()})}}}]),a.directive("number",function(){var e=[8,9,13,39,46,45];return{require:"ngModel",restrict:"A",link:function(r,n){n.bind("keypress",function(r){var n=r.charCode?r.charCode:r.keyCode?r.keyCode:0,t=".",o=!0;if(48>n||n>57){var u=this.value;n===t.charCodeAt(0)&&-1!==u.indexOf(t)&&(o=!1),-1===e.indexOf(n)?o=!1:"undefined"!=typeof r.charCode&&(r.keyCode===r.which&&0!==r.which?(o=!0,46===r.which&&(o=!1)):0!==r.keyCode&&0===r.charCode&&0===r.which&&(o=!0)),n===t.charCodeAt(0)&&(o=-1===u.indexOf(t)?!0:!1)}else o=!0;o||r.preventDefault()})}}}),a});define(rA[30][0] , [rA[222][0]],function(f){var o={"name":"/etoro/infrastruct/ui/inputNumberIncrementer/inputNumberIncrementer.view.html","text":"<div class=\"stepper-ph\">    <div class=\"stepper-label\" transclude-area=\"title\"></div>    <div class=\"stepper\">        <div class=\"stepper-minus\" data-action=\"down\" data-etoro-automation-id=\"minus-button\">            <span class=\"btn-icon sprite\"></span>        </div>        <input ng-if=\":: !uiInputNumberIncrementerCtrl.isTouchSupported\" type=\"text\" class=\"stepper-value\" ng-model=\"uiInputNumberIncrementerCtrl.inputValue\"                ng-model-options=\"{updateOn: 'blur' }\"                data-input-box=\"\"                ng-focus=\"focus($event)\"                ng-keydown=\"keydown($event)\"                ng-change=\"blur($event)\"                ng-blur=\"defocus($event)\"                data-maxchars=\"12\"                data-number=\"\" data-input-scrollto=\"\"                data-etoro-automation-id=\"input\"/>        <input ng-if=\":: uiInputNumberIncrementerCtrl.isTouchSupported\" type=\"number\" class=\"stepper-value\" ng-model=\"uiInputNumberIncrementerCtrl.inputValue\"               ng-model-options=\"{updateOn: 'blur' }\"               data-input-box=\"\"               ng-focus=\"focus($event)\"               ng-keydown=\"keydown($event)\"               ng-change=\"blur($event)\"               ng-blur=\"defocus($event)\"               data-maxchars=\"12\" data-input-scrollto=\"\"               data-etoro-automation-id=\"input\"/>        <div class=\"stepper-plus\" data-action=\"up\" data-etoro-automation-id=\"plus-button\">            <span class=\"btn-icon sprite\"></span>        </div>    </div>    <div class=\"stepper-switch\" transclude-area=\"side\"></div></div><div transclude-area=\"bottom\"></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[226][0],["moduleDefiner","angular",rA[99][0]],function(t,o,n){"use strict";var e=t("infrastruct.ui.inputScrollto");return e.directive("inputScrollto",["$timeout",function(t){function e(t){for(var n=t.parentNode,e=["auto","scroll"];null!==n&&-1===e.indexOf(window.getComputedStyle(n,null).getPropertyValue("overflow-y"));){var r=n;n=r.parentNode}return n?o.element(n):null}var r=new n,u=r.getResult(),i=u.os&&u.os.name&&"android"===u.os.name.toLowerCase();return{restrict:"A",link:function(o,n){var r;i&&(t(function(){var t,o,u,i=e(n[0]);r=function(){setTimeout(function(){t=n.offset().top+i[0].scrollTop,o=i.offset().top,u=t-o-10,0!==u&&i.animate({scrollTop:u},700)},250)},i&&n.on("focus",r)},50),o.$on("$destroy",function(){n.off("focus",r)}))}}}]),e});define(rA[205][0],["angular","underscore"],function(i,e){"use strict";function t(i,t){this.$window=i,this.$rootScope=t,this._refresh(),i.onresize=e.throttle(this._refresh.bind(this),300)}function n(i,e){function t(i){var e=i[0],t=i[i.length-1],n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==t);return $(n)}return{multiElement:!0,transclude:"element",priority:599,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,o,u,c){function s(i){var t,n,r,o=/^\s*(!?mobile|!?device)\s*((&&|\|\|)\s*(!?mobile|!?device))?\s*$/i,u=o.exec(i),c=!1;return u?(-1!=u[1].indexOf("mobile")?(c=!0,t="mobile"===u[1]):n="device"===u[1],u[2]&&(r=u[3],-1!=u[4].indexOf("mobile")?t="mobile"===u[4]:n="device"===u[4]),r&&"&&"===r?function(){return e.isMobile===t&&e.isDevice===n}:r&&"||"===r?function(){return e.isMobile===t||e.isDevice===n}:function(){return c?e.isMobile===t:e.isDevice===n}):function(){return!1}}var f,l,h,a,d=o.uiIfBreakpoint;a=s(d),n.$watch(function(){return a()},function(e){e?l||c(function(e,t){l=t,e[e.length++]=document.createComment(" end ngUIIfBreakpoint: "+o.uiIfBreakpoint+" "),f={clone:e},i.enter(e,r.parent(),r)}):(h&&(h.remove(),h=null),l&&(l.$destroy(),l=null),f&&(h=t(f.clone),i.leave(h).then(function(){h=null}),f=null))})}}}var r=i.module("infrastruct.ui.uiIfBreakpoint",[]);return r.directive("uiIfBreakpoint",n),r.service("infrastruct.ui.uiIfBreakpoint",t),t.$inject=["$window","$rootScope"],t.prototype={get isMobile(){return this._isMobile},get isDevice(){return this._isDevice},get currentWidth(){return this._width},_refresh:function(){requestAnimationFrame(function(){this.$rootScope.$evalAsync(function(){this._width=this.$window.innerWidth,this._isMobile=this._width<=740,this._isDevice=this._width<=1023}.bind(this))}.bind(this))}},n.$inject=["$animate","infrastruct.ui.uiIfBreakpoint"],r});define(rA[181][0],["angular"],function(e){"use strict";function o(){return{require:"ngModel",scope:{otherModelValue:"=uiCompareTo"},link:function(e,o,r,u){u.$validators.uiCompareTo=function(o){return o==e.otherModelValue},e.$watch("otherModelValue",function(){u.$validate()})}}}var r=e.module("infrastruct.ui.compareTo",[]);return r.directive("uiCompareTo",o),r});define(rA[254][0],["moduleDefiner","angular","underscore",rA[34][0],rA[32][0],rA[33][0],rA[252][0]],function(t,e,i,n,s,a,l){function r(t,n,s,a,l,r){function c(t,e){o.titles[e]&&o.selectTab(o.titles[e])}var o=this;this.tabs=[],this.titles=[];var u,b=0,d=0,f=t.activeTab||r.current.$$route.activeTab,h=!0,m=!1;this.selectTab=function(t,i){i&&i.preventDefault(),!e.isDefined(t.disabled)&&(!e.isDefined(u)||o.titles[u]&&o.tabs[u])&&(e.isDefined(u)&&(o.titles[u].selected=!1,o.tabs[u].selected=!1),t.selected=!0,o.tabs[t.index].selected=!0,this.name&&t.index!==u&&l.$broadcast("ui-tab-clicked."+this.name,this.titles[u],t),u=t.index,t.url&&!h&&n.path(t.url).search("innerTabRoute",null).replace())},this.addTab=function(t){t.index=b++,o.tabs.push(t)},this.addTitle=function(t){t.index=d++,o.titles.push(t),t.name!==f||m||-1===Number(this.selectedIndex)||(u=t.index,m=!0)},this.$postLink=function(){var t=s(function(){e.isDefined(u)&&o.selectTab(o.titles[u]),h=!1,s.cancel(t)},50)},a.$on("ui-tab-set",c),a.$on("ui-tab-set-by-name",function(t,e){if(e){var n=i.findWhere(o.titles,{name:e});n&&c(t,n.index)}})}var c=t("infrastruct.ui.tabs",["ngSanitize",l]);return r.$inject=["$routeParams","$location","$timeout","$scope","$rootScope","$route"],c.component("tabs",{transclude:{titlesSlot:"tabstitles",contentSlot:"tabscontent",tabsBeforeSlot:"?tabsbefore",tabsAfterSlot:"?tabsafter",tabsNotSelected:"?tabsnotselected"},bindings:{selectedIndex:"@",name:"@",navClassExp:"="},controller:r,templateUrl:n.name}),c.component("tab",{transclude:!0,require:{tabsCtrl:"^tabs"},controller:function(){this.$onInit=function(){this.tabsCtrl.addTab(this)}},templateUrl:s.name}),c.component("tabtitle",{transclude:!0,require:{tabsCtrl:"^^tabs"},bindings:{disabled:"<",url:"@",name:"@",className:"@"},controller:function(){this.$onInit=function(){this.tabsCtrl.addTitle(this)}},templateUrl:a.name}),c});define(rA[34][0] , [rA[222][0]],function(f){var o={"name":"/etoro/infrastruct/ui/uiTabs/views/tabWrapper.view.html","text":"<div  ng-class=\"$ctrl.navClassExp\">    <div ng-transclude=\"tabsBeforeSlot\"></div>    <div itemscope itemtype=\"http://www.schema.org/SiteNavigationElement\" ng-transclude=\"titlesSlot\"></div>    <div ng-transclude=\"tabsAfterSlot\"></div></div><div class=\"tab-content\" ng-transclude=\"tabsNotSelected\"></div><div class=\"tab-content pie\" ng-transclude=\"contentSlot\"></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[32][0] , [rA[222][0]],function(f){var o={"name":"/etoro/infrastruct/ui/uiTabs/views/tab.view.html","text":"<div class=\"tab-pane\"  ng-if=\"$ctrl.selected\"  ng-transclude=\"\" ng-class=\"{active:$ctrl.selected}\"></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[33][0] , [rA[222][0]],function(f){var o={"name":"/etoro/infrastruct/ui/uiTabs/views/tabTitle.view.html","text":"<a itemprop=\"url\" ng-href=\"{{$ctrl.url}}\" ng-click=\"$ctrl.tabsCtrl.selectTab($ctrl, $event)\">    <span itemprop=\"name\" ng-transclude=\"\" class=\"{{:: $ctrl.className}}\" ng-class=\"{active:$ctrl.selected}\"></span></a>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[179][0],["angular"],function(e){"use strict";var t=e.module("infrastruct.ui.clipboardCopy",[]);return t.directive("uiClipboardCopy",["$window",function(){return{restrict:"A",link:function(e,t,n){var o=n.uiClipboardCopy||"";t.on("click",function(){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=o,document.body.appendChild(e),e.select();try{{document.execCommand("copy")}}catch(t){}document.body.removeChild(e)})}}}]),t});define(rA[182][0],["angular"],function(e){"use strict";var r=e.module("infrastruct.ui.iframeOnload",[]);return r.directive("iframeOnload",["infrastruct.services.loader","$rootScope",function(e,r){var a;return{scope:{callBack:"&iframeOnload"},link:{pre:function(e,r,i){i.trackIframePerf&&(a=(new Date).getTime())},post:function(e,i,n){i.on("load",function(){if(n.trackIframePerf){var i=(new Date).getTime(),t=i-a,c={finishtime:t};logger.logJSON("info",n.trackIframePerf+" iFrame load time",c)}r.$evalAsync(function(){e.callBack()})})}},restrict:"A"}}]),r});define(rA[202][0],["angular","underscore"],function(n){"use strict";function t(n){return{restrict:"A",link:function(t,e,u){t.$watch(function(n){return n.$eval(u.uiComponentInclude)},function(u){e.html(u),n(e.contents())(t)})}}}var e=n.module("infrastruct.ui.componentInclude",[]);return t.$inject=["$compile","$parse"],e.directive("uiComponentInclude",t),e});define(rA[243][0],["angular","underscore",rA[204][0],rA[205][0]],function(e,t,i,l){"use strict";function s(i){function l(t,i,l,a){var n,o,r=document.createDocumentFragment(),u=document.createDocumentFragment();for(i=Math.min(t.length,i),o=0;i>o;o++)n=s(l,t[o]),-1!=n&&(r.appendChild(l[n]),u.appendChild(a[n]));return{hFrag:e.element(r),bFrag:e.element(u)}}function s(t,i){var l;for(l=0;t&&l<t.length;l++)if(e.element(t[l]).attr("name")===i)return l;return-1}return{scope:!0,controllerAs:"$ctrl",controller:a,compile:function(s,a){var n=e.element("<div></div>").append(s.children()),o=n.find("ui-table-head-slot ui-table-cell"),r=n.find("ui-table-body-slot ui-table-cell");return s.empty(),n.find("ui-table-head-slot").empty(),n.find("ui-table-body-slot").empty(),a.optionalFields=t.map(o,function(t){return e.element(t).attr("name")}).toString(),function(e,t){function s(){var s=e.$ctrl,d=l(s.currentFields,s.maxFields,o,r);a&&(a.$destroy(),a=null),u&&(u.remove(),u=null),u=n.clone(),a=e.$parent.$new(),u.find("ui-table-head-slot").append(d.hFrag.clone()),u.find("ui-table-body-slot").append(d.bFrag.clone()),t.html(i(u.contents())(a)),t.attr("cols",s.maxFields),d=null}var a,u;e.$ctrl.applyChanges=s,e.$ctrl.isReady=!0,e.$on("$destroy",function(){a=null,u=null}),s()}}}}function a(e,i,l,s,a,n,o,r){this.$rootScope=e,this.$scope=i,this.$attrs=s,this.$analytics=l,this.uiDialog=a,this.uiIfBreakpoint=n,this.localStorage=o,this.abTestingService=r,this.isReady=!1,this.tableId=s.uiTableId||"",this.defaultFields=t.uniq((s.defaultFields||"").replace(/\s*/g,"").split(",")),this.defaultMobileFields=t.uniq((this.shouldUseNewMobileCols()&&s.newMobileFields||s.defaultMobileFields||"").replace(/\s*/g,"").split(",")),this.optionalFields=t.uniq((s.optionalFields||"").replace(/\s*/g,"").split(",")),this.currentFields=this.getSavedFields(),this.shouldPersist="false"!==s.shouldPersist,this.maxFields=this.defaultFields.length,this.uiSortableOptions=s.uiSortableOptions||JSON.stringify({placeholder:"i-browse-main-categories-item",forcePlaceholderSize:!0,revert:100,containment:"parent",cursor:"ns-resize",axis:"y",handle:".i-browse-main-categories-item-parent-title"}),this.reportAbTest(),i.$on("app:ui:table:openEditDialog",this.openFieldsSelectionDialog.bind(this)),i.$watch(function(){return this.getMaxColumns(n.currentWidth)}.bind(this),this.changeFieldMax.bind(this))}var n=e.module("infrastruct.ui.table",[l.name]);return n.directive("uiTable",s),n.component("uiTableEditColumns",i),s.$inject=["$compile"],a.$inject=["$rootScope","$scope","$analytics","$attrs","uiDialog","infrastruct.ui.uiIfBreakpoint","infrastruct.services.localStorage","bl.factories.trading.infra.abTestingService"],a.prototype={getMaxColumns:function(e){return 480>=e?4:740>=e?5:1024>=e?6:1100>=e?6:1400>=e?7:9},resetFields:function(){this.sort(this.defaultFields)},sort:function(e){this.currentFields=e,this.applyChanges(),this.save(),this.$scope.$emit("app:ui:oldAngular:layoutViewChange")},changeFieldMax:function(e){e&&(this.maxFields=Math.min(this.currentFields.length,e),this.applyChanges())},openFieldsSelectionDialog:function(){this.isReady&&(this.uiDialog.open({template:'<ui-table-edit-columns origin-namespace="{{:: uiDialogData.namespace}}" max-fields="uiDialogData.maxFields" current-fields="uiDialogData.currentFields" default-fields="uiDialogData.defaultFields" optional-fields="uiDialogData.optionalFields" ui-sortable-options="uiDialogData.uiSortableOptions"on-update="uiDialogData.onUpdate(fields)" on-close="closeThisDialog()"></ui-table-edit-columns> ',plain:!0,data:{namespace:this.$attrs.uiTableNamespace||"missing attribute uiTableNamespace",maxFields:this.maxFields,currentFields:this.currentFields,defaultFields:this.uiIfBreakpoint.isMobile&&this.defaultMobileFields.length?this.defaultMobileFields:this.defaultFields,optionalFields:this.optionalFields,uiSortableOptions:this.uiSortableOptions,onUpdate:this.sort.bind(this)}}),this.$analytics.eventTrack("Customize Columns - Click",{Table:this.$attrs.uiTableNamespace}))},getSavedFields:function(){var t=this.localStorage.getItem("uiTable");return t&&t[this.tableId]&&this.isValidFields(t[this.tableId])?t[this.tableId]:this.uiIfBreakpoint.isMobile&&this.defaultMobileFields.length?(this.defaultMobileFields.length<this.defaultFields.length&&this.defaultMobileFields.push.apply(this.defaultMobileFields,this.optionalFields.filter(function(e){return this.defaultMobileFields.indexOf(e)<0}.bind(this)).slice(0,this.defaultFields.length-this.defaultMobileFields.length)),e.copy(this.defaultMobileFields)):e.copy(this.defaultFields)},save:function(){var e=this.localStorage.getItem("uiTable")||{};e[this.tableId]=this.currentFields,this.shouldPersist&&(this.localStorage.setItem("uiTable",e),"portfolioOverview"===this.$attrs.uiTableId&&(this.localStorage.removeItem("abColsData"),this.reportAbTest()))},isValidFields:function(e){var t=0;if(!e||e.length!=this.defaultFields.length)return!1;for(t=0;t<e.length;t++)if(-1===this.optionalFields.indexOf(e[t]))return!1;return!0},shouldUseNewMobileCols:function(){return"portfolioOverview"===this.$attrs.uiTableId&&this.uiIfBreakpoint.isMobile?0===this.abTestingService.getAbTestingConfig("portfolioColumns"):!1},reportAbTest:function(){if("portfolioOverview"===this.$attrs.uiTableId&&this.uiIfBreakpoint.isMobile){var e=this.$rootScope.session.user,t=0===this.abTestingService.getAbTestingConfig("portfolioColumns"),i=this.localStorage.getItem("abColsData");if(!i||i.shouldUse!==t||i.username!==e.username){this.localStorage.setItem("abColsData",{shouldUse:t,username:e.username});var l=this.currentFields;if(e&&l){var s={columns:{C1:l[0],C2:l[1],C3:l[2],C4:l[3]},version:t?"B":"A",user:{gcid:e.gcid,countryId:e.countryId,countryName:e.country.name}};this.$analytics.eventTrack("Customize Columns - Apply",s)}else this.$analytics.eventTrack("Customize Columns - Apply - Bad data error")}}}},n});define(rA[204][0],["angular",rA[31][0]],function(i,e){"use strict";function t(){var i=this;this.isDragging=!1,this.selectedField=null,this.fields=null,this.listSort={start:this.onDragStart.bind(this),stop:this.onDragStop.bind(this),get disabled(){return!!i.selectedField}}}return t.$inject=[],t.prototype={get displayedList(){return this.selectedField?this.diffFields:this.selectedFields},$onInit:function(){this._prepareView(this.currentFields)},reset:function(){this._prepareView(this.defaultFields)},discardChanges:function(){this.onClose()},apply:function(){this.onUpdate({fields:this.fields}),this.onClose()},back:function(){this.selectedField=null},select:function(i){return this.isDragging?void(this.isDragging=!1):void(0!==this.diffFields.length&&(this.selectedField?this.replaceWith(i):this.selectedField=i))},replaceWith:function(i){if(this.selectedField!==i){var e=i,t=this.selectedField,s=this.fields.indexOf(t),l=this.fields.indexOf(e);-1!=s&&(this.fields[s]=e,this.fields[l]=t)}this._prepareView(this.fields),this.selectedField=null},onDragStart:function(){this.isDragging=!0},onDragStop:function(){if(!this.selectedField)for(var i=0;i<this.selectedFields.length;i++)this.fields[i]=this.selectedFields[i]},_prepareView:function(e){this.fields=i.copy(e||[]),this.selectedFields=this.fields.slice(0,this.maxFields),this.diffFields=this.optionalFields.filter(function(i){return this.selectedFields.indexOf(i)<0}.bind(this))}},{bindings:{currentFields:"<",defaultFields:"<",maxFields:"<",optionalFields:"<",originNamespace:"@",uiSortableOptions:"<",onClose:"&",onUpdate:"&"},templateUrl:e.name,controller:t}});define(rA[31][0] , [rA[222][0]],function(f){var o={"name":"/etoro/infrastruct/ui/table/editColumns/editColumns.view.html","text":"<div data-etoro-automation-id=\"customize-columns-dialog\"     class=\"w-browse table-sort\" data-etoro-locale-ns=\"uiTable\">    <div data-etoro-automation-id=\"customize-columns-top-header-container\"         class=\"w-browse-head -head-grad\">        <div data-etoro-automation-id=\"customize-columns-top-header-title\"             class=\"w-browse-head-title\">            {{_title_}}        </div>        <div class=\"w-head-buttons-ph\">            <a data-etoro-automation-id=\"customize-columns-top-header-close-button\"               ng-click=\"$ctrl.discardChanges()\" class=\"i-head-button sprite close pointer\"></a>            <a data-etoro-automation-id=\"customize-columns-top-header-back-button\"               ng-click=\"$ctrl.back()\" ng-if=\"$ctrl.selectedField\" class=\"i-head-button sprite back\"></a>            <a data-etoro-automation-id=\"customize-columns-top-header-reset-button\"               ng-click=\"$ctrl.reset(true)\" ng-if=\"!$ctrl.selectedField\" class=\"w-head-button-reset\">{{$root.t.dynamic('discoveryFilters', 'reset')}}</a>        </div>    </div>    <div class=\"w-browse-main\">        <div data-etoro-automation-id=\"customize-columns-content-container\"             class=\"w-browse-main-categories\" ng-class=\"{'sortable': !$ctrl.selectedField, 'replaceable': !$ctrl.selectedField && !!$ctrl.diffFields.length}\">            <div data-etoro-automation-id=\"customize-columns-content-title-not-selected\"                 class=\"filter-category-title\" style=\"text-transform: none\" ng-if=\"!$ctrl.selectedField\">{{_description_}}</div>            <div data-etoro-automation-id=\"customize-columns-content-title-selected\"                 class=\"filter-category-title\" style=\"text-transform: none\" ng-if=\"$ctrl.selectedField\">{{::$root.t.dynamic(\"uiTable\", \"changeDescription\", {column: $root.t.dynamic($ctrl.originNamespace, $ctrl.selectedField)})}}</div>            <div ng-model=\"$ctrl.selectedFields\" data-ui-sortable=\"$ctrl.listSort\" data-ui-sortable-options=\"{{$ctrl.uiSortableOptions}}\">                <div data-etoro-automation-id=\"customize-columns-content-row-{{:: col}}\"                     class=\"i-browse-main-categories-item\" ng-repeat=\"col in $ctrl.displayedList\" ng-click=\"$ctrl.select(col)\">                    <span class=\"sprite dots\"></span>                    <div class=\"i-browse-main-categories-item-parent\">                        <div class=\"i-browse-main-categories-item-parent-title\">{{:: $root.t.dynamic($ctrl.originNamespace, col)}}</div>                        <div ng-if=\"!!$ctrl.selectedField == false\" class=\"replace-btn\">                            <span class=\"sprite\"></span>                        </div>                    </div>                </div>            </div>        </div>        <a automation-id=\"ui-table-edit-columns-customize-columns-btn-apply\" class=\"filter-action-btn\" ng-click=\"$ctrl.apply()\">{{$root.t.dynamic('discoveryFilters', 'apply')}}</a>    </div></div>"};f.replaceStaticIncludes(o, [].splice.call(arguments,1));f.put(o);return o});define(rA[143][0],["moduleDefiner",rA[183][0]],function(t,e){"use strict";var i=t("infrastruct.ui.mobileInputType",[e]);return i.directive("mobileInputType",["TOUCHSUPPORTED",function(t){return{require:"ngModel",restrict:"A",link:{pre:function(e,i,r){i.attr("type",t?r.mobileInputType:"text")}}}}]),i});define(rA[229][0],["angular","underscore",rA[183][0]],function(e,t,i){"use strict";function s(){this.subscribers={}}function r(e,i,s,r,c){this.$element=i,this.$timeout=s,this.reactToScrollService=r,this.scrollEvents=e?["touchstart","touchmove","touchend","touchcancel","scroll"]:["scroll"],this.TOUCHSUPPORTED=e,this._windowResizeFn=t.debounce(this._windowResize.bind(this),400),window.addEventListener("resize",this._windowResizeFn),this.addEvent(this.$element,this.onScroll.bind(this)),this._routeChangeListener=c.$on("$routeChangeSuccess",this._routeChange.bind(this)),this._viewKeeperChangeSuccessListener=c.$on("viewKeeperChangeSuccess",this._routeChange.bind(this))}function c(i){return{restrict:"AE",link:function(s,r,c){var n=e.isDefined(c.activeClassName)?c.activeClassName:"",o=t.uniqueId("reactToScroll");n&&(i.subscribe({el:r,id:o,event:function(e){e?r.addClass(n):r.removeClass(n)}}),s.$on("$destroy",function(){i.unsubscribe(o)}))}}}var n=e.module("infrastruct.ui.reactToScroll",[i.name]);return s.prototype={subscribe:function(e){return e&&e.el?(this.subscribers[e.id]&&this.unsubscribe(e.id),this.subscribers[e.id]=e,this.subscribers[e.id]):void 0},unsubscribe:function(e){this.subscribers[e]&&(this.subscribers[e].event&&this.subscribers[e].event(!1),delete this.subscribers[e])},unsubscribeAll:function(){t.each(this.subscribers,function(e){this.unsubscribe(e.id)},this)},broadcast:function(e){t.each(this.subscribers,function(t){t.event&&t.event(e)})}},r.$inject=["TOUCHSUPPORTED","$element","$timeout","infrastruct.ui.reactToScroll.service","$rootScope"],r.prototype={link:function(t,i,s,r){r._scrollTrigger=e.isDefined(s.activateOnScroll)?Number(s.activateOnScroll):100,r._staticOffset=e.isDefined(s.staticOffset)?Number(s.staticOffset):0,r.activeClassName=e.isDefined(s.activeClassName)?s.activeClassName:"",r.onScrollFn=r.onScroll.bind(r),r.addEvent(r.$element,r.onScrollFn),r.isActive=!0,r.onScrollFn(),t.$on("$destroy",function(){r.removeEvent(r.$element,r.onScrollFn),window.removeEventListener("resize",r._windowResizeFn),r._routeChangeListener&&r._routeChangeListener(),r._viewKeeperChangeSuccessListener&&r._viewKeeperChangeSuccessListener()})},addEvent:function(t,i){if(t){var s=e.element(t).get(0);e.forEach(this.scrollEvents,function(e){s.addEventListener(e,i,!1)})}},removeEvent:function(t,i){if(t){var s=e.element(t).get(0);e.forEach(this.scrollEvents,function(e){s.removeEventListener(e,i,!1)})}},onScroll:function(e){var t=this.$element.get(0),i=t.scrollTop||0,s=t.scrollHeight-(this._staticOffset+t.offsetHeight+this._scrollTrigger+10);this.TOUCHSUPPORTED&&e?"touchstart"===e.type?this._currectTouchScrollPosition=i:(this._tempTimer&&clearTimeout(this._tempTimer),this._tempTimer=setTimeout(function(){i=t.scrollTop||0,0===i&&this.isActive?this._reactToScroll(!1):!this.isActive&&i>0&&i>this._currectTouchScrollPosition&&s>this._scrollTrigger&&this._reactToScroll(!0)}.bind(this),10)):i>0&&(i>this._scrollTrigger&&s>this._scrollTrigger||this.isActive&&i>s)?this.isActive||this._reactToScroll(!0):(this.isActive||0>s)&&this._reactToScroll(!1)},_windowResize:function(){this.onScroll()},_routeChange:function(){this._routeChangeTimeout&&this.$timeout.cancel(this._routeChangeTimeout),this._routeChangeTimeout=this.$timeout(function(){this.onScroll()}.bind(this),100)},_reactToScroll:function(e){this.isActive=e,this.activeClassName&&this.$element.removeClass(this.activeClassName),this.reactToScrollService.broadcast(this.isActive)}},c.$inject=["infrastruct.ui.reactToScroll.service"],n.service("infrastruct.ui.reactToScroll.service",s),n.directive("reactToScroll",c),n.directive("reactToScrollContainer",function(){return{controller:r,link:r.prototype.link,restrict:"A"}}),n});define(rA[253][0],["angular","underscore",rA[183][0],rA[252][0],rA[88][0],rA[231][0],rA[230][0]],function(i,e,t,r,u,n,c){var s=i.module("infrastruct.ui.swipeActions",[t.name,r.name]);return s.directive("uiSwipeActions",c),s.directive("uiSwipe",n),s});!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(h(t,n),e)}function s(t,e,n){return Array.isArray(t)?(o(t,n[e],n),!0):!1}function o(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,r,i),e.apply(this,arguments)}}function u(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&le(i,n)}function h(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==de?t.apply(e?e[0]||i:i,e):t}function l(t,e){return t===i?e:t}function p(t,e,n){o(m(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){o(m(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function y(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];g(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function E(t,e){for(var n,r,s=e[0].toUpperCase()+e.slice(1),o=0;o<pe.length;){if(n=pe[o],r=n?n+s:e,r in t)return r;o++}return i}function I(){return Ee++}function A(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&n.handler(e)},this.init()}function b(t){var e,n=t.options.inputClass;return new(e=n?n:_e?F:be?k:Ae?L:Y)(t,C)}function C(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=e&we&&i-r===0,o=e&(Re|Me)&&i-r===0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,S(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function S(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=x(e)),r>1&&!n.firstMultiple?n.firstMultiple=x(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,u=e.center=w(i);e.timeStamp=ge(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=z(a,u),e.distance=M(a,u),P(n,e),e.offsetDirection=R(e.deltaX,e.deltaY);var h=O(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=me(h.x)>me(h.y)?h.x:h.y,e.scale=o?X(o.pointers,i):1,e.rotation=o?N(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,D(n,e);var c=t.element;d(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function P(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==we&&s.eventType!==Re||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function D(t,e){var n,r,s,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Me&&(u>xe||a.velocity===i)){var h=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=O(u,h,c);r=l.x,s=l.y,n=me(l.x)>me(l.y)?l.x:l.y,o=R(h,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=s,e.direction=o}function x(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:ve(t.pointers[n].clientX),clientY:ve(t.pointers[n].clientY)},n++;return{timeStamp:ge(),pointers:e,center:w(e),deltaX:t.deltaX,deltaY:t.deltaY}}function w(t){var e=t.length;if(1===e)return{x:ve(t[0].clientX),y:ve(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:ve(n/e),y:ve(i/e)}}function O(t,e,n){return{x:e/t||0,y:n/t||0}}function R(t,e){return t===e?ze:me(t)>=me(e)?0>t?Ne:Xe:0>e?Ye:Fe}function M(t,e,n){n||(n=He);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function z(t,e,n){n||(n=He);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(t,e){return z(e[1],e[0],Le)+z(t[1],t[0],Le)}function X(t,e){return M(e[0],e[1],Le)/M(t[0],t[1],Le)}function Y(){this.evEl=Ve,this.evWin=je,this.pressed=!1,_.apply(this,arguments)}function F(){this.evEl=Be,this.evWin=$e,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=Ke,this.evWin=Qe,this.started=!1,_.apply(this,arguments)}function q(t,e){var n=T(t.touches),i=T(t.changedTouches);return e&(Re|Me)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function k(){this.evTarget=en,this.targetIds={},_.apply(this,arguments)}function H(t,e){var n=T(t.touches),i=this.targetIds;if(e&(we|Oe)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=T(t.changedTouches),a=[],u=this.target;if(s=n.filter(function(t){return d(t.target,u)}),e===we)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),e&(Re|Me)&&delete i[o[r].identifier],r++;return a.length?[y(s.concat(a),"identifier",!0),a]:void 0}function L(){_.apply(this,arguments);var t=h(this.handler,this);this.touch=new k(this.manager,t),this.mouse=new Y(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function U(t,e){t&we?(this.primaryTouch=e.changedPointers[0].identifier,V.call(this,e)):t&(Re|Me)&&V.call(this,e)}function V(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,nn)}}function j(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(e-r.x),o=Math.abs(n-r.y);if(rn>=s&&rn>=o)return!0}return!1}function G(t,e){this.manager=t,this.set(e)}function Z(t){if(v(t,cn))return cn;var e=v(t,ln),n=v(t,pn);return e&&n?cn:e||n?e?ln:pn:v(t,hn)?hn:un}function B(){if(!on)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=n?t.CSS.supports("touch-action",i):!0}),e}function $(t){this.options=le({},this.defaults,t||{}),this.id=I(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=dn,this.simultaneous={},this.requireFail=[]}function J(t){return t&yn?"cancel":t&gn?"end":t&mn?"move":t&vn?"start":""}function K(t){return t==Fe?"down":t==Ye?"up":t==Ne?"left":t==Xe?"right":""}function Q(t,e){var n=e.manager;return n?n.get(t):t}function te(){$.apply(this,arguments)}function ee(){te.apply(this,arguments),this.pX=null,this.pY=null}function ne(){te.apply(this,arguments)}function ie(){$.apply(this,arguments),this._timer=null,this._input=null}function re(){te.apply(this,arguments)}function se(){te.apply(this,arguments)}function oe(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(t,e){return e=e||{},e.recognizers=l(e.recognizers,ae.defaults.preset),new ue(t,e)}function ue(t,e){this.options=le({},ae.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=b(this),this.touchAction=new G(this,this.options.touchAction),he(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function he(t,e){var n=t.element;if(n.style){var i;o(t.options.cssProps,function(r,s){i=E(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function ce(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var le,pe=["","webkit","Moz","MS","ms","o"],fe=e.createElement("div"),de="function",ve=Math.round,me=Math.abs,ge=Date.now;le="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}:Object.assign;var Te=a(function(t,e,n){for(var r=Object.keys(e),s=0;s<r.length;)(!n||n&&t[r[s]]===i)&&(t[r[s]]=e[r[s]]),s++;return t},"extend","Use `assign`."),ye=a(function(t,e){return Te(t,e,!0)},"merge","Use `assign`."),Ee=1,Ie=/mobile|tablet|ip(ad|hone|od)|android/i,Ae="ontouchstart"in t,_e=E(t,"PointerEvent")!==i,be=Ae&&Ie.test(navigator.userAgent),Ce="touch",Se="pen",Pe="mouse",De="kinect",xe=25,we=1,Oe=2,Re=4,Me=8,ze=1,Ne=2,Xe=4,Ye=8,Fe=16,We=Ne|Xe,qe=Ye|Fe,ke=We|qe,He=["x","y"],Le=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(A(this.element),this.evWin,this.domHandler)}};var Ue={mousedown:we,mousemove:Oe,mouseup:Re},Ve="mousedown",je="mousemove mouseup";u(Y,_,{handler:function(t){var e=Ue[t.type];e&we&&0===t.button&&(this.pressed=!0),e&Oe&&1!==t.which&&(e=Re),this.pressed&&(e&Re&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Pe,srcEvent:t}))}});var Ge={pointerdown:we,pointermove:Oe,pointerup:Re,pointercancel:Me,pointerout:Me},Ze={2:Ce,3:Se,4:Pe,5:De},Be="pointerdown",$e="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Be="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),u(F,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Ge[i],s=Ze[t.pointerType]||t.pointerType,o=s==Ce,a=g(e,t.pointerId,"pointerId");r&we&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):r&(Re|Me)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var Je={touchstart:we,touchmove:Oe,touchend:Re,touchcancel:Me},Ke="touchstart",Qe="touchstart touchmove touchend touchcancel";u(W,_,{handler:function(t){var e=Je[t.type];if(e===we&&(this.started=!0),this.started){var n=q.call(this,t,e);e&(Re|Me)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:t})}}});var tn={touchstart:we,touchmove:Oe,touchend:Re,touchcancel:Me},en="touchstart touchmove touchend touchcancel";u(k,_,{handler:function(t){var e=tn[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:t})}});var nn=2500,rn=25;u(L,_,{handler:function(t,e,n){var i=n.pointerType==Ce,r=n.pointerType==Pe;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)U.call(this,e,n);else if(r&&j.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var sn=E(fe.style,"touchAction"),on=sn!==i,an="compute",un="auto",hn="manipulation",cn="none",ln="pan-x",pn="pan-y",fn=B();G.prototype={set:function(t){t==an&&(t=this.compute()),on&&this.manager.element.style&&fn[t]&&(this.manager.element.style[sn]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=v(i,cn)&&!fn[cn],s=v(i,pn)&&!fn[pn],o=v(i,ln)&&!fn[ln];if(r){var a=1===t.pointers.length,u=t.distance<2,h=t.deltaTime<250;if(a&&u&&h)return}return o&&s?void 0:r||s&&n&We||o&&n&qe?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var dn=1,vn=2,mn=4,gn=8,Tn=gn,yn=16,En=32;$.prototype={defaults:{},set:function(t){return le(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Q(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=Q(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=Q(t,this),-1===g(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=Q(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;gn>i&&e(n.options.event+J(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=gn&&e(n.options.event+J(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=En)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(En|dn)))return!1;t++}return!0},recognize:function(t){var e=le({},t);return c(this.options.enable,[this,e])?(this.state&(Tn|yn|En)&&(this.state=dn),this.state=this.process(e),void(this.state&(vn|mn|gn|yn)&&this.tryEmit(e))):(this.reset(),void(this.state=En))},process:function(){},getTouchAction:function(){},reset:function(){}},u(te,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(vn|mn),r=this.attrTest(t);return i&&(n&Me||!r)?e|yn:i||r?n&Re?e|gn:e&vn?e|mn:vn:En}}),u(ee,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:ke},getTouchAction:function(){var t=this.options.direction,e=[];return t&We&&e.push(pn),t&qe&&e.push(ln),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&We?(r=0===s?ze:0>s?Ne:Xe,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?ze:0>o?Ye:Fe,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return te.prototype.attrTest.call(this,t)&&(this.state&vn||!(this.state&vn)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=K(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(ne,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[cn]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&vn)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(ie,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[un]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Re|Me)&&!s)this.reset();else if(t.eventType&we)this.reset(),this._timer=r(function(){this.state=Tn,this.tryEmit()},e.time,this);else if(t.eventType&Re)return Tn;return En},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Tn&&(t&&t.eventType&Re?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),u(re,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[cn]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&vn)}}),u(se,te,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:We|qe,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(We|qe)?e=t.overallVelocity:n&We?e=t.overallVelocityX:n&qe&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&me(e)>this.options.velocity&&t.eventType&Re},emit:function(t){var e=K(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(oe,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[hn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&we&&0===this.count)return this.failTimeout();if(i&&s&&n){if(t.eventType!=Re)return this.failTimeout();var o=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||M(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=r(function(){this.state=Tn,this.tryEmit()},e.interval,this),vn):Tn}return En},failTimeout:function(){return this._timer=r(function(){this.state=En},this.options.interval,this),En},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Tn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.8",ae.defaults={domEvents:!1,touchAction:an,enable:!0,inputTarget:null,inputClass:null,preset:[[re,{enable:!1}],[ne,{enable:!1},["rotate"]],[se,{direction:We}],[ee,{direction:We},["swipe"]],[oe],[oe,{event:"doubletap",taps:2},["tap"]],[ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var In=1,An=2;ue.prototype={set:function(t){return le(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?An:In},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Tn)&&(r=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],e.stopped===An||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(vn|mn|gn)&&(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=g(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return o(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return o(m(t),function(t){e?n[t]&&n[t].splice(g(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ce(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&he(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},le(ae,{INPUT_START:we,INPUT_MOVE:Oe,INPUT_END:Re,INPUT_CANCEL:Me,STATE_POSSIBLE:dn,STATE_BEGAN:vn,STATE_CHANGED:mn,STATE_ENDED:gn,STATE_RECOGNIZED:Tn,STATE_CANCELLED:yn,STATE_FAILED:En,DIRECTION_NONE:ze,DIRECTION_LEFT:Ne,DIRECTION_RIGHT:Xe,DIRECTION_UP:Ye,DIRECTION_DOWN:Fe,DIRECTION_HORIZONTAL:We,DIRECTION_VERTICAL:qe,DIRECTION_ALL:ke,Manager:ue,Input:_,TouchAction:G,TouchInput:k,MouseInput:Y,PointerEventInput:F,TouchMouseInput:L,SingleTouchInput:W,Recognizer:$,AttrRecognizer:te,Tap:oe,Pan:ee,Swipe:se,Pinch:ne,Rotate:re,Press:ie,on:p,off:f,each:o,merge:ye,extend:Te,assign:le,inherit:u,bindFn:h,prefixed:E});var _n="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};_n.Hammer=ae,"function"==typeof define&&define.amd?define(rA[88][0],[],function(){return ae}):"undefined"!=typeof module&&module.exports?module.exports=ae:t[n]=ae}(window,document,"Hammer");define(rA[231][0],["angular","underscore",rA[88][0]],function(e,n,i){"use strict";function t(t,a,o){function s(n,i){var t=e.element(i).data("swipeId");if(t)return{el:e.element(i),id:t};for(var r=i.parentNode;null!==r&&!(t=e.element(r).data("swipeId"))&&r!==n[0];){var a=r;r=a.parentNode}return{el:r?e.element(r):null,id:t}}return r=function(){return!t||o.innerWidth>740||a.userAgent.browser&&"Mobile Safari"===a.userAgent.browser.name&&"iOS"===a.userAgent.os.name&&!a.dynamics.isWrapper?!1:!0}(),{restrict:"A",controller:["$element","$scope",function(e,t){var r={};this.register=function(e,n){r[e]=n},this.unregister=function(e){delete r[e]},this._hammerManager=new i.Manager(e[0],{domEvents:!0,touchAction:"pan-y"});var a={threshold:50};this._hammerManager.add(new i.Pan(a)),this._hammerManager.add(new i.Swipe(n.extend({},a,{velocity:30}))).recognizeWith(this._hammerManager.get("pan"));var o;this._hammerManager.on("panstart",function(n){if(-1===["panup","pandown","swipeup","swipedown"].indexOf(n.additionalEvent)&&0!==Math.abs(n.velocityX)){var i=s(e,n.target);i&&o&&o!==r[i.id]&&o.uiSwipeActions.resetPosition(),o=void 0,i.el&&r[i.id]&&(o=r[i.id]),o&&o.uiSwipeActions.handleMoveStart(n)}}),this._hammerManager.on("panleft panright",function(e){o&&o.uiSwipeActions.handleMove(e)}),this._hammerManager.on("swipe panend pancancel",function(e){o&&o.uiSwipeActions.handleMoveEnd(e)}),t.$on("$destroy",function(){n.each(r,function(e){e.uiSwipeActions.destroy()})})}]}}var r=!1;return t.$inject=["TOUCHSUPPORTED","infrastruct.services.config","$window"],t});define(rA[230][0],["angular","underscore",rA[146][0]],function(i,e,n){"use strict";function t(t,u,r,s,c){var o=function(){return!t||c.innerWidth>740||s.userAgent.browser&&"Mobile Safari"===s.userAgent.browser.name&&"iOS"===s.userAgent.os.name&&!s.dynamics.isWrapper?!1:!0}();return{restrict:"AE",require:"^uiSwipe",link:function(t,s,c,f){if(o){var w,a=e.uniqueId("uiSwipe_"),p=r(function(){var e=s.find(c.uiSwipeMenuRight),r=s.find(c.uiSwipeMenuLeft),o=s.find(c.uiSwipeActions),p=i.isDefined(c.uiSwipeSwiperightAction)?u(c.uiSwipeSwiperightAction):null,d=i.isDefined(c.uiSwipeSwipeleftAction)?u(c.uiSwipeSwipeleftAction):null;if((0!==e.length||0!==r.length)&&0!==o.length){if(p)var S=function(){p(t)};if(d)var l=function(){d(t)};o.data("swipeId",a),w=new n(o,r,e,S,l),f.register(a,{uiSwipeActions:w}),i.isDefined(c.uiSwipeIsDisabled)&&("true"===c.uiSwipeIsDisabled&&w.setTouchMode(!1),c.$observe("uiSwipeIsDisabled",function(i){w.setTouchMode("true"===i?!1:!0)}))}},100,!1);t.$on("$destroy",function(){w&&w.destroy(),f.unregister(a),p&&r.cancel(p)})}}}}return t.$inject=["TOUCHSUPPORTED","$parse","$timeout","infrastruct.services.config","$window"],t});define(rA[146][0],["underscore",rA[88][0]],function(t,i){"use strict";function s(t,i,s,n,e){this._isTouchEnabled=!0,this.draggableEl=t,this.leftActionsEl=i,this.rightActionsEl=s,this.rightwipeCallBack=n,this.leftSwipeCallBack=e,this._leftActionsElWidth=i.width(),this._rightActionsElWidth=s.width(),this._leftActions=i.find(".swipe-action-button"),this._rightActions=s.find(".swipe-action-button"),this._resetPositionEvent=this.resetPosition.bind(this),this.leftActionsEl.get(0)&&this.leftActionsEl.get(0).addEventListener("click",this._resetPositionEvent,!0),this.rightActionsEl.get(0)&&this.rightActionsEl.get(0).addEventListener("click",this._resetPositionEvent,!0),this._leftActionsCount=this._leftActions.length,this._rightActionsCount=this._rightActions.length,this._leftActionsBgEl=this._addBgElement(this.leftActionsEl,this._leftActions,"left"),this._rightActionsBgEl=this._addBgElement(this.rightActionsEl,this._rightActions,"right"),this._originalTransition=null,this._hammerManager=null,this._initx=0,this._isScrolling=!1,this._dragWeight=1.5,this._revealPercent=5,this._onTransitionEndEvents=[]}return s.prototype={applyTransform:function(t,i,s,n){var e={transform:null===i?"none":"translateX("+i+"px)"};s&&(e.transition=s),t.css(e),n&&this._addTransitionEndListener(t,n)},hide:function(t){return t.css("opacity","0"),t},show:function(t){return t.css("opacity","1"),t},destroy:function(){this._hammerManager&&this._hammerManager.destroy(),this._removeAllTransitionListeners(),this.leftActionsEl.get(0)&&this.leftActionsEl.get(0).removeEventListener("click",this._resetPositionEvent,!0),this.rightActionsEl.get(0)&&this.rightActionsEl.get(0).removeEventListener("click",this._resetPositionEvent,!0)},setTouchMode:function(t){this._isTouchEnabled=t},resetPosition:function(t,i,s,n,e){console.log("resetPosition",i);var o=this;(this._rightActionsVisible||this._leftActionsVisible||n)&&(i=i||(this._rightActionsVisible?this.rightActionsEl:this.leftActionsEl),s=s||(this._rightActionsVisible?this._rightActionsElWidth:this._leftActionsElWidth),e=e||(this._rightActionsVisible?this._rightActionsBgEl:this._leftActionsBgEl),this._leftActionsVisible=!1,this._rightActionsVisible=!1,this.applyTransform(this.draggableEl,null,this._originalTransition,function(){i.width(s),o.applyTransform(e,null),o.hide(o.leftActionsEl),o.hide(o.rightActionsEl)}),this._initx=0)},handleMoveStart:function(t){console.log("panstart",t),this._isTouchEnabled&&(-1!==["panup","pandown","swipeup","swipedown"].indexOf(t.additionalEvent)||0===Math.abs(t.velocityX)?(this._isScrolling=!0,this.resetPosition(t)):(this._preventDefault(t),this.hide(this._leftActionsBgEl),this.hide(this._rightActionsBgEl),this.show(this.leftActionsEl),this.show(this.leftActionsEl),this._originalTransition=this.draggableEl.css("transition"),this.draggableEl.css({transition:"none"})))},handleMove:function(t){if(!this._isScrolling&&this._isTouchEnabled){this._preventDefault(t);var s=this._initx+t.deltaX/this._dragWeight,n=this._getDirection(t);n===i.DIRECTION_LEFT&&0===this._rightActionsCount&&0>=s||n===i.DIRECTION_RIGHT&&0===this._leftActionsCount&&s>=0||(this.applyTransform(this.draggableEl,s),n===i.DIRECTION_LEFT&&this._rightActionsCount>0?0>s?(this.show(this.rightActionsEl),this.hide(this.leftActionsEl),Math.abs(s)>=this._rightActionsElWidth&&(this.show(this._rightActionsBgEl),this._rightActionsBgEl.css("transform","scaleX("+Math.abs(s)+")"))):this.hide(this._rightActionsBgEl):n===i.DIRECTION_RIGHT&&this._leftActionsCount>0&&(s>0?(this.show(this.leftActionsEl),this.hide(this.rightActionsEl),Math.abs(s)>=this._leftActionsElWidth&&(this.show(this._leftActionsBgEl),this._leftActionsBgEl.css("transform","scaleX("+Math.abs(s)+")"))):this.hide(this._leftActionsBgEl)))}},handleMoveEnd:function(t){console.log("end",t);var s=this;if(this._isTouchEnabled){this._preventDefault(t),this._isScrolling=!1;var n=this._getDirection(t),e=this.draggableEl.position().left,o=Math.abs(t.velocityX)>=.3&&(Math.abs(t.delataX)>150||Math.abs(t.delataY)>150);this._rightActionsVisible=!1,this._leftActionsVisible=!1,n===i.DIRECTION_LEFT&&this._rightActionsCount>0&&0>=e&&Math.abs(e)>=this._rightActionsElWidth*this._revealPercent/100?(this._rightActionsVisible=!0,this._leftActionsVisible=!1,this._validatePosition(t,n,e,o)):n===i.DIRECTION_RIGHT&&this._leftActionsCount>0&&Math.abs(e)>=this._leftActionsElWidth*this._revealPercent/100?(this._rightActionsVisible=!1,this._leftActionsVisible=!0,this._validatePosition(t,n,e,o)):(this.applyTransform(this.draggableEl,null,this._originalTransition,function(){s.rightActionsEl.width(s._rightActionsElWidth),s.leftActionsEl.width(s._leftActionsElWidth),s.applyTransform(this._rightActionsBgEl,null),s.applyTransform(this._leftActionsBgEl,null),s.hide(s.leftActionsEl),s.hide(s.rightActionsEl)}),this._initx=0)}},_validatePosition:function(t,s,n,e){var o=this._rightActionsCount,h=this.rightActionsEl,l=this._rightActionsElWidth,r=this._rightActionsBgEl,a=-1*this._rightActionsElWidth,c=this.leftSwipeCallBack,g=0>=n&&Math.abs(n)>=l&&!this._leftActionsVisible;s===i.DIRECTION_RIGHT&&(o=this._leftActionsCount,h=this.leftActionsEl,l=this._leftActionsElWidth,r=this._leftActionsBgEl,a=this._leftActionsElWidth,c=this.rightwipeCallBack,g=Math.abs(n)>=l&&!this._rightActionsVisible),e&&1===o&&c&&g||1===o&&c&&window.screen.width/2<=Math.abs(n)?(console.log("swipe"),c(),this.resetPosition(t,h,l,e,r)):e&&!g?this._validatePosition(t,s,n):(this.applyTransform(this.draggableEl,a,this._originalTransition,function(){h.width(l),this.applyTransform(r,null)}.bind(this)),this._initx=a)},_addTransitionEndListener:function(i,s){function n(t){s.call(e,t),e._removeTransitionListener(i,n)}var e=this,o=this._getSupportedTransition(i),h=t.find(this._onTransitionEndEvents,function(t){return t.event===s&&t.el===i});h||(o&&i[0].addEventListener(o,n),this._onTransitionEndEvents.push({el:i,name:o,event:n}))},_removeAllTransitionListeners:function(){this._onTransitionEndEvents.forEach(function(t){t.el&&t.el[0].removeEventListener(t.name,t.event)})},_removeTransitionListener:function(i,s){var n=t.findIndex(this._onTransitionEndEvents,function(t){return t.event===s&&t.el===i});if(-1!==n){var e=this._onTransitionEndEvents[n];e.el[0].removeEventListener(e.name,e.event),this._onTransitionEndEvents.splice(n,1)}},_getSupportedTransition:function(t){var i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var s in i)if(void 0!==t[0].style[s])return i[s]},_getDirection:function(t){return t.deltaX?t.offsetDirection:i.DIRECTION_NONE},_addBgElement:function(t,i,s){var n=document.createElement("DIV");return 0===i.length?angular.element(n):(n.style.backgroundColor=i.last().css("background-color"),n.style.transformOrigin="left"===s?"left":"right",n.className="bg-item",t.append(n),angular.element(n))},_preventDefault:function(t){t&&(t.preventDefault(),t.srcEvent&&t.srcEvent.preventDefault&&t.srcEvent.preventDefault(),t.srcEvent&&t.srcEvent.stopPropagation&&t.srcEvent.stopPropagation(),t.srcEvent&&t.srcEvent.stopImmediatePropagation&&t.srcEvent.stopImmediatePropagation())}},s});define(rA[136][0],["moduleDefiner"],function(e){"use strict";var t=e("infrastruct.ui.clickOutside");return t.directive("clickOutside",["$timeout",function(e){function t(e){c.forEach(function(t){$(e.target).closest(t.el).length||t.scope.clickOutside()})}function n(e,n){c.push({scope:e,el:n}),1==c.length&&document.addEventListener("click",t)}function i(e){var n=c.findIndex(function(t){return t.el===e});-1!==n&&c.splice(n,1),0==c.length&&document.removeEventListener("click",t)}var c=[];return{link:function(t,c){e(function(){n(t,c)}),t.$on("$destroy",function(){i(c)})},restrict:"A",scope:{clickOutside:"&"}}}]),t});;try{
requirejs.s.contexts.etoro.takeGlobalQueue();}catch(e){}})();